function n3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var K2={exports:{}},Ph={},Q2={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),i3=Symbol.for("react.portal"),s3=Symbol.for("react.fragment"),o3=Symbol.for("react.strict_mode"),a3=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),u3=Symbol.for("react.context"),c3=Symbol.for("react.forward_ref"),d3=Symbol.for("react.suspense"),h3=Symbol.for("react.memo"),f3=Symbol.for("react.lazy"),n_=Symbol.iterator;function p3(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var X2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,J2={};function Va(t,e,n){this.props=t,this.context=e,this.refs=J2,this.updater=n||X2}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eE(){}eE.prototype=Va.prototype;function Wg(t,e,n){this.props=t,this.context=e,this.refs=J2,this.updater=n||X2}var Yg=Wg.prototype=new eE;Yg.constructor=Wg;Z2(Yg,Va.prototype);Yg.isPureReactComponent=!0;var r_=Array.isArray,tE=Object.prototype.hasOwnProperty,Gg={current:null},nE={key:!0,ref:!0,__self:!0,__source:!0};function rE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tE.call(e,r)&&!nE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Du,type:t,key:s,ref:o,props:i,_owner:Gg.current}}function m3(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function g3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i_=/\/+/g;function c0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?g3(""+t.key):e.toString(36)}function id(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Du:case i3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+c0(o,0):r,r_(i)?(n="",t!=null&&(n=t.replace(i_,"$&/")+"/"),id(i,e,n,"",function(c){return c})):i!=null&&(Kg(i)&&(i=m3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+c0(s,a);o+=id(s,e,n,l,i)}else if(l=p3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+c0(s,a++),o+=id(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sc(t,e,n){if(t==null)return t;var r=[],i=0;return id(t,r,"","",function(s){return e.call(n,s,i++)}),r}function v3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},sd={transition:null},y3={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:sd,ReactCurrentOwner:Gg};qe.Children={map:Sc,forEach:function(t,e,n){Sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sc(t,function(){e++}),e},toArray:function(t){return Sc(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Va;qe.Fragment=s3;qe.Profiler=a3;qe.PureComponent=Wg;qe.StrictMode=o3;qe.Suspense=d3;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y3;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Z2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tE.call(e,l)&&!nE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Du,type:t.type,key:i,ref:s,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:u3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:l3,_context:t},t.Consumer=t};qe.createElement=rE;qe.createFactory=function(t){var e=rE.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:c3,render:t}};qe.isValidElement=Kg;qe.lazy=function(t){return{$$typeof:f3,_payload:{_status:-1,_result:t},_init:v3}};qe.memo=function(t,e){return{$$typeof:h3,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=sd.transition;sd.transition={};try{t()}finally{sd.transition=e}};qe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qe.useCallback=function(t,e){return Bn.current.useCallback(t,e)};qe.useContext=function(t){return Bn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Bn.current.useEffect(t,e)};qe.useId=function(){return Bn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Bn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};qe.useRef=function(t){return Bn.current.useRef(t)};qe.useState=function(t){return Bn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Bn.current.useTransition()};qe.version="18.2.0";Q2.exports=qe;var Q=Q2.exports;const mi=ja(Q),_3=n3({__proto__:null,default:mi},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3=Q,w3=Symbol.for("react.element"),E3=Symbol.for("react.fragment"),T3=Object.prototype.hasOwnProperty,S3=x3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I3={key:!0,ref:!0,__self:!0,__source:!0};function iE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)T3.call(e,r)&&!I3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:w3,type:t,key:s,ref:o,props:i,_owner:S3.current}}Ph.Fragment=E3;Ph.jsx=iE;Ph.jsxs=iE;K2.exports=Ph;var R=K2.exports,Qp={},sE={exports:{}},ur={},oE={exports:{}},aE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,V){var W=q.length;q.push(V);e:for(;0<W;){var Y=W-1>>>1,H=q[Y];if(0<i(H,V))q[Y]=V,q[W]=H,W=Y;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var V=q[0],W=q.pop();if(W!==V){q[0]=W;e:for(var Y=0,H=q.length,G=H>>>1;Y<G;){var j=2*(Y+1)-1,z=q[j],se=j+1,Te=q[se];if(0>i(z,W))se<H&&0>i(Te,z)?(q[Y]=Te,q[se]=W,Y=se):(q[Y]=z,q[j]=W,Y=j);else if(se<H&&0>i(Te,W))q[Y]=Te,q[se]=W,Y=se;else break e}}return V}function i(q,V){var W=q.sortIndex-V.sortIndex;return W!==0?W:q.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=q)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function v(q){if(x=!1,E(q),!g)if(n(l)!==null)g=!0,L(C);else{var V=n(c);V!==null&&M(v,V.startTime-q)}}function C(q,V){g=!1,x&&(x=!1,y(S),S=-1),m=!0;var W=h;try{for(E(V),f=n(l);f!==null&&(!(f.expirationTime>V)||q&&!N());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var H=Y(f.expirationTime<=V);V=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(V)}else r(l);f=n(l)}if(f!==null)var G=!0;else{var j=n(c);j!==null&&M(v,j.startTime-V),G=!1}return G}finally{f=null,h=W,m=!1}}var A=!1,P=null,S=-1,k=5,b=-1;function N(){return!(t.unstable_now()-b<k)}function O(){if(P!==null){var q=t.unstable_now();b=q;var V=!0;try{V=P(!0,q)}finally{V?F():(A=!1,P=null)}}else A=!1}var F;if(typeof _=="function")F=function(){_(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=O,F=function(){$.postMessage(null)}}else F=function(){T(O,0)};function L(q){P=q,A||(A=!0,F())}function M(q,V){S=T(function(){q(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,L(C))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return q()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=h;h=q;try{return V()}finally{h=W}},t.unstable_scheduleCallback=function(q,V,W){var Y=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,q={id:d++,callback:V,priorityLevel:q,startTime:W,expirationTime:H,sortIndex:-1},W>Y?(q.sortIndex=W,e(c,q),n(l)===null&&q===n(c)&&(x?(y(S),S=-1):x=!0,M(v,W-Y))):(q.sortIndex=H,e(l,q),g||m||(g=!0,L(C))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var V=h;return function(){var W=h;h=V;try{return q.apply(this,arguments)}finally{h=W}}}})(aE);oE.exports=aE;var R3=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=Q,ar=R3;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uE=new Set,Kl={};function xo(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(Kl[t]=e,t=0;t<e.length;t++)uE.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,A3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function b3(t){return Xp.call(o_,t)?!0:Xp.call(s_,t)?!1:A3.test(t)?o_[t]=!0:(s_[t]=!0,!1)}function k3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C3(t,e,n,r){if(e===null||typeof e>"u"||k3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Xg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Xg);pn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Xg);pn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Xg);pn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});pn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var i=pn.hasOwnProperty(e)?pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(C3(e,n,i,r)&&(n=null),r||i===null?b3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=lE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),zo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),hE=Symbol.for("react.offscreen"),a_=Symbol.iterator;function ol(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,d0;function El(t){if(d0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d0=e&&e[1]||""}return`
`+d0+t}var h0=!1;function f0(t,e){if(!t||h0)return"";h0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{h0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function P3(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=f0(t.type,!1),t;case 11:return t=f0(t.type.render,!1),t;case 1:return t=f0(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case zo:return"Portal";case Zp:return"Profiler";case Jg:return"StrictMode";case Jp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dE:return(t.displayName||"Context")+".Consumer";case cE:return(t._context.displayName||"Context")+".Provider";case ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tv:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function D3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N3(t){var e=fE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rc(t){t._valueTracker||(t._valueTracker=N3(t))}function pE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mE(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function rm(t,e){mE(t,e);var n=vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||Pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tl=Array.isArray;function sa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Tl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vs(n)}}function gE(t,e){var n=vs(e.value),r=vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ac,yE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M3=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){M3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function _E(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function xE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_E(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O3=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(O3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,oa=null,aa=null;function h_(t){if(t=Ou(t)){if(typeof cm!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Lh(e),cm(t.stateNode,t.type,e))}}function wE(t){oa?aa?aa.push(t):aa=[t]:oa=t}function EE(){if(oa){var t=oa,e=aa;if(aa=oa=null,h_(t),e)for(t=0;t<e.length;t++)h_(e[t])}}function TE(t,e){return t(e)}function SE(){}var p0=!1;function IE(t,e,n){if(p0)return t(e,n);p0=!0;try{return TE(t,e,n)}finally{p0=!1,(oa!==null||aa!==null)&&(SE(),EE())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var dm=!1;if(Ai)try{var al={};Object.defineProperty(al,"passive",{get:function(){dm=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{dm=!1}function L3(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ml=!1,Dd=null,Nd=!1,hm=null,F3={onError:function(t){Ml=!0,Dd=t}};function U3(t,e,n,r,i,s,o,a,l){Ml=!1,Dd=null,L3.apply(F3,arguments)}function j3(t,e,n,r,i,s,o,a,l){if(U3.apply(this,arguments),Ml){if(Ml){var c=Dd;Ml=!1,Dd=null}else throw Error(te(198));Nd||(Nd=!0,hm=c)}}function wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f_(t){if(wo(t)!==t)throw Error(te(188))}function V3(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f_(i),t;if(s===r)return f_(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function AE(t){return t=V3(t),t!==null?bE(t):null}function bE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bE(t);if(e!==null)return e;t=t.sibling}return null}var kE=ar.unstable_scheduleCallback,p_=ar.unstable_cancelCallback,B3=ar.unstable_shouldYield,z3=ar.unstable_requestPaint,Bt=ar.unstable_now,q3=ar.unstable_getCurrentPriorityLevel,rv=ar.unstable_ImmediatePriority,CE=ar.unstable_UserBlockingPriority,Md=ar.unstable_NormalPriority,$3=ar.unstable_LowPriority,PE=ar.unstable_IdlePriority,Dh=null,Gr=null;function H3(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Dh,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:G3,W3=Math.log,Y3=Math.LN2;function G3(t){return t>>>=0,t===0?32:31-(W3(t)/Y3|0)|0}var bc=64,kc=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sl(a):(s&=o,s!==0&&(r=Sl(s)))}else o=n&~i,o!==0?r=Sl(o):s!==0&&(r=Sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function K3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=K3(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DE(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function m0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function X3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var at=0;function NE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ME,sv,OE,LE,FE,pm=!1,Cc=[],os=null,as=null,ls=null,Zl=new Map,Jl=new Map,Qi=[],Z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J3(t,e,n,r,i){switch(e){case"focusin":return os=ll(os,t,e,n,r,i),!0;case"dragenter":return as=ll(as,t,e,n,r,i),!0;case"mouseover":return ls=ll(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zl.set(s,ll(Zl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jl.set(s,ll(Jl.get(s)||null,t,e,n,r,i)),!0}return!1}function UE(t){var e=Ws(t.target);if(e!==null){var n=wo(e);if(n!==null){if(e=n.tag,e===13){if(e=RE(n),e!==null){t.blockedOn=e,FE(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return e=Ou(n),e!==null&&sv(e),t.blockedOn=n,!1;e.shift()}return!0}function g_(t,e,n){od(t)&&n.delete(e)}function eP(){pm=!1,os!==null&&od(os)&&(os=null),as!==null&&od(as)&&(as=null),ls!==null&&od(ls)&&(ls=null),Zl.forEach(g_),Jl.forEach(g_)}function ul(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,eP)))}function eu(t){function e(i){return ul(i,t)}if(0<Cc.length){ul(Cc[0],t);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&ul(os,t),as!==null&&ul(as,t),ls!==null&&ul(ls,t),Zl.forEach(e),Jl.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)UE(n),n.blockedOn===null&&Qi.shift()}var la=Ui.ReactCurrentBatchConfig,Ld=!0;function tP(t,e,n,r){var i=at,s=la.transition;la.transition=null;try{at=1,ov(t,e,n,r)}finally{at=i,la.transition=s}}function nP(t,e,n,r){var i=at,s=la.transition;la.transition=null;try{at=4,ov(t,e,n,r)}finally{at=i,la.transition=s}}function ov(t,e,n,r){if(Ld){var i=mm(t,e,n,r);if(i===null)I0(t,e,r,Fd,n),m_(t,r);else if(J3(i,t,e,n,r))r.stopPropagation();else if(m_(t,r),e&4&&-1<Z3.indexOf(t)){for(;i!==null;){var s=Ou(i);if(s!==null&&ME(s),s=mm(t,e,n,r),s===null&&I0(t,e,r,Fd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else I0(t,e,r,null,n)}}var Fd=null;function mm(t,e,n,r){if(Fd=null,t=nv(r),t=Ws(t),t!==null)if(e=wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function jE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q3()){case rv:return 1;case CE:return 4;case Md:case $3:return 16;case PE:return 536870912;default:return 16}default:return 16}}var rs=null,av=null,ad=null;function VE(){if(ad)return ad;var t,e=av,n=e.length,r,i="value"in rs?rs.value:rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ad=i.slice(t,1<r?1-r:void 0)}function ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function v_(){return!1}function cr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pc:v_,this.isPropagationStopped=v_,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=cr(Ba),Mu=Nt({},Ba,{view:0,detail:0}),rP=cr(Mu),g0,v0,cl,Nh=Nt({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(g0=t.screenX-cl.screenX,v0=t.screenY-cl.screenY):v0=g0=0,cl=t),g0)},movementY:function(t){return"movementY"in t?t.movementY:v0}}),y_=cr(Nh),iP=Nt({},Nh,{dataTransfer:0}),sP=cr(iP),oP=Nt({},Mu,{relatedTarget:0}),y0=cr(oP),aP=Nt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),lP=cr(aP),uP=Nt({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cP=cr(uP),dP=Nt({},Ba,{data:0}),__=cr(dP),hP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pP[t])?!!e[t]:!1}function uv(){return mP}var gP=Nt({},Mu,{key:function(t){if(t.key){var e=hP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(t){return t.type==="keypress"?ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vP=cr(gP),yP=Nt({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x_=cr(yP),_P=Nt({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),xP=cr(_P),wP=Nt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),EP=cr(wP),TP=Nt({},Nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SP=cr(TP),IP=[9,13,27,32],cv=Ai&&"CompositionEvent"in window,Ol=null;Ai&&"documentMode"in document&&(Ol=document.documentMode);var RP=Ai&&"TextEvent"in window&&!Ol,BE=Ai&&(!cv||Ol&&8<Ol&&11>=Ol),w_=String.fromCharCode(32),E_=!1;function zE(t,e){switch(t){case"keyup":return IP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function AP(t,e){switch(t){case"compositionend":return qE(e);case"keypress":return e.which!==32?null:(E_=!0,w_);case"textInput":return t=e.data,t===w_&&E_?null:t;default:return null}}function bP(t,e){if($o)return t==="compositionend"||!cv&&zE(t,e)?(t=VE(),ad=av=rs=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BE&&e.locale!=="ko"?null:e.data;default:return null}}var kP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kP[t.type]:e==="textarea"}function $E(t,e,n,r){wE(r),e=Ud(e,"onChange"),0<e.length&&(n=new lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ll=null,tu=null;function CP(t){t4(t,0)}function Mh(t){var e=Yo(t);if(pE(e))return t}function PP(t,e){if(t==="change")return e}var HE=!1;if(Ai){var _0;if(Ai){var x0="oninput"in document;if(!x0){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),x0=typeof S_.oninput=="function"}_0=x0}else _0=!1;HE=_0&&(!document.documentMode||9<document.documentMode)}function I_(){Ll&&(Ll.detachEvent("onpropertychange",WE),tu=Ll=null)}function WE(t){if(t.propertyName==="value"&&Mh(tu)){var e=[];$E(e,tu,t,nv(t)),IE(CP,e)}}function DP(t,e,n){t==="focusin"?(I_(),Ll=e,tu=n,Ll.attachEvent("onpropertychange",WE)):t==="focusout"&&I_()}function NP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(tu)}function MP(t,e){if(t==="click")return Mh(e)}function OP(t,e){if(t==="input"||t==="change")return Mh(e)}function LP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:LP;function nu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xp.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function R_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A_(t,e){var n=R_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R_(n)}}function YE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GE(){for(var t=window,e=Pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pd(t.document)}return e}function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FP(t){var e=GE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YE(n.ownerDocument.documentElement,n)){if(r!==null&&dv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A_(n,s);var o=A_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UP=Ai&&"documentMode"in document&&11>=document.documentMode,Ho=null,gm=null,Fl=null,vm=!1;function b_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Ho==null||Ho!==Pd(r)||(r=Ho,"selectionStart"in r&&dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fl&&nu(Fl,r)||(Fl=r,r=Ud(gm,"onSelect"),0<r.length&&(e=new lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},w0={},KE={};Ai&&(KE=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Oh(t){if(w0[t])return w0[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KE)return w0[t]=e[n];return t}var QE=Oh("animationend"),XE=Oh("animationiteration"),ZE=Oh("animationstart"),JE=Oh("transitionend"),e4=new Map,k_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(t,e){e4.set(t,e),xo(e,[t])}for(var E0=0;E0<k_.length;E0++){var T0=k_[E0],jP=T0.toLowerCase(),VP=T0[0].toUpperCase()+T0.slice(1);Rs(jP,"on"+VP)}Rs(QE,"onAnimationEnd");Rs(XE,"onAnimationIteration");Rs(ZE,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(JE,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function C_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j3(r,e,void 0,t),t.currentTarget=null}function t4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}}}if(Nd)throw t=hm,Nd=!1,hm=null,t}function _t(t,e){var n=e[Em];n===void 0&&(n=e[Em]=new Set);var r=t+"__bubble";n.has(r)||(n4(e,t,2,!1),n.add(r))}function S0(t,e,n){var r=0;e&&(r|=4),n4(n,t,r,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Nc]){t[Nc]=!0,uE.forEach(function(n){n!=="selectionchange"&&(BP.has(n)||S0(n,!1,t),S0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,S0("selectionchange",!1,e))}}function n4(t,e,n,r){switch(jE(e)){case 1:var i=tP;break;case 4:i=nP;break;default:i=ov}n=i.bind(null,e,n,t),i=void 0,!dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function I0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}IE(function(){var c=s,d=nv(n),f=[];e:{var h=e4.get(t);if(h!==void 0){var m=lv,g=t;switch(t){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":m=vP;break;case"focusin":g="focus",m=y0;break;case"focusout":g="blur",m=y0;break;case"beforeblur":case"afterblur":m=y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xP;break;case QE:case XE:case ZE:m=lP;break;case JE:m=EP;break;case"scroll":m=rP;break;case"wheel":m=SP;break;case"copy":case"cut":case"paste":m=cP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=x_}var x=(e&4)!==0,T=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var _=c,E;_!==null;){E=_;var v=E.stateNode;if(E.tag===5&&v!==null&&(E=v,y!==null&&(v=Xl(_,y),v!=null&&x.push(iu(_,v,E)))),T)break;_=_.return}0<x.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==um&&(g=n.relatedTarget||n.fromElement)&&(Ws(g)||g[bi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Ws(g):null,g!==null&&(T=wo(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(x=y_,v="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=x_,v="onPointerLeave",y="onPointerEnter",_="pointer"),T=m==null?h:Yo(m),E=g==null?h:Yo(g),h=new x(v,_+"leave",m,n,d),h.target=T,h.relatedTarget=E,v=null,Ws(d)===c&&(x=new x(y,_+"enter",g,n,d),x.target=E,x.relatedTarget=T,v=x),T=v,m&&g)t:{for(x=m,y=g,_=0,E=x;E;E=Lo(E))_++;for(E=0,v=y;v;v=Lo(v))E++;for(;0<_-E;)x=Lo(x),_--;for(;0<E-_;)y=Lo(y),E--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=Lo(x),y=Lo(y)}x=null}else x=null;m!==null&&P_(f,h,m,x,!1),g!==null&&T!==null&&P_(f,T,g,x,!0)}}e:{if(h=c?Yo(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=PP;else if(T_(h))if(HE)C=OP;else{C=NP;var A=DP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=MP);if(C&&(C=C(t,c))){$E(f,C,n,d);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&im(h,"number",h.value)}switch(A=c?Yo(c):window,t){case"focusin":(T_(A)||A.contentEditable==="true")&&(Ho=A,gm=c,Fl=null);break;case"focusout":Fl=gm=Ho=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,b_(f,n,d);break;case"selectionchange":if(UP)break;case"keydown":case"keyup":b_(f,n,d)}var P;if(cv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $o?zE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(BE&&n.locale!=="ko"&&($o||S!=="onCompositionStart"?S==="onCompositionEnd"&&$o&&(P=VE()):(rs=d,av="value"in rs?rs.value:rs.textContent,$o=!0)),A=Ud(c,S),0<A.length&&(S=new __(S,t,null,n,d),f.push({event:S,listeners:A}),P?S.data=P:(P=qE(n),P!==null&&(S.data=P)))),(P=RP?AP(t,n):bP(t,n))&&(c=Ud(c,"onBeforeInput"),0<c.length&&(d=new __("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}t4(f,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xl(t,n),s!=null&&r.unshift(iu(t,s,i)),s=Xl(t,e),s!=null&&r.push(iu(t,s,i))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Xl(n,s),l!=null&&o.unshift(iu(n,l,a))):i||(l=Xl(n,s),l!=null&&o.push(iu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zP=/\r\n?/g,qP=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(zP,`
`).replace(qP,"")}function Mc(t,e,n){if(e=D_(e),D_(t)!==e&&n)throw Error(te(425))}function jd(){}var ym=null,_m=null;function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,$P=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,HP=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(WP)}:wm;function WP(t){setTimeout(function(){throw t})}function R0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var za=Math.random().toString(36).slice(2),qr="__reactFiber$"+za,su="__reactProps$"+za,bi="__reactContainer$"+za,Em="__reactEvents$"+za,YP="__reactListeners$"+za,GP="__reactHandles$"+za;function Ws(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M_(t);t!==null;){if(n=t[qr])return n;t=M_(t)}return e}t=n,n=t.parentNode}return null}function Ou(t){return t=t[qr]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Lh(t){return t[su]||null}var Tm=[],Go=-1;function As(t){return{current:t}}function Tt(t){0>Go||(t.current=Tm[Go],Tm[Go]=null,Go--)}function gt(t,e){Go++,Tm[Go]=t.current,t.current=e}var ys={},Pn=As(ys),Kn=As(!1),so=ys;function wa(t,e){var n=t.type.contextTypes;if(!n)return ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Vd(){Tt(Kn),Tt(Pn)}function O_(t,e,n){if(Pn.current!==ys)throw Error(te(168));gt(Pn,e),gt(Kn,n)}function r4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,D3(t)||"Unknown",i));return Nt({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,so=Pn.current,gt(Pn,t),gt(Kn,Kn.current),!0}function L_(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=r4(t,e,so),r.__reactInternalMemoizedMergedChildContext=t,Tt(Kn),Tt(Pn),gt(Pn,t)):Tt(Kn),gt(Kn,n)}var vi=null,Fh=!1,A0=!1;function i4(t){vi===null?vi=[t]:vi.push(t)}function KP(t){Fh=!0,i4(t)}function bs(){if(!A0&&vi!==null){A0=!0;var t=0,e=at;try{var n=vi;for(at=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vi=null,Fh=!1}catch(i){throw vi!==null&&(vi=vi.slice(t+1)),kE(rv,bs),i}finally{at=e,A0=!1}}return null}var Ko=[],Qo=0,zd=null,qd=0,fr=[],pr=0,oo=null,yi=1,_i="";function Bs(t,e){Ko[Qo++]=qd,Ko[Qo++]=zd,zd=t,qd=e}function s4(t,e,n){fr[pr++]=yi,fr[pr++]=_i,fr[pr++]=oo,oo=t;var r=yi;t=_i;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var s=32-Cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yi=1<<32-Cr(e)+i|n<<i|r,_i=s+t}else yi=1<<s|n<<i|r,_i=t}function hv(t){t.return!==null&&(Bs(t,1),s4(t,1,0))}function fv(t){for(;t===zd;)zd=Ko[--Qo],Ko[Qo]=null,qd=Ko[--Qo],Ko[Qo]=null;for(;t===oo;)oo=fr[--pr],fr[pr]=null,_i=fr[--pr],fr[pr]=null,yi=fr[--pr],fr[pr]=null}var or=null,rr=null,kt=!1,br=null;function o4(t,e){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,rr=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:yi,overflow:_i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,rr=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Im(t){if(kt){var e=rr;if(e){var n=e;if(!F_(t,e)){if(Sm(t))throw Error(te(418));e=us(n.nextSibling);var r=or;e&&F_(t,e)?o4(r,n):(t.flags=t.flags&-4097|2,kt=!1,or=t)}}else{if(Sm(t))throw Error(te(418));t.flags=t.flags&-4097|2,kt=!1,or=t}}}function U_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function Oc(t){if(t!==or)return!1;if(!kt)return U_(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xm(t.type,t.memoizedProps)),e&&(e=rr)){if(Sm(t))throw a4(),Error(te(418));for(;e;)o4(t,e),e=us(e.nextSibling)}if(U_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rr=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rr=null}}else rr=or?us(t.stateNode.nextSibling):null;return!0}function a4(){for(var t=rr;t;)t=us(t.nextSibling)}function Ea(){rr=or=null,kt=!1}function pv(t){br===null?br=[t]:br.push(t)}var QP=Ui.ReactCurrentBatchConfig;function Ir(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $d=As(null),Hd=null,Xo=null,mv=null;function gv(){mv=Xo=Hd=null}function vv(t){var e=$d.current;Tt($d),t._currentValue=e}function Rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ua(t,e){Hd=t,mv=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(mv!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(Hd===null)throw Error(te(308));Xo=t,Hd.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var Ys=null;function yv(t){Ys===null?Ys=[t]:Ys.push(t)}function l4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function _v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}function j_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var i=t.updateQueue;Ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(h=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Nt({},f,h);break e;case 2:Ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lo|=o,t.lanes=o,t.memoizedState=f}}function V_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var c4=new lE.Component().refs;function Am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=hs(t),s=Si(r,i);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Pr(e,t,i,r),ud(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=hs(t),s=Si(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Pr(e,t,i,r),ud(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=hs(t),i=Si(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(Pr(e,t,r,n),ud(e,t,r))}};function B_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,s):!0}function d4(t,e,n){var r=!1,i=ys,s=e.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Qn(e)?so:Pn.current,r=e.contextTypes,s=(r=r!=null)?wa(t,i):ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function bm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=c4,_v(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Qn(e)?so:Pn.current,i.context=wa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uh.enqueueReplaceState(i,i.state,null),Wd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===c4&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q_(t){var e=t._init;return e(t._payload)}function h4(t){function e(y,_){if(t){var E=y.deletions;E===null?(y.deletions=[_],y.flags|=16):E.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=fs(y,_),y.index=0,y.sibling=null,y}function s(y,_,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<_?(y.flags|=2,_):E):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,E,v){return _===null||_.tag!==6?(_=M0(E,y.mode,v),_.return=y,_):(_=i(_,E),_.return=y,_)}function l(y,_,E,v){var C=E.type;return C===qo?d(y,_,E.props.children,v,E.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gi&&q_(C)===_.type)?(v=i(_,E.props),v.ref=dl(y,_,E),v.return=y,v):(v=md(E.type,E.key,E.props,null,y.mode,v),v.ref=dl(y,_,E),v.return=y,v)}function c(y,_,E,v){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=O0(E,y.mode,v),_.return=y,_):(_=i(_,E.children||[]),_.return=y,_)}function d(y,_,E,v,C){return _===null||_.tag!==7?(_=to(E,y.mode,v,C),_.return=y,_):(_=i(_,E),_.return=y,_)}function f(y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=M0(""+_,y.mode,E),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ic:return E=md(_.type,_.key,_.props,null,y.mode,E),E.ref=dl(y,null,_),E.return=y,E;case zo:return _=O0(_,y.mode,E),_.return=y,_;case Gi:var v=_._init;return f(y,v(_._payload),E)}if(Tl(_)||ol(_))return _=to(_,y.mode,E,null),_.return=y,_;Lc(y,_)}return null}function h(y,_,E,v){var C=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(y,_,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ic:return E.key===C?l(y,_,E,v):null;case zo:return E.key===C?c(y,_,E,v):null;case Gi:return C=E._init,h(y,_,C(E._payload),v)}if(Tl(E)||ol(E))return C!==null?null:d(y,_,E,v,null);Lc(y,E)}return null}function m(y,_,E,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(E)||null,a(_,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return y=y.get(v.key===null?E:v.key)||null,l(_,y,v,C);case zo:return y=y.get(v.key===null?E:v.key)||null,c(_,y,v,C);case Gi:var A=v._init;return m(y,_,E,A(v._payload),C)}if(Tl(v)||ol(v))return y=y.get(E)||null,d(_,y,v,C,null);Lc(_,v)}return null}function g(y,_,E,v){for(var C=null,A=null,P=_,S=_=0,k=null;P!==null&&S<E.length;S++){P.index>S?(k=P,P=null):k=P.sibling;var b=h(y,P,E[S],v);if(b===null){P===null&&(P=k);break}t&&P&&b.alternate===null&&e(y,P),_=s(b,_,S),A===null?C=b:A.sibling=b,A=b,P=k}if(S===E.length)return n(y,P),kt&&Bs(y,S),C;if(P===null){for(;S<E.length;S++)P=f(y,E[S],v),P!==null&&(_=s(P,_,S),A===null?C=P:A.sibling=P,A=P);return kt&&Bs(y,S),C}for(P=r(y,P);S<E.length;S++)k=m(P,y,S,E[S],v),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?S:k.key),_=s(k,_,S),A===null?C=k:A.sibling=k,A=k);return t&&P.forEach(function(N){return e(y,N)}),kt&&Bs(y,S),C}function x(y,_,E,v){var C=ol(E);if(typeof C!="function")throw Error(te(150));if(E=C.call(E),E==null)throw Error(te(151));for(var A=C=null,P=_,S=_=0,k=null,b=E.next();P!==null&&!b.done;S++,b=E.next()){P.index>S?(k=P,P=null):k=P.sibling;var N=h(y,P,b.value,v);if(N===null){P===null&&(P=k);break}t&&P&&N.alternate===null&&e(y,P),_=s(N,_,S),A===null?C=N:A.sibling=N,A=N,P=k}if(b.done)return n(y,P),kt&&Bs(y,S),C;if(P===null){for(;!b.done;S++,b=E.next())b=f(y,b.value,v),b!==null&&(_=s(b,_,S),A===null?C=b:A.sibling=b,A=b);return kt&&Bs(y,S),C}for(P=r(y,P);!b.done;S++,b=E.next())b=m(P,y,S,b.value,v),b!==null&&(t&&b.alternate!==null&&P.delete(b.key===null?S:b.key),_=s(b,_,S),A===null?C=b:A.sibling=b,A=b);return t&&P.forEach(function(O){return e(y,O)}),kt&&Bs(y,S),C}function T(y,_,E,v){if(typeof E=="object"&&E!==null&&E.type===qo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ic:e:{for(var C=E.key,A=_;A!==null;){if(A.key===C){if(C=E.type,C===qo){if(A.tag===7){n(y,A.sibling),_=i(A,E.props.children),_.return=y,y=_;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gi&&q_(C)===A.type){n(y,A.sibling),_=i(A,E.props),_.ref=dl(y,A,E),_.return=y,y=_;break e}n(y,A);break}else e(y,A);A=A.sibling}E.type===qo?(_=to(E.props.children,y.mode,v,E.key),_.return=y,y=_):(v=md(E.type,E.key,E.props,null,y.mode,v),v.ref=dl(y,_,E),v.return=y,y=v)}return o(y);case zo:e:{for(A=E.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(y,_.sibling),_=i(_,E.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=O0(E,y.mode,v),_.return=y,y=_}return o(y);case Gi:return A=E._init,T(y,_,A(E._payload),v)}if(Tl(E))return g(y,_,E,v);if(ol(E))return x(y,_,E,v);Lc(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,E),_.return=y,y=_):(n(y,_),_=M0(E,y.mode,v),_.return=y,y=_),o(y)):n(y,_)}return T}var Ta=h4(!0),f4=h4(!1),Lu={},Kr=As(Lu),ou=As(Lu),au=As(Lu);function Gs(t){if(t===Lu)throw Error(te(174));return t}function xv(t,e){switch(gt(au,e),gt(ou,t),gt(Kr,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Tt(Kr),gt(Kr,e)}function Sa(){Tt(Kr),Tt(ou),Tt(au)}function p4(t){Gs(au.current);var e=Gs(Kr.current),n=om(e,t.type);e!==n&&(gt(ou,t),gt(Kr,n))}function wv(t){ou.current===t&&(Tt(Kr),Tt(ou))}var Pt=As(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var b0=[];function Ev(){for(var t=0;t<b0.length;t++)b0[t]._workInProgressVersionPrimary=null;b0.length=0}var cd=Ui.ReactCurrentDispatcher,k0=Ui.ReactCurrentBatchConfig,ao=0,Dt=null,Qt=null,tn=null,Gd=!1,Ul=!1,lu=0,XP=0;function vn(){throw Error(te(321))}function Tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Sv(t,e,n,r,i,s){if(ao=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cd.current=t===null||t.memoizedState===null?t5:n5,t=n(r,i),Ul){s=0;do{if(Ul=!1,lu=0,25<=s)throw Error(te(301));s+=1,tn=Qt=null,e.updateQueue=null,cd.current=r5,t=n(r,i)}while(Ul)}if(cd.current=Kd,e=Qt!==null&&Qt.next!==null,ao=0,tn=Qt=Dt=null,Gd=!1,e)throw Error(te(300));return t}function Iv(){var t=lu!==0;return lu=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Dt.memoizedState=tn=t:tn=tn.next=t,tn}function xr(){if(Qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=tn===null?Dt.memoizedState:tn.next;if(e!==null)tn=e,Qt=t;else{if(t===null)throw Error(te(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?Dt.memoizedState=tn=t:tn=tn.next=t}return tn}function uu(t,e){return typeof e=="function"?e(t):e}function C0(t){var e=xr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Qt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ao&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Dt.lanes|=d,lo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Dt.lanes|=s,lo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P0(t){var e=xr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nr(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function m4(){}function g4(t,e){var n=Dt,r=xr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,Gn=!0),r=r.queue,Rv(_4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,cu(9,y4.bind(null,n,r,i,e),void 0,null),rn===null)throw Error(te(349));ao&30||v4(n,e,i)}return i}function v4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y4(t,e,n,r){e.value=n,e.getSnapshot=r,x4(e)&&w4(t)}function _4(t,e,n){return n(function(){x4(e)&&w4(t)})}function x4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function w4(t){var e=ki(t,1);e!==null&&Pr(e,t,1,-1)}function $_(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=e5.bind(null,Dt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E4(){return xr().memoizedState}function dd(t,e,n,r){var i=Br();Dt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var i=xr();r=r===void 0?null:r;var s=void 0;if(Qt!==null){var o=Qt.memoizedState;if(s=o.destroy,r!==null&&Tv(r,o.deps)){i.memoizedState=cu(e,n,s,r);return}}Dt.flags|=t,i.memoizedState=cu(1|e,n,s,r)}function H_(t,e){return dd(8390656,8,t,e)}function Rv(t,e){return jh(2048,8,t,e)}function T4(t,e){return jh(4,2,t,e)}function S4(t,e){return jh(4,4,t,e)}function I4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R4(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,I4.bind(null,e,t),n)}function Av(){}function A4(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b4(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k4(t,e,n){return ao&21?(Nr(n,e)||(n=DE(),Dt.lanes|=n,lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function ZP(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var r=k0.transition;k0.transition={};try{t(!1),e()}finally{at=n,k0.transition=r}}function C4(){return xr().memoizedState}function JP(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P4(t))D4(e,n);else if(n=l4(t,e,n,r),n!==null){var i=Vn();Pr(n,t,r,i),N4(n,e,r)}}function e5(t,e,n){var r=hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P4(t))D4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(i.next=i,yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=l4(t,e,i,r),n!==null&&(i=Vn(),Pr(n,t,r,i),N4(n,e,r))}}function P4(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function D4(t,e){Ul=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function N4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}var Kd={readContext:_r,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},t5={readContext:_r,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:H_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dd(4194308,4,I4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return dd(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JP.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:$_,useDebugValue:Av,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=$_(!1),e=t[0];return t=ZP.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,i=Br();if(kt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),rn===null)throw Error(te(349));ao&30||v4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,H_(_4.bind(null,r,s,t),[t]),r.flags|=2048,cu(9,y4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Br(),e=rn.identifierPrefix;if(kt){var n=_i,r=yi;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n5={readContext:_r,useCallback:A4,useContext:_r,useEffect:Rv,useImperativeHandle:R4,useInsertionEffect:T4,useLayoutEffect:S4,useMemo:b4,useReducer:C0,useRef:E4,useState:function(){return C0(uu)},useDebugValue:Av,useDeferredValue:function(t){var e=xr();return k4(e,Qt.memoizedState,t)},useTransition:function(){var t=C0(uu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:m4,useSyncExternalStore:g4,useId:C4,unstable_isNewReconciler:!1},r5={readContext:_r,useCallback:A4,useContext:_r,useEffect:Rv,useImperativeHandle:R4,useInsertionEffect:T4,useLayoutEffect:S4,useMemo:b4,useReducer:P0,useRef:E4,useState:function(){return P0(uu)},useDebugValue:Av,useDeferredValue:function(t){var e=xr();return Qt===null?e.memoizedState=t:k4(e,Qt.memoizedState,t)},useTransition:function(){var t=P0(uu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:m4,useSyncExternalStore:g4,useId:C4,unstable_isNewReconciler:!1};function Ia(t,e){try{var n="",r=e;do n+=P3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function D0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i5=typeof WeakMap=="function"?WeakMap:Map;function M4(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,jm=r),km(t,e)},n}function O4(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){km(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){km(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y5.bind(null,t,e,n),e.then(t,t))}function Y_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var s5=Ui.ReactCurrentOwner,Gn=!1;function Un(t,e,n,r){e.child=t===null?f4(e,null,n,r):Ta(e,t.child,n,r)}function K_(t,e,n,r,i){n=n.render;var s=e.ref;return ua(e,i),r=Sv(t,e,n,r,s,i),n=Iv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(kt&&n&&hv(e),e.flags|=1,Un(t,e,r,i),e.child)}function Q_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,L4(t,e,s,r,i)):(t=md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(o,r)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=fs(s,r),t.ref=e.ref,t.return=e,e.child=t}function L4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nu(s,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return Cm(t,e,n,r,i)}function F4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Jo,nr),nr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(Jo,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gt(Jo,nr),nr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gt(Jo,nr),nr|=r;return Un(t,e,i,n),e.child}function U4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,i){var s=Qn(n)?so:Pn.current;return s=wa(e,s),ua(e,i),n=Sv(t,e,n,r,s,i),r=Iv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(kt&&r&&hv(e),e.flags|=1,Un(t,e,n,i),e.child)}function X_(t,e,n,r,i){if(Qn(n)){var s=!0;Bd(e)}else s=!1;if(ua(e,i),e.stateNode===null)hd(t,e),d4(e,n,r),bm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_r(c):(c=Qn(n)?so:Pn.current,c=wa(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&z_(e,o,r,c),Ki=!1;var h=e.memoizedState;o.state=h,Wd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Kn.current||Ki?(typeof d=="function"&&(Am(e,n,d,r),l=e.memoizedState),(a=Ki||B_(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,u4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ir(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Qn(n)?so:Pn.current,l=wa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&z_(e,o,r,l),Ki=!1,h=e.memoizedState,o.state=h,Wd(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||Kn.current||Ki?(typeof m=="function"&&(Am(e,n,m,r),g=e.memoizedState),(c=Ki||B_(e,n,c,r,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Pm(t,e,n,r,s,i)}function Pm(t,e,n,r,i,s){U4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&L_(e,n,!1),Ci(t,e,s);r=e.stateNode,s5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ta(e,t.child,null,s),e.child=Ta(e,null,a,s)):Un(t,e,a,s),e.memoizedState=r.state,i&&L_(e,n,!0),e.child}function j4(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),xv(t,e.containerInfo)}function Z_(t,e,n,r,i){return Ea(),pv(i),e.flags|=256,Un(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Nm(t){return{baseLanes:t,cachePool:null,transitions:null}}function V4(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(Pt,i&1),t===null)return Im(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zh(o,r,0,null),t=to(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nm(n),e.memoizedState=Dm,t):bv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return o5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fs(a,s):(s=to(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return s=t.child,t=s.sibling,r=fs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bv(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&pv(r),Ta(e,t.child,null,n),t=bv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=D0(Error(te(422))),Fc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zh({mode:"visible",children:r.children},i,0,null),s=to(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ta(e,t.child,null,o),e.child.memoizedState=Nm(o),e.memoizedState=Dm,s);if(!(e.mode&1))return Fc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(te(419)),r=D0(s,r,void 0),Fc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gn||a){if(r=rn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),Pr(r,t,i,-1))}return Mv(),r=D0(Error(te(421))),Fc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rr=us(i.nextSibling),or=e,kt=!0,br=null,t!==null&&(fr[pr++]=yi,fr[pr++]=_i,fr[pr++]=oo,yi=t.id,_i=t.overflow,oo=e),e=bv(e,r.children),e.flags|=4096,e)}function J_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rm(t.return,e,n)}function N0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Un(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J_(t,n,e);else if(t.tag===19)J_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N0(e,!0,n,null,s);break;case"together":N0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a5(t,e,n){switch(e.tag){case 3:j4(e),Ea();break;case 5:p4(e);break;case 1:Qn(e.type)&&Bd(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt($d,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?V4(t,e,n):(gt(Pt,Pt.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);gt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return B4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,F4(t,e,n)}return Ci(t,e,n)}var z4,Mm,q4,$4;z4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mm=function(){};q4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gs(Kr.current);var s=null;switch(n){case"input":i=nm(t,i),r=nm(t,r),s=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),s=[];break;case"textarea":i=sm(t,i),r=sm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jd)}am(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$4=function(t,e,n,r){n!==r&&(e.flags|=4)};function hl(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l5(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Qn(e.type)&&Vd(),yn(e),null;case 3:return r=e.stateNode,Sa(),Tt(Kn),Tt(Pn),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(zm(br),br=null))),Mm(t,e),yn(e),null;case 5:wv(e);var i=Gs(au.current);if(n=e.type,t!==null&&e.stateNode!=null)q4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return yn(e),null}if(t=Gs(Kr.current),Oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[su]=s,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(i=0;i<Il.length;i++)_t(Il[i],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":l_(r,s),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_t("invalid",r);break;case"textarea":c_(r,s),_t("invalid",r)}am(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",""+a]):Kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":Rc(r),u_(r,s,!0);break;case"textarea":Rc(r),d_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[su]=r,z4(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(n,r),n){case"dialog":_t("cancel",t),_t("close",t),i=r;break;case"iframe":case"object":case"embed":_t("load",t),i=r;break;case"video":case"audio":for(i=0;i<Il.length;i++)_t(Il[i],t);i=r;break;case"source":_t("error",t),i=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=r;break;case"details":_t("toggle",t),i=r;break;case"input":l_(t,r),i=nm(t,r),_t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":c_(t,r),i=sm(t,r),_t("invalid",t);break;default:i=r}am(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ql(t,l):typeof l=="number"&&Ql(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_t("scroll",t):l!=null&&Zg(t,s,l,o))}switch(n){case"input":Rc(t),u_(t,r,!1);break;case"textarea":Rc(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sa(t,!!r.multiple,s,!1):r.defaultValue!=null&&sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)$4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Gs(au.current),Gs(Kr.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:Mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return yn(e),null;case 13:if(Tt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&rr!==null&&e.mode&1&&!(e.flags&128))a4(),Ea(),e.flags|=98560,s=!1;else if(s=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[qr]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),s=!1}else br!==null&&(zm(br),br=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?Xt===0&&(Xt=3):Mv())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Sa(),Mm(t,e),t===null&&ru(e.stateNode.containerInfo),yn(e),null;case 10:return vv(e.type._context),yn(e),null;case 17:return Qn(e.type)&&Vd(),yn(e),null;case 19:if(Tt(Pt),s=e.memoizedState,s===null)return yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hl(s,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yd(t),o!==null){for(e.flags|=128,hl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Bt()>Ra&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!kt)return yn(e),null}else 2*Bt()-s.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bt(),e.sibling=null,n=Pt.current,gt(Pt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function u5(t,e){switch(fv(e),e.tag){case 1:return Qn(e.type)&&Vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),Tt(Kn),Tt(Pn),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wv(e),null;case 13:if(Tt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Pt),null;case 4:return Sa(),null;case 10:return vv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var Uc=!1,Sn=!1,c5=typeof WeakSet=="function"?WeakSet:Set,he=null;function Zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function Om(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var ex=!1;function d5(t,e){if(ym=Ld,t=GE(),dv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},Ld=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,T=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ir(e.type,x),T);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(v){Ut(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return g=ex,ex=!1,g}function jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Om(e,n,s)}i=i.next}while(i!==r)}}function Vh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function H4(t){var e=t.alternate;e!==null&&(t.alternate=null,H4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[su],delete e[Em],delete e[YP],delete e[GP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W4(t){return t.tag===5||t.tag===3||t.tag===4}function tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jd));else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}var un=null,Rr=!1;function Wi(t,e,n){for(n=n.child;n!==null;)Y4(t,e,n),n=n.sibling}function Y4(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 5:Sn||Zo(n,e);case 6:var r=un,i=Rr;un=null,Wi(t,e,n),un=r,Rr=i,un!==null&&(Rr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Rr?(t=un,n=n.stateNode,t.nodeType===8?R0(t.parentNode,n):t.nodeType===1&&R0(t,n),eu(t)):R0(un,n.stateNode));break;case 4:r=un,i=Rr,un=n.stateNode.containerInfo,Rr=!0,Wi(t,e,n),un=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Om(n,e,o),i=i.next}while(i!==r)}Wi(t,e,n);break;case 1:if(!Sn&&(Zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}Wi(t,e,n);break;case 21:Wi(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Wi(t,e,n),Sn=r):Wi(t,e,n);break;default:Wi(t,e,n)}}function nx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c5),e.forEach(function(r){var i=x5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,Rr=!1;break e;case 3:un=a.stateNode.containerInfo,Rr=!0;break e;case 4:un=a.stateNode.containerInfo,Rr=!0;break e}a=a.return}if(un===null)throw Error(te(160));Y4(s,o,i),un=null,Rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G4(e,t),e=e.sibling}function G4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Vr(t),r&4){try{jl(3,t,t.return),Vh(3,t)}catch(x){Ut(t,t.return,x)}try{jl(5,t,t.return)}catch(x){Ut(t,t.return,x)}}break;case 1:Tr(e,t),Vr(t),r&512&&n!==null&&Zo(n,n.return);break;case 5:if(Tr(e,t),Vr(t),r&512&&n!==null&&Zo(n,n.return),t.flags&32){var i=t.stateNode;try{Ql(i,"")}catch(x){Ut(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mE(i,s),lm(a,o);var c=lm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?xE(i,f):d==="dangerouslySetInnerHTML"?yE(i,f):d==="children"?Ql(i,f):Zg(i,d,f,c)}switch(a){case"input":rm(i,s);break;case"textarea":gE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?sa(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?sa(i,!!s.multiple,s.defaultValue,!0):sa(i,!!s.multiple,s.multiple?[]:"",!1))}i[su]=s}catch(x){Ut(t,t.return,x)}}break;case 6:if(Tr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ut(t,t.return,x)}}break;case 3:if(Tr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(x){Ut(t,t.return,x)}break;case 4:Tr(e,t),Vr(t);break;case 13:Tr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pv=Bt())),r&4&&nx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(c=Sn)||d,Tr(e,t),Sn=c):Tr(e,t),Vr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(h=he,m=h.child,h.tag){case 0:case 11:case 14:case 15:jl(4,h,h.return);break;case 1:Zo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Ut(r,n,x)}}break;case 5:Zo(h,h.return);break;case 22:if(h.memoizedState!==null){ix(f);continue}}m!==null?(m.return=h,he=m):ix(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_E("display",o))}catch(x){Ut(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Ut(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(e,t),Vr(t),r&4&&nx(t);break;case 21:break;default:Tr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W4(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ql(i,""),r.flags&=-33);var s=tx(t);Um(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tx(t);Fm(t,a,o);break;default:throw Error(te(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h5(t,e,n){he=t,K4(t)}function K4(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=Uc;var c=Sn;if(Uc=o,(Sn=l)&&!c)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?sx(i):l!==null?(l.return=o,he=l):sx(i);for(;s!==null;)he=s,K4(s),s=s.sibling;he=i,Uc=a,Sn=c}rx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):rx(t)}}function rx(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||Vh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&V_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Sn||e.flags&512&&Lm(e)}catch(h){Ut(e,e.return,h)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function ix(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function sx(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vh(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var s=e.return;try{Lm(e)}catch(l){Ut(e,s,l)}break;case 5:var o=e.return;try{Lm(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var f5=Math.ceil,Qd=Ui.ReactCurrentDispatcher,kv=Ui.ReactCurrentOwner,vr=Ui.ReactCurrentBatchConfig,Je=0,rn=null,Wt=null,hn=0,nr=0,Jo=As(0),Xt=0,du=null,lo=0,Bh=0,Cv=0,Vl=null,Hn=null,Pv=0,Ra=1/0,gi=null,Xd=!1,jm=null,ds=null,jc=!1,is=null,Zd=0,Bl=0,Vm=null,fd=-1,pd=0;function Vn(){return Je&6?Bt():fd!==-1?fd:fd=Bt()}function hs(t){return t.mode&1?Je&2&&hn!==0?hn&-hn:QP.transition!==null?(pd===0&&(pd=DE()),pd):(t=at,t!==0||(t=window.event,t=t===void 0?16:jE(t.type)),t):1}function Pr(t,e,n,r){if(50<Bl)throw Bl=0,Vm=null,Error(te(185));Nu(t,n,r),(!(Je&2)||t!==rn)&&(t===rn&&(!(Je&2)&&(Bh|=n),Xt===4&&Xi(t,hn)),Xn(t,r),n===1&&Je===0&&!(e.mode&1)&&(Ra=Bt()+500,Fh&&bs()))}function Xn(t,e){var n=t.callbackNode;Q3(t,e);var r=Od(t,t===rn?hn:0);if(r===0)n!==null&&p_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p_(n),e===1)t.tag===0?KP(ox.bind(null,t)):i4(ox.bind(null,t)),HP(function(){!(Je&6)&&bs()}),n=null;else{switch(NE(r)){case 1:n=rv;break;case 4:n=CE;break;case 16:n=Md;break;case 536870912:n=PE;break;default:n=Md}n=rT(n,Q4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q4(t,e){if(fd=-1,pd=0,Je&6)throw Error(te(327));var n=t.callbackNode;if(ca()&&t.callbackNode!==n)return null;var r=Od(t,t===rn?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jd(t,r);else{e=r;var i=Je;Je|=2;var s=Z4();(rn!==t||hn!==e)&&(gi=null,Ra=Bt()+500,eo(t,e));do try{g5();break}catch(a){X4(t,a)}while(1);gv(),Qd.current=s,Je=i,Wt!==null?e=0:(rn=null,hn=0,e=Xt)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(r=i,e=Bm(t,i))),e===1)throw n=du,eo(t,0),Xi(t,r),Xn(t,Bt()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!p5(i)&&(e=Jd(t,r),e===2&&(s=fm(t),s!==0&&(r=s,e=Bm(t,s))),e===1))throw n=du,eo(t,0),Xi(t,r),Xn(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:zs(t,Hn,gi);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=Pv+500-Bt(),10<e)){if(Od(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wm(zs.bind(null,t,Hn,gi),e);break}zs(t,Hn,gi);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f5(r/1960))-r,10<r){t.timeoutHandle=wm(zs.bind(null,t,Hn,gi),r);break}zs(t,Hn,gi);break;case 5:zs(t,Hn,gi);break;default:throw Error(te(329))}}}return Xn(t,Bt()),t.callbackNode===n?Q4.bind(null,t):null}function Bm(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Jd(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&zm(e)),t}function zm(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function p5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~Cv,e&=~Bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function ox(t){if(Je&6)throw Error(te(327));ca();var e=Od(t,0);if(!(e&1))return Xn(t,Bt()),null;var n=Jd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=du,eo(t,0),Xi(t,e),Xn(t,Bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,Hn,gi),Xn(t,Bt()),null}function Dv(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(Ra=Bt()+500,Fh&&bs())}}function uo(t){is!==null&&is.tag===0&&!(Je&6)&&ca();var e=Je;Je|=1;var n=vr.transition,r=at;try{if(vr.transition=null,at=1,t)return t()}finally{at=r,vr.transition=n,Je=e,!(Je&6)&&bs()}}function Nv(){nr=Jo.current,Tt(Jo)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$P(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vd();break;case 3:Sa(),Tt(Kn),Tt(Pn),Ev();break;case 5:wv(r);break;case 4:Sa();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:vv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(rn=t,Wt=t=fs(t.current,null),hn=nr=e,Xt=0,du=null,Cv=Bh=lo=0,Hn=Vl=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ys=null}return t}function X4(t,e){do{var n=Wt;try{if(gv(),cd.current=Kd,Gd){for(var r=Dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gd=!1}if(ao=0,tn=Qt=Dt=null,Ul=!1,lu=0,kv.current=null,n===null||n.return===null){Xt=1,du=e,Wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Y_(o);if(m!==null){m.flags&=-257,G_(m,o,a,s,e),m.mode&1&&W_(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){W_(s,c,e),Mv();break e}l=Error(te(426))}}else if(kt&&a.mode&1){var T=Y_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),G_(T,o,a,s,e),pv(Ia(l,a));break e}}s=l=Ia(l,a),Xt!==4&&(Xt=2),Vl===null?Vl=[s]:Vl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=M4(s,l,e);j_(s,y);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ds===null||!ds.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=O4(s,a,e);j_(s,v);break e}}s=s.return}while(s!==null)}eT(n)}catch(C){e=C,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(1)}function Z4(){var t=Qd.current;return Qd.current=Kd,t===null?Kd:t}function Mv(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||!(lo&268435455)&&!(Bh&268435455)||Xi(rn,hn)}function Jd(t,e){var n=Je;Je|=2;var r=Z4();(rn!==t||hn!==e)&&(gi=null,eo(t,e));do try{m5();break}catch(i){X4(t,i)}while(1);if(gv(),Je=n,Qd.current=r,Wt!==null)throw Error(te(261));return rn=null,hn=0,Xt}function m5(){for(;Wt!==null;)J4(Wt)}function g5(){for(;Wt!==null&&!B3();)J4(Wt)}function J4(t){var e=nT(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?eT(t):Wt=e,kv.current=null}function eT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u5(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Wt=null;return}}else if(n=l5(n,e,nr),n!==null){Wt=n;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Xt===0&&(Xt=5)}function zs(t,e,n){var r=at,i=vr.transition;try{vr.transition=null,at=1,v5(t,e,n,r)}finally{vr.transition=i,at=r}return null}function v5(t,e,n,r){do ca();while(is!==null);if(Je&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(X3(t,s),t===rn&&(Wt=rn=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,rT(Md,function(){return ca(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vr.transition,vr.transition=null;var o=at;at=1;var a=Je;Je|=4,kv.current=null,d5(t,n),G4(n,t),FP(_m),Ld=!!ym,_m=ym=null,t.current=n,h5(n),z3(),Je=a,at=o,vr.transition=s}else t.current=n;if(jc&&(jc=!1,is=t,Zd=i),s=t.pendingLanes,s===0&&(ds=null),H3(n.stateNode),Xn(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xd)throw Xd=!1,t=jm,jm=null,t;return Zd&1&&t.tag!==0&&ca(),s=t.pendingLanes,s&1?t===Vm?Bl++:(Bl=0,Vm=t):Bl=0,bs(),null}function ca(){if(is!==null){var t=NE(Zd),e=vr.transition,n=at;try{if(vr.transition=null,at=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Zd=0,Je&6)throw Error(te(331));var i=Je;for(Je|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:jl(8,d,s)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var h=d.sibling,m=d.return;if(H4(d),d===c){he=null;break}if(h!==null){h.return=m,he=h;break}he=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,he=y;break e}he=s.return}}var _=t.current;for(he=_;he!==null;){o=he;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,he=E;else e:for(o=_;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vh(9,a)}}catch(C){Ut(a,a.return,C)}if(a===o){he=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,he=v;break e}he=a.return}}if(Je=i,bs(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Dh,t)}catch{}r=!0}return r}finally{at=n,vr.transition=e}}return!1}function ax(t,e,n){e=Ia(n,e),e=M4(t,e,1),t=cs(t,e,1),e=Vn(),t!==null&&(Nu(t,1,e),Xn(t,e))}function Ut(t,e,n){if(t.tag===3)ax(t,t,n);else for(;e!==null;){if(e.tag===3){ax(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=Ia(n,t),t=O4(e,t,1),e=cs(e,t,1),t=Vn(),e!==null&&(Nu(e,1,t),Xn(e,t));break}}e=e.return}}function y5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,rn===t&&(hn&n)===n&&(Xt===4||Xt===3&&(hn&130023424)===hn&&500>Bt()-Pv?eo(t,0):Cv|=n),Xn(t,e)}function tT(t,e){e===0&&(t.mode&1?(e=kc,kc<<=1,!(kc&130023424)&&(kc=4194304)):e=1);var n=Vn();t=ki(t,e),t!==null&&(Nu(t,e,n),Xn(t,n))}function _5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tT(t,n)}function x5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),tT(t,n)}var nT;nT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,a5(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,kt&&e.flags&1048576&&s4(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hd(t,e),t=e.pendingProps;var i=wa(e,Pn.current);ua(e,n),i=Sv(null,e,r,t,i,n);var s=Iv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,Bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_v(e),i.updater=Uh,e.stateNode=i,i._reactInternals=e,bm(e,r,t,n),e=Pm(null,e,r,!0,s,n)):(e.tag=0,kt&&s&&hv(e),Un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E5(r),t=Ir(r,t),i){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=X_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=Q_(null,e,r,Ir(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),Cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),X_(t,e,r,i,n);case 3:e:{if(j4(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,u4(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ia(Error(te(423)),e),e=Z_(t,e,r,n,i);break e}else if(r!==i){i=Ia(Error(te(424)),e),e=Z_(t,e,r,n,i);break e}else for(rr=us(e.stateNode.containerInfo.firstChild),or=e,kt=!0,br=null,n=f4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===i){e=Ci(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return p4(e),t===null&&Im(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xm(r,i)?o=null:s!==null&&xm(r,s)&&(e.flags|=32),U4(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&Im(e),null;case 13:return V4(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ta(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),K_(t,e,r,i,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gt($d,r._currentValue),r._currentValue=o,s!==null)if(Nr(s.value,o)){if(s.children===i.children&&!Kn.current){e=Ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Si(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ua(e,n),i=_r(i),r=r(i),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,i=Ir(r,e.pendingProps),i=Ir(r.type,i),Q_(t,e,r,i,n);case 15:return L4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),hd(t,e),e.tag=1,Qn(r)?(t=!0,Bd(e)):t=!1,ua(e,n),d4(e,r,i),bm(e,r,i,n),Pm(null,e,r,!0,t,n);case 19:return B4(t,e,n);case 22:return F4(t,e,n)}throw Error(te(156,e.tag))};function rT(t,e){return kE(t,e)}function w5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new w5(t,e,n,r)}function Ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E5(t){if(typeof t=="function")return Ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ev)return 11;if(t===tv)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function md(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qo:return to(n.children,i,s,e);case Jg:o=8,i|=8;break;case Zp:return t=gr(12,n,e,i|2),t.elementType=Zp,t.lanes=s,t;case Jp:return t=gr(13,n,e,i),t.elementType=Jp,t.lanes=s,t;case em:return t=gr(19,n,e,i),t.elementType=em,t.lanes=s,t;case hE:return zh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cE:o=10;break e;case dE:o=9;break e;case ev:o=11;break e;case tv:o=14;break e;case Gi:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=gr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function to(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function zh(t,e,n,r){return t=gr(22,t,r,e),t.elementType=hE,t.lanes=n,t.stateNode={isHidden:!1},t}function M0(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function O0(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m0(0),this.expirationTimes=m0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lv(t,e,n,r,i,s,o,a,l){return t=new T5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(s),t}function S5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iT(t){if(!t)return ys;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Qn(n))return r4(t,n,e)}return e}function sT(t,e,n,r,i,s,o,a,l){return t=Lv(n,r,!0,t,i,s,o,a,l),t.context=iT(null),n=t.current,r=Vn(),i=hs(n),s=Si(r,i),s.callback=e??null,cs(n,s,i),t.current.lanes=i,Nu(t,i,r),Xn(t,r),t}function qh(t,e,n,r){var i=e.current,s=Vn(),o=hs(i);return n=iT(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(Pr(t,i,o,s),ud(t,i,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fv(t,e){lx(t,e),(t=t.alternate)&&lx(t,e)}function I5(){return null}var oT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uv(t){this._internalRoot=t}$h.prototype.render=Uv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));qh(t,e,null,null)};$h.prototype.unmount=Uv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){qh(null,t,null,null)}),e[bi]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=LE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&UE(t)}};function jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ux(){}function R5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=eh(o);s.call(c)}}var o=sT(e,r,t,0,null,!1,!1,"",ux);return t._reactRootContainer=o,t[bi]=o.current,ru(t.nodeType===8?t.parentNode:t),uo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=eh(l);a.call(c)}}var l=Lv(t,0,!1,null,null,!1,!1,"",ux);return t._reactRootContainer=l,t[bi]=l.current,ru(t.nodeType===8?t.parentNode:t),uo(function(){qh(e,l,n,r)}),l}function Wh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=eh(o);a.call(l)}}qh(e,o,t,i)}else o=R5(n,e,t,i,r);return eh(o)}ME=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&(iv(e,n|1),Xn(e,Bt()),!(Je&6)&&(Ra=Bt()+500,bs()))}break;case 13:uo(function(){var r=ki(t,1);if(r!==null){var i=Vn();Pr(r,t,1,i)}}),Fv(t,1)}};sv=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=Vn();Pr(e,t,134217728,n)}Fv(t,134217728)}};OE=function(t){if(t.tag===13){var e=hs(t),n=ki(t,e);if(n!==null){var r=Vn();Pr(n,t,e,r)}Fv(t,e)}};LE=function(){return at};FE=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};cm=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lh(r);if(!i)throw Error(te(90));pE(r),rm(r,i)}}}break;case"textarea":gE(t,n);break;case"select":e=n.value,e!=null&&sa(t,!!n.multiple,e,!1)}};TE=Dv;SE=uo;var A5={usingClientEntryPoint:!1,Events:[Ou,Yo,Lh,wE,EE,Dv]},fl={findFiberByHostInstance:Ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b5={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||I5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Dh=Vc.inject(b5),Gr=Vc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A5;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(e))throw Error(te(200));return S5(t,e,null,n)};ur.createRoot=function(t,e){if(!jv(t))throw Error(te(299));var n=!1,r="",i=oT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lv(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,ru(t.nodeType===8?t.parentNode:t),new Uv(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=AE(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return uo(t)};ur.hydrate=function(t,e,n){if(!Hh(e))throw Error(te(200));return Wh(null,t,e,!0,n)};ur.hydrateRoot=function(t,e,n){if(!jv(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sT(e,null,t,1,n??null,i,!1,s,o),t[bi]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $h(e)};ur.render=function(t,e,n){if(!Hh(e))throw Error(te(200));return Wh(null,t,e,!1,n)};ur.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(te(40));return t._reactRootContainer?(uo(function(){Wh(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};ur.unstable_batchedUpdates=Dv;ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Wh(t,e,n,!1,r)};ur.version="18.2.0-next-9e3b772b8-20220608";function aT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aT)}catch(t){console.error(t)}}aT(),sE.exports=ur;var k5=sE.exports,cx=k5;Qp.createRoot=cx.createRoot,Qp.hydrateRoot=cx.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xt(){return xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xt.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const dx="popstate";function C5(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_s(i)}return D5(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P5(){return Math.random().toString(36).substr(2,8)}function hx(t,e){return{usr:t.state,key:t.key,idx:e}}function hu(t,e,n,r){return n===void 0&&(n=null),xt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ji(e):e,{state:n,key:e&&e.key||r||P5()})}function _s(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ji(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function D5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$t.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(xt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=$t.Pop;let T=d(),y=T==null?null:T-c;c=T,l&&l({action:a,location:x.location,delta:y})}function h(T,y){a=$t.Push;let _=hu(x.location,T,y);n&&n(_,T),c=d()+1;let E=hx(_,c),v=x.createHref(_);try{o.pushState(E,"",v)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(v)}s&&l&&l({action:a,location:x.location,delta:1})}function m(T,y){a=$t.Replace;let _=hu(x.location,T,y);n&&n(_,T),c=d();let E=hx(_,c),v=x.createHref(_);o.replaceState(E,"",v),s&&l&&l({action:a,location:x.location,delta:0})}function g(T){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:_s(T);return Se(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let x={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dx,f),l=T,()=>{i.removeEventListener(dx,f),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let y=g(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(T){return o.go(T)}};return x}var Kt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kt||(Kt={}));const N5=new Set(["lazy","caseSensitive","path","id","index","children"]);function M5(t){return t.index===!0}function qm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),M5(i)){let l=xt({},i,e(i),{id:a});return r[a]=l,l}else{let l=xt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=qm(i.children,e,o,r)),l}})}function ea(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ji(e):e,i=xs(r.pathname||"/",n);if(i==null)return null;let s=lT(t);O5(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=$5(s[a],Y5(i));return o}function lT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:z5(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of uT(s.path))i(s,o,l)}),e}function uT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function O5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L5=/^:\w+$/,F5=3,U5=2,j5=1,V5=10,B5=-2,fx=t=>t==="*";function z5(t,e){let n=t.split("/"),r=n.length;return n.some(fx)&&(r+=B5),e&&(r+=U5),n.filter(i=>!fx(i)).reduce((i,s)=>i+(L5.test(s)?F5:s===""?j5:V5),r)}function q5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $5(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=H5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:Qr([i,d.pathname]),pathnameBase:X5(Qr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Qr([i,d.pathnameBase]))}return s}function H5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{if(d==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return c[d]=G5(a[f]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function W5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y5(t){try{return decodeURI(t)}catch(e){return Aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G5(t,e){try{return decodeURIComponent(t)}catch(n){return Aa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ji(t):t;return{pathname:n?n.startsWith("/")?n:Q5(n,e):e,search:Z5(r),hash:J5(i)}}function Q5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function L0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fu(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ji(t):(i=xt({},t),Se(!i.pathname||!i.pathname.includes("?"),L0("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),L0("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),L0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=K5(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),X5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $m extends Error{}class e6{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Se(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new $m("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,void 0,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){if(this.controller.signal.aborted&&r instanceof $m)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r===void 0&&i===void 0){let s=new Error('Deferred data for key "'+n+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>s}),this.emit(!1,n),Promise.reject(s)}return i===void 0?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i)}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Se(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:n6(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function t6(t){return t instanceof Promise&&t._tracked===!0}function n6(t){if(!t6(t))return t;if(t._error)throw t._error;return t._data}const cT=function(e,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n;return new e6(e,r)},Fr=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,xt({},r,{headers:i}))};class Vv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function dT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hT=["post","put","patch","delete"],r6=new Set(hT),i6=["get",...hT],s6=new Set(i6),o6=new Set([301,302,303,307,308]),a6=new Set([307,308]),F0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},l6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u6=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function c6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let K=t.detectErrorBoundary;i=X=>({hasErrorBoundary:K(X)})}else i=u6;let s={},o=qm(t.routes,i,void 0,s),a,l=t.basename||"/",c=xt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),d=null,f=new Set,h=null,m=null,g=null,x=t.hydrationData!=null,T=ea(o,t.history.location,l),y=null;if(T==null){let K=hr(404,{pathname:t.history.location.pathname}),{matches:X,route:J}=wx(o);T=X,y={[J.id]:K}}let _=!T.some(K=>K.route.lazy)&&(!T.some(K=>K.route.loader)||t.hydrationData!=null),E,v={historyAction:t.history.action,location:t.history.location,matches:T,initialized:_,navigation:F0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},C=$t.Pop,A=!1,P,S=!1,k=!1,b=[],N=[],O=new Map,F=0,U=-1,$=new Map,L=new Set,M=new Map,q=new Map,V=new Map,W=!1;function Y(){return d=t.history.listen(K=>{let{action:X,location:J,delta:ce}=K;if(W){W=!1;return}Aa(V.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=Jt({currentLocation:v.location,nextLocation:J,historyAction:X});if(ye&&ce!=null){W=!0,t.history.go(ce*-1),Lt(ye,{state:"blocked",location:J,proceed(){Lt(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),t.history.go(ce)},reset(){let ge=new Map(v.blockers);ge.set(ye,pl),j({blockers:ge})}});return}return oe(X,J)}),v.initialized||oe($t.Pop,v.location),E}function H(){d&&d(),f.clear(),P&&P.abort(),v.fetchers.forEach((K,X)=>mt(X)),v.blockers.forEach((K,X)=>Ve(X))}function G(K){return f.add(K),()=>f.delete(K)}function j(K){v=xt({},v,K),f.forEach(X=>X(v))}function z(K,X){var J,ce;let ye=v.actionData!=null&&v.navigation.formMethod!=null&&Ar(v.navigation.formMethod)&&v.navigation.state==="loading"&&((J=K.state)==null?void 0:J._isRedirect)!==!0,ge;X.actionData?Object.keys(X.actionData).length>0?ge=X.actionData:ge=null:ye?ge=v.actionData:ge=null;let ae=X.loaderData?xx(v.loaderData,X.loaderData,X.matches||[],X.errors):v.loaderData,pe=v.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((Ce,st)=>pe.set(st,pl)));let ue=A===!0||v.navigation.formMethod!=null&&Ar(v.navigation.formMethod)&&((ce=K.state)==null?void 0:ce._isRedirect)!==!0;a&&(o=a,a=void 0),S||C===$t.Pop||(C===$t.Push?t.history.push(K,K.state):C===$t.Replace&&t.history.replace(K,K.state)),j(xt({},X,{actionData:ge,loaderData:ae,historyAction:C,location:K,initialized:!0,navigation:F0,revalidation:"idle",restoreScrollPosition:At(K,X.matches||v.matches),preventScrollReset:ue,blockers:pe})),C=$t.Pop,A=!1,S=!1,k=!1,b=[],N=[]}async function se(K,X){if(typeof K=="number"){t.history.go(K);return}let J=Hm(v.location,v.matches,l,c.v7_prependBasename,K,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:ce,submission:ye,error:ge}=px(c.v7_normalizeFormMethod,!1,J,X),ae=v.location,pe=hu(v.location,ce,X&&X.state);pe=xt({},pe,t.history.encodeLocation(pe));let ue=X&&X.replace!=null?X.replace:void 0,Ce=$t.Push;ue===!0?Ce=$t.Replace:ue===!1||ye!=null&&Ar(ye.formMethod)&&ye.formAction===v.location.pathname+v.location.search&&(Ce=$t.Replace);let st=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Ne=Jt({currentLocation:ae,nextLocation:pe,historyAction:Ce});if(Ne){Lt(Ne,{state:"blocked",location:pe,proceed(){Lt(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),se(K,X)},reset(){let Ge=new Map(v.blockers);Ge.set(Ne,pl),j({blockers:Ge})}});return}return await oe(Ce,pe,{submission:ye,pendingError:ge,preventScrollReset:st,replace:X&&X.replace})}function Te(){if(He(),j({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){oe(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}oe(C||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function oe(K,X,J){P&&P.abort(),P=null,C=K,S=(J&&J.startUninterruptedRevalidation)===!0,vt(v.location,v.matches),A=(J&&J.preventScrollReset)===!0;let ce=a||o,ye=J&&J.overrideNavigation,ge=ea(ce,X,l);if(!ge){let Ge=hr(404,{pathname:X.pathname}),{matches:Ze,route:Gt}=wx(ce);Ye(),z(X,{matches:Ze,loaderData:{},errors:{[Gt.id]:Ge}});return}if(v.initialized&&!k&&m6(v.location,X)&&!(J&&J.submission&&Ar(J.submission.formMethod))){z(X,{matches:ge});return}P=new AbortController;let ae=gl(t.history,X,P.signal,J&&J.submission),pe,ue;if(J&&J.pendingError)ue={[ta(ge).route.id]:J.pendingError};else if(J&&J.submission&&Ar(J.submission.formMethod)){let Ge=await De(ae,X,J.submission,ge,{replace:J.replace});if(Ge.shortCircuited)return;pe=Ge.pendingActionData,ue=Ge.pendingActionError,ye=Bc(X,J.submission),ae=new Request(ae.url,{signal:ae.signal})}let{shortCircuited:Ce,loaderData:st,errors:Ne}=await Fe(ae,X,ge,ye,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,pe,ue);Ce||(P=null,z(X,xt({matches:ge},pe?{actionData:pe}:{},{loaderData:st,errors:Ne})))}async function De(K,X,J,ce,ye){ye===void 0&&(ye={}),He();let ge=x6(X,J);j({navigation:ge});let ae,pe=Ym(ce,X);if(!pe.route.action&&!pe.route.lazy)ae={type:Kt.error,error:hr(405,{method:K.method,pathname:X.pathname,routeId:pe.route.id})};else if(ae=await ml("action",K,pe,ce,s,i,l),K.signal.aborted)return{shortCircuited:!0};if(da(ae)){let ue;return ye&&ye.replace!=null?ue=ye.replace:ue=ae.location===v.location.pathname+v.location.search,await $e(v,ae,{submission:J,replace:ue}),{shortCircuited:!0}}if(zl(ae)){let ue=ta(ce,pe.route.id);return(ye&&ye.replace)!==!0&&(C=$t.Push),{pendingActionData:{},pendingActionError:{[ue.route.id]:ae.error}}}if(Ks(ae))throw hr(400,{type:"defer-action"});return{pendingActionData:{[pe.route.id]:ae.data}}}async function Fe(K,X,J,ce,ye,ge,ae,pe,ue){let Ce=ce||Bc(X,ye),st=ye||ge||Sx(Ce),Ne=a||o,[Ge,Ze]=mx(t.history,v,J,st,X,k,b,N,M,L,Ne,l,pe,ue);if(Ye(me=>!(J&&J.some(ln=>ln.route.id===me))||Ge&&Ge.some(ln=>ln.route.id===me)),U=++F,Ge.length===0&&Ze.length===0){let me=ke();return z(X,xt({matches:J,loaderData:{},errors:ue||null},pe?{actionData:pe}:{},me?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!S){Ze.forEach(ln=>{let jr=v.fetchers.get(ln.key),zt=vl(void 0,jr?jr.data:void 0);v.fetchers.set(ln.key,zt)});let me=pe||v.actionData;j(xt({navigation:Ce},me?Object.keys(me).length===0?{actionData:null}:{actionData:me}:{},Ze.length>0?{fetchers:new Map(v.fetchers)}:{}))}Ze.forEach(me=>{O.has(me.key)&&Ue(me.key),me.controller&&O.set(me.key,me.controller)});let Gt=()=>Ze.forEach(me=>Ue(me.key));P&&P.signal.addEventListener("abort",Gt);let{results:On,loaderResults:oi,fetcherResults:dr}=await pt(v.matches,J,Ge,Ze,K);if(K.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Gt),Ze.forEach(me=>O.delete(me.key));let dt=Ex(On);if(dt){if(dt.idx>=Ge.length){let me=Ze[dt.idx-Ge.length].key;L.add(me)}return await $e(v,dt.result,{replace:ae}),{shortCircuited:!0}}let{loaderData:ie,errors:ai}=_x(v,J,Ge,oi,ue,Ze,dr,q);q.forEach((me,ln)=>{me.subscribe(jr=>{(jr||me.done)&&q.delete(ln)})});let Ls=ke(),an=je(U),Fs=Ls||an||Ze.length>0;return xt({loaderData:ie,errors:ai},Fs?{fetchers:new Map(v.fetchers)}:{})}function rt(K){return v.fetchers.get(K)||l6}function it(K,X,J,ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(K)&&Ue(K);let ye=a||o,ge=Hm(v.location,v.matches,l,c.v7_prependBasename,J,X,ce==null?void 0:ce.relative),ae=ea(ye,ge,l);if(!ae){Oe(K,X,hr(404,{pathname:ge}));return}let{path:pe,submission:ue,error:Ce}=px(c.v7_normalizeFormMethod,!0,ge,ce);if(Ce){Oe(K,X,Ce);return}let st=Ym(ae,pe);if(A=(ce&&ce.preventScrollReset)===!0,ue&&Ar(ue.formMethod)){Ct(K,X,pe,st,ae,ue);return}M.set(K,{routeId:X,path:pe}),ut(K,X,pe,st,ae,ue)}async function Ct(K,X,J,ce,ye,ge){if(He(),M.delete(K),!ce.route.action&&!ce.route.lazy){let ot=hr(405,{method:ge.formMethod,pathname:J,routeId:X});Oe(K,X,ot);return}let ae=v.fetchers.get(K),pe=w6(ge,ae);v.fetchers.set(K,pe),j({fetchers:new Map(v.fetchers)});let ue=new AbortController,Ce=gl(t.history,J,ue.signal,ge);O.set(K,ue);let st=F,Ne=await ml("action",Ce,ce,ye,s,i,l);if(Ce.signal.aborted){O.get(K)===ue&&O.delete(K);return}if(da(Ne))if(O.delete(K),U>st){let ot=jo(void 0);v.fetchers.set(K,ot),j({fetchers:new Map(v.fetchers)});return}else{L.add(K);let ot=vl(ge);return v.fetchers.set(K,ot),j({fetchers:new Map(v.fetchers)}),$e(v,Ne,{submission:ge,isFetchActionRedirect:!0})}if(zl(Ne)){Oe(K,X,Ne.error);return}if(Ks(Ne))throw hr(400,{type:"defer-action"});let Ge=v.navigation.location||v.location,Ze=gl(t.history,Ge,ue.signal),Gt=a||o,On=v.navigation.state!=="idle"?ea(Gt,v.navigation.location,l):v.matches;Se(On,"Didn't find any matches after fetcher action");let oi=++F;$.set(K,oi);let dr=vl(ge,Ne.data);v.fetchers.set(K,dr);let[dt,ie]=mx(t.history,v,On,ge,Ge,k,b,N,M,L,Gt,l,{[ce.route.id]:Ne.data},void 0);ie.filter(ot=>ot.key!==K).forEach(ot=>{let gn=ot.key,Ft=v.fetchers.get(gn),er=vl(void 0,Ft?Ft.data:void 0);v.fetchers.set(gn,er),O.has(gn)&&Ue(gn),ot.controller&&O.set(gn,ot.controller)}),j({fetchers:new Map(v.fetchers)});let ai=()=>ie.forEach(ot=>Ue(ot.key));ue.signal.addEventListener("abort",ai);let{results:Ls,loaderResults:an,fetcherResults:Fs}=await pt(v.matches,On,dt,ie,Ze);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",ai),$.delete(K),O.delete(K),ie.forEach(ot=>O.delete(ot.key));let me=Ex(Ls);if(me){if(me.idx>=dt.length){let ot=ie[me.idx-dt.length].key;L.add(ot)}return $e(v,me.result)}let{loaderData:ln,errors:jr}=_x(v,v.matches,dt,an,void 0,ie,Fs,q);if(v.fetchers.has(K)){let ot=jo(Ne.data);v.fetchers.set(K,ot)}let zt=je(oi);v.navigation.state==="loading"&&oi>U?(Se(C,"Expected pending action"),P&&P.abort(),z(v.navigation.location,{matches:On,loaderData:ln,errors:jr,fetchers:new Map(v.fetchers)})):(j(xt({errors:jr,loaderData:xx(v.loaderData,ln,On,jr)},zt||ie.length>0?{fetchers:new Map(v.fetchers)}:{})),k=!1)}async function ut(K,X,J,ce,ye,ge){let ae=v.fetchers.get(K),pe=vl(ge,ae?ae.data:void 0);v.fetchers.set(K,pe),j({fetchers:new Map(v.fetchers)});let ue=new AbortController,Ce=gl(t.history,J,ue.signal);O.set(K,ue);let st=F,Ne=await ml("loader",Ce,ce,ye,s,i,l);if(Ks(Ne)&&(Ne=await gT(Ne,Ce.signal,!0)||Ne),O.get(K)===ue&&O.delete(K),Ce.signal.aborted)return;if(da(Ne))if(U>st){let Ze=jo(void 0);v.fetchers.set(K,Ze),j({fetchers:new Map(v.fetchers)});return}else{L.add(K),await $e(v,Ne);return}if(zl(Ne)){let Ze=ta(v.matches,X);v.fetchers.delete(K),j({fetchers:new Map(v.fetchers),errors:{[Ze.route.id]:Ne.error}});return}Se(!Ks(Ne),"Unhandled fetcher deferred data");let Ge=jo(Ne.data);v.fetchers.set(K,Ge),j({fetchers:new Map(v.fetchers)})}async function $e(K,X,J){let{submission:ce,replace:ye,isFetchActionRedirect:ge}=J===void 0?{}:J;X.revalidate&&(k=!0);let ae=hu(K.location,X.location,xt({_isRedirect:!0},ge?{_isFetchActionRedirect:!0}:{}));if(Se(ae,"Expected a location on the redirect navigation"),fT.test(X.location)&&n){let Ce=t.history.createURL(X.location),st=xs(Ce.pathname,l)==null;if(e.location.origin!==Ce.origin||st){ye?e.location.replace(X.location):e.location.assign(X.location);return}}P=null;let pe=ye===!0?$t.Replace:$t.Push,ue=ce||Sx(K.navigation);if(a6.has(X.status)&&ue&&Ar(ue.formMethod))await oe(pe,ae,{submission:xt({},ue,{formAction:X.location}),preventScrollReset:A});else if(ge)await oe(pe,ae,{overrideNavigation:Bc(ae),fetcherSubmission:ue,preventScrollReset:A});else{let Ce=Bc(ae,ue);await oe(pe,ae,{overrideNavigation:Ce,preventScrollReset:A})}}async function pt(K,X,J,ce,ye){let ge=await Promise.all([...J.map(ue=>ml("loader",ye,ue,X,s,i,l)),...ce.map(ue=>ue.matches&&ue.match&&ue.controller?ml("loader",gl(t.history,ue.path,ue.controller.signal),ue.match,ue.matches,s,i,l):{type:Kt.error,error:hr(404,{pathname:ue.path})})]),ae=ge.slice(0,J.length),pe=ge.slice(J.length);return await Promise.all([Tx(K,J,ae,ae.map(()=>ye.signal),!1,v.loaderData),Tx(K,ce.map(ue=>ue.match),pe,ce.map(ue=>ue.controller?ue.controller.signal:null),!0)]),{results:ge,loaderResults:ae,fetcherResults:pe}}function He(){k=!0,b.push(...Ye()),M.forEach((K,X)=>{O.has(X)&&(N.push(X),Ue(X))})}function Oe(K,X,J){let ce=ta(v.matches,X);mt(K),j({errors:{[ce.route.id]:J},fetchers:new Map(v.fetchers)})}function mt(K){let X=v.fetchers.get(K);O.has(K)&&!(X&&X.state==="loading"&&$.has(K))&&Ue(K),M.delete(K),$.delete(K),L.delete(K),v.fetchers.delete(K)}function Ue(K){let X=O.get(K);Se(X,"Expected fetch controller: "+K),X.abort(),O.delete(K)}function xe(K){for(let X of K){let J=rt(X),ce=jo(J.data);v.fetchers.set(X,ce)}}function ke(){let K=[],X=!1;for(let J of L){let ce=v.fetchers.get(J);Se(ce,"Expected fetcher: "+J),ce.state==="loading"&&(L.delete(J),K.push(J),X=!0)}return xe(K),X}function je(K){let X=[];for(let[J,ce]of $)if(ce<K){let ye=v.fetchers.get(J);Se(ye,"Expected fetcher: "+J),ye.state==="loading"&&(Ue(J),$.delete(J),X.push(J))}return xe(X),X.length>0}function We(K,X){let J=v.blockers.get(K)||pl;return V.get(K)!==X&&V.set(K,X),J}function Ve(K){v.blockers.delete(K),V.delete(K)}function Lt(K,X){let J=v.blockers.get(K)||pl;Se(J.state==="unblocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="proceeding"||J.state==="blocked"&&X.state==="unblocked"||J.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+X.state);let ce=new Map(v.blockers);ce.set(K,X),j({blockers:ce})}function Jt(K){let{currentLocation:X,nextLocation:J,historyAction:ce}=K;if(V.size===0)return;V.size>1&&Aa(!1,"A router only supports one blocker at a time");let ye=Array.from(V.entries()),[ge,ae]=ye[ye.length-1],pe=v.blockers.get(ge);if(!(pe&&pe.state==="proceeding")&&ae({currentLocation:X,nextLocation:J,historyAction:ce}))return ge}function Ye(K){let X=[];return q.forEach((J,ce)=>{(!K||K(ce))&&(J.cancel(),X.push(ce),q.delete(ce))}),X}function we(K,X,J){if(h=K,g=X,m=J||null,!x&&v.navigation===F0){x=!0;let ce=At(v.location,v.matches);ce!=null&&j({restoreScrollPosition:ce})}return()=>{h=null,g=null,m=null}}function ct(K,X){return m&&m(K,X.map(ce=>_6(ce,v.loaderData)))||K.key}function vt(K,X){if(h&&g){let J=ct(K,X);h[J]=g()}}function At(K,X){if(h){let J=ct(K,X),ce=h[J];if(typeof ce=="number")return ce}return null}function Mn(K){s={},a=qm(K,i,void 0,s)}return E={get basename(){return l},get state(){return v},get routes(){return o},initialize:Y,subscribe:G,enableScrollRestoration:we,navigate:se,fetch:it,revalidate:Te,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:rt,deleteFetcher:mt,dispose:H,getBlocker:We,deleteBlocker:Ve,_internalFetchControllers:O,_internalActiveDeferreds:q,_internalSetRoutes:Mn},E}function d6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hm(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let d of e)if(a.push(d),d.route.id===s){l=d;break}}else a=e,l=e[e.length-1];let c=Yh(i||".",Fu(a).map(d=>d.pathnameBase),xs(t.pathname,n)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Bv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Qr([n,c.pathname])),_s(c)}function px(t,e,n,r){if(!r||!d6(r))return{path:n};if(r.formMethod&&!y6(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let i=()=>({path:n,error:hr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=mT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ar(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[x,T]=g;return""+m+x+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Ar(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Wm(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Wm(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=yx(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=yx(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ar(d.formMethod))return{path:n,submission:d};let f=ji(n);return e&&f.search&&Bv(f.search)&&l.append("index",""),f.search="?"+l,{path:_s(f),submission:d}}function h6(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function mx(t,e,n,r,i,s,o,a,l,c,d,f,h,m){let g=m?Object.values(m)[0]:h?Object.values(h)[0]:void 0,x=t.createURL(e.location),T=t.createURL(i),y=m?Object.keys(m)[0]:void 0,E=h6(n,y).filter((C,A)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(f6(e.loaderData,e.matches[A],C)||o.some(k=>k===C.route.id))return!0;let P=e.matches[A],S=C;return gx(C,xt({currentUrl:x,currentParams:P.params,nextUrl:T,nextParams:S.params},r,{actionResult:g,defaultShouldRevalidate:s||x.pathname+x.search===T.pathname+T.search||x.search!==T.search||pT(P,S)}))}),v=[];return l.forEach((C,A)=>{if(!n.some(N=>N.route.id===C.routeId))return;let P=ea(d,C.path,f);if(!P){v.push({key:A,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(A),k=Ym(P,C.path),b=!1;c.has(A)?b=!1:a.includes(A)?b=!0:S&&S.state!=="idle"&&S.data===void 0?b=s:b=gx(k,xt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:s})),b&&v.push({key:A,routeId:C.routeId,path:C.path,matches:P,match:k,controller:new AbortController})}),[E,v]}function f6(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function pT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function gx(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function vx(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Aa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!N5.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,xt({},e(i),{lazy:void 0}))}async function ml(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,c,d,f=g=>{let x,T=new Promise((y,_)=>x=_);return d=()=>x(),e.signal.addEventListener("abort",d),Promise.race([g({request:e,params:n.params,context:a.requestContext}),T])};try{let g=n.route[t];if(n.route.lazy)if(g)c=(await Promise.all([f(g),vx(n.route,s,i)]))[0];else if(await vx(n.route,s,i),g=n.route[t],g)c=await f(g);else if(t==="action"){let x=new URL(e.url),T=x.pathname+x.search;throw hr(405,{method:e.method,pathname:T,routeId:n.route.id})}else return{type:Kt.data,data:void 0};else if(g)c=await f(g);else{let x=new URL(e.url),T=x.pathname+x.search;throw hr(404,{pathname:T})}Se(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=Kt.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(v6(c)){let g=c.status;if(o6.has(g)){let y=c.headers.get("Location");if(Se(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!fT.test(y))y=Hm(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a.isStaticRequest){let _=new URL(e.url),E=y.startsWith("//")?new URL(_.protocol+y):new URL(y),v=xs(E.pathname,o)!=null;E.origin===_.origin&&v&&(y=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Kt.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||Kt.data,response:c};let x,T=c.headers.get("Content-Type");return T&&/\bapplication\/json\b/.test(T)?x=await c.json():x=await c.text(),l===Kt.error?{type:l,error:new Vv(g,c.statusText,x),headers:c.headers}:{type:Kt.data,data:x,statusCode:c.status,headers:c.headers}}if(l===Kt.error)return{type:l,error:c};if(g6(c)){var h,m;return{type:Kt.deferred,deferredData:c,statusCode:(h=c.init)==null?void 0:h.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:Kt.data,data:c}}function gl(t,e,n,r){let i=t.createURL(mT(e)).toString(),s={signal:n};if(r&&Ar(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Wm(r.formData):s.body=r.formData}return new Request(i,s)}function Wm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function yx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function p6(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((d,f)=>{let h=e[f].route.id;if(Se(!da(d),"Cannot handle redirect results in processLoaderData"),zl(d)){let m=ta(t,h),g=d.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=g),s[h]=void 0,l||(l=!0,a=dT(d.error)?d.error.status:500),d.headers&&(c[h]=d.headers)}else Ks(d)?(i.set(h,d.deferredData),s[h]=d.deferredData.data):s[h]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[h]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function _x(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=p6(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:h,controller:m}=s[d];Se(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let g=o[d];if(!(m&&m.signal.aborted))if(zl(g)){let x=ta(t.matches,h==null?void 0:h.route.id);c&&c[x.route.id]||(c=xt({},c,{[x.route.id]:g.error})),t.fetchers.delete(f)}else if(da(g))Se(!1,"Unhandled fetcher revalidation redirect");else if(Ks(g))Se(!1,"Unhandled fetcher deferred data");else{let x=jo(g.data);t.fetchers.set(f,x)}}return{loaderData:l,errors:c}}function xx(t,e,n,r){let i=xt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ta(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function wx(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Vv(t||500,o,new Error(a),!0)}function Ex(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(da(n))return{result:n,idx:e}}}function mT(t){let e=typeof t=="string"?ji(t):t;return _s(xt({},e,{hash:""}))}function m6(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ks(t){return t.type===Kt.deferred}function zl(t){return t.type===Kt.error}function da(t){return(t&&t.type)===Kt.redirect}function g6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function v6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function y6(t){return s6.has(t.toLowerCase())}function Ar(t){return r6.has(t.toLowerCase())}async function Tx(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),d=c!=null&&!pT(c,l)&&(s&&s[l.route.id])!==void 0;if(Ks(a)&&(i||d)){let f=r[o];Se(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await gT(a,f,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function gT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Kt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Kt.error,error:i}}return{type:Kt.data,data:t.deferredData.data}}}function Bv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function _6(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Ym(t,e){let n=typeof e=="string"?ji(e).search:e.search;if(t[t.length-1].route.index&&Bv(n||""))return t[t.length-1];let r=Fu(t);return r[r.length-1]}function Sx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Bc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function x6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function w6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function jo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}const Uu=Q.createContext(null),zv=Q.createContext(null),Gm=Q.createContext(null),Vi=Q.createContext(null),Gh=Q.createContext(null),Ur=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),vT=Q.createContext(null);function E6(t,e){let{relative:n}=e===void 0?{}:e;qa()||Se(!1);let{basename:r,navigator:i}=Q.useContext(Vi),{hash:s,pathname:o,search:a}=Kh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qa(){return Q.useContext(Gh)!=null}function Bi(){return qa()||Se(!1),Q.useContext(Gh).location}function yT(t){Q.useContext(Vi).static||Q.useLayoutEffect(t)}function ju(){let{isDataRoute:t}=Q.useContext(Ur);return t?F6():T6()}function T6(){qa()||Se(!1);let t=Q.useContext(Uu),{basename:e,navigator:n}=Q.useContext(Vi),{matches:r}=Q.useContext(Ur),{pathname:i}=Bi(),s=JSON.stringify(Fu(r).map(l=>l.pathnameBase)),o=Q.useRef(!1);return yT(()=>{o.current=!0}),Q.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Yh(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const S6=Q.createContext(null);function I6(t){let e=Q.useContext(Ur).outlet;return e&&Q.createElement(S6.Provider,{value:t},e)}function Kh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Q.useContext(Ur),{pathname:i}=Bi(),s=JSON.stringify(Fu(r).map(o=>o.pathnameBase));return Q.useMemo(()=>Yh(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function R6(t,e,n){qa()||Se(!1);let{navigator:r}=Q.useContext(Vi),{matches:i}=Q.useContext(Ur),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Bi(),c;if(e){var d;let x=typeof e=="string"?ji(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||Se(!1),c=x}else c=l;let f=c.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",m=ea(t,{pathname:h}),g=P6(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Qr([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Qr([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&g?Q.createElement(Gh.Provider,{value:{location:th({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$t.Pop}},g):g}function A6(){let t=O6(),e=dT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,s)}const b6=Q.createElement(A6,null);class k6 extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Q.createElement(Ur.Provider,{value:this.props.routeContext},Q.createElement(vT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(Uu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(Ur.Provider,{value:e},r)}function P6(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Se(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||b6);let h=e.concat(s.slice(0,c+1)),m=()=>{let g;return d?g=f:l.route.Component?g=Q.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,Q.createElement(C6,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?Q.createElement(k6,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var Km;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Km||(Km={}));var ni;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ni||(ni={}));function D6(t){let e=Q.useContext(Uu);return e||Se(!1),e}function Qh(t){let e=Q.useContext(zv);return e||Se(!1),e}function N6(t){let e=Q.useContext(Ur);return e||Se(!1),e}function Xh(t){let e=N6(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function M6(){return Xh(ni.UseRouteId)}function ks(){return Qh(ni.UseNavigation).navigation}function Zh(){let t=Qh(ni.UseLoaderData),e=Xh(ni.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function $a(){let t=Qh(ni.UseActionData);return Q.useContext(Ur)||Se(!1),Object.values((t==null?void 0:t.actionData)||{})[0]}function O6(){var t;let e=Q.useContext(vT),n=Qh(ni.UseRouteError),r=Xh(ni.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function L6(){let t=Q.useContext(Gm);return t==null?void 0:t._data}function F6(){let{router:t}=D6(Km.UseNavigateStable),e=Xh(ni.UseNavigateStable),n=Q.useRef(!1);return yT(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,th({fromRouteId:e},s)))},[t,e])}const U6="startTransition",Ix=_3[U6];function j6(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=Q.useState(n.state),{v7_startTransition:o}=r||{},a=Q.useCallback(f=>{o&&Ix?Ix(()=>s(f)):s(f)},[s,o]);Q.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=Q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:f=>n.navigate(f),push:(f,h,m)=>n.navigate(f,{state:h,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(f,h,m)=>n.navigate(f,{replace:!0,state:h,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[n]),c=n.basename||"/",d=Q.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return Q.createElement(Q.Fragment,null,Q.createElement(Uu.Provider,{value:d},Q.createElement(zv.Provider,{value:i},Q.createElement(z6,{basename:c,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?Q.createElement(V6,{routes:n.routes,state:i}):e))),null)}function V6(t){let{routes:e,state:n}=t;return R6(e,void 0,n)}function _T(t){let{to:e,replace:n,state:r,relative:i}=t;qa()||Se(!1);let{matches:s}=Q.useContext(Ur),{pathname:o}=Bi(),a=ju(),l=Yh(e,Fu(s).map(d=>d.pathnameBase),o,i==="path"),c=JSON.stringify(l);return Q.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function B6(t){return I6(t.context)}function xn(t){Se(!1)}function z6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$t.Pop,navigator:s,static:o=!1}=t;qa()&&Se(!1);let a=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ji(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=Q.useMemo(()=>{let x=xs(c,a);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:m},navigationType:i}},[a,c,d,f,h,m,i]);return g==null?null:Q.createElement(Vi.Provider,{value:l},Q.createElement(Gh.Provider,{children:n,value:g}))}function Qm(t){let{children:e,errorElement:n,resolve:r}=t;return Q.createElement($6,{resolve:r,errorElement:n},Q.createElement(H6,null,e))}var tr;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(tr||(tr={}));const q6=new Promise(()=>{});class $6 extends Q.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("<Await> caught the following error during render",e,n)}render(){let{children:e,errorElement:n,resolve:r}=this.props,i=null,s=tr.pending;if(!(r instanceof Promise))s=tr.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>r});else if(this.state.error){s=tr.error;let o=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>o})}else r._tracked?(i=r,s=i._error!==void 0?tr.error:i._data!==void 0?tr.success:tr.pending):(s=tr.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),i=r.then(o=>Object.defineProperty(r,"_data",{get:()=>o}),o=>Object.defineProperty(r,"_error",{get:()=>o})));if(s===tr.error&&i._error instanceof $m)throw q6;if(s===tr.error&&!n)throw i._error;if(s===tr.error)return Q.createElement(Gm.Provider,{value:i,children:n});if(s===tr.success)return Q.createElement(Gm.Provider,{value:i,children:e});throw i}}function H6(t){let{children:e}=t,n=L6(),r=typeof e=="function"?e(n):e;return Q.createElement(Q.Fragment,null,r)}function Xm(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,Xm(r.props.children,s));return}r.type!==xn&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xm(r.props.children,s)),n.push(o)}),n}function W6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Q.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Q.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pi.apply(this,arguments)}function qv(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const gd="get",U0="application/x-www-form-urlencoded";function Jh(t){return t!=null&&typeof t.tagName=="string"}function Y6(t){return Jh(t)&&t.tagName.toLowerCase()==="button"}function G6(t){return Jh(t)&&t.tagName.toLowerCase()==="form"}function K6(t){return Jh(t)&&t.tagName.toLowerCase()==="input"}function Q6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X6(t,e){return t.button===0&&(!e||e==="_self")&&!Q6(t)}let zc=null;function Z6(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}const J6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function j0(t){return t!=null&&!J6.has(t)?null:t}function e8(t,e){let n,r,i,s,o;if(G6(t)){let a=t.getAttribute("action");r=a?xs(a,e):null,n=t.getAttribute("method")||gd,i=j0(t.getAttribute("enctype"))||U0,s=new FormData(t)}else if(Y6(t)||K6(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?xs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||gd,i=j0(t.getAttribute("formenctype"))||j0(a.getAttribute("enctype"))||U0,s=new FormData(a,t),!Z6()){let{name:c,type:d,value:f}=t;if(d==="image"){let h=c?c+".":"";s.append(h+"x","0"),s.append(h+"y","0")}else c&&s.append(c,f)}}else{if(Jh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gd,r=null,i=U0,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const t8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],n8=["aria-current","caseSensitive","className","end","style","to","children"],r8=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"];function i8(t,e){return c6({basename:e==null?void 0:e.basename,future:Pi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:C5({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||s8(),routes:t,mapRouteProperties:W6}).initialize()}function s8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pi({},e,{errors:o8(e.errors)})),e}function o8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const a8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,f=qv(e,t8),{basename:h}=Q.useContext(Vi),m,g=!1;if(typeof c=="string"&&l8.test(c)&&(m=c,a8))try{let _=new URL(window.location.href),E=c.startsWith("//")?new URL(_.protocol+c):new URL(c),v=xs(E.pathname,h);E.origin===_.origin&&v!=null?c=v+E.search+E.hash:g=!0}catch{}let x=E6(c,{relative:i}),T=d8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function y(_){r&&r(_),_.defaultPrevented||T(_)}return Q.createElement("a",Pi({},f,{href:m||x,onClick:g||s?r:y,ref:n,target:l}))}),yl=Q.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,d=qv(e,n8),f=Kh(l,{relative:d.relative}),h=Bi(),m=Q.useContext(zv),{navigator:g}=Q.useContext(Vi),x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,T=h.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(T=T.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase());let _=T===x||!o&&T.startsWith(x)&&T.charAt(x.length)==="/",E=y!=null&&(y===x||!o&&y.startsWith(x)&&y.charAt(x.length)==="/"),v=_?r:void 0,C;typeof s=="function"?C=s({isActive:_,isPending:E}):C=[s,_?"active":null,E?"pending":null].filter(Boolean).join(" ");let A=typeof a=="function"?a({isActive:_,isPending:E}):a;return Q.createElement(Jn,Pi({},d,{"aria-current":v,className:C,ref:n,style:A,to:l}),typeof c=="function"?c({isActive:_,isPending:E}):c)}),Cs=Q.forwardRef((t,e)=>{let n=f8();return Q.createElement(u8,Pi({},t,{submit:n,ref:e}))}),u8=Q.forwardRef((t,e)=>{let{reloadDocument:n,replace:r,state:i,method:s=gd,action:o,onSubmit:a,submit:l,relative:c,preventScrollReset:d}=t,f=qv(t,r8),h=s.toLowerCase()==="get"?"get":"post",m=p8(o,{relative:c}),g=x=>{if(a&&a(x),x.defaultPrevented)return;x.preventDefault();let T=x.nativeEvent.submitter,y=(T==null?void 0:T.getAttribute("formmethod"))||s;l(T||x.currentTarget,{method:y,replace:r,state:i,relative:c,preventScrollReset:d})};return Q.createElement("form",Pi({ref:e,method:h,action:m,onSubmit:n?a:g},f))});var Zm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Zm||(Zm={}));var Rx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rx||(Rx={}));function c8(t){let e=Q.useContext(Uu);return e||Se(!1),e}function d8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ju(),l=Bi(),c=Kh(t,{relative:o});return Q.useCallback(d=>{if(X6(d,n)){d.preventDefault();let f=r!==void 0?r:_s(l)===_s(c);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function h8(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function f8(){let{router:t}=c8(Zm.UseSubmit),{basename:e}=Q.useContext(Vi),n=M6();return Q.useCallback(function(r,i){i===void 0&&(i={}),h8();let{action:s,method:o,encType:a,formData:l,body:c}=e8(r,e);t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n})},[t,e,n])}function p8(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=Q.useContext(Vi),i=Q.useContext(Ur);i||Se(!1);let[s]=i.matches.slice(-1),o=Pi({},Kh(t||".",{relative:n})),a=Bi();if(t==null&&(o.search=a.search,o.hash=a.hash,s.route.index)){let l=new URLSearchParams(o.search);l.delete("index"),o.search=l.toString()?"?"+l.toString():""}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Qr([r,o.pathname])),_s(o)}function nn({name:t,type:e,onChange:n,require:r,min:i,id:s,placeholder:o,value:a,disabled:l,pattern:c,title:d}){return R.jsx("input",{type:e,className:" focus:outline-quotee-200 px-5 py-2 rounded bg-quotee-100 placeholder:text-quotee-300",placeholder:o,id:s,pattern:c,title:d,disabled:l,value:a,name:t||"",onChange:n,required:r,minLength:i||""})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new g8;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v8=function(t){const e=xT(t);return wT.encodeByteArray(e,!0)},nh=function(t){return v8(t).replace(/\./g,"")},ET=function(t){try{return wT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=()=>y8().__FIREBASE_DEFAULTS__,x8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ET(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return _8()||x8()||w8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TT=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ST=t=>{const e=TT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IT=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},RT=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function S8(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A8(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b8(){try{return typeof indexedDB=="object"}catch{return!1}}function k8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C8,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?P8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new si(i,a,r)}}function P8(t,e){return t.replace(D8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D8=/\{\$([^}]+)}/g;function N8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ax(s)&&Ax(o)){if(!rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ax(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M8(t,e){const n=new O8(t,e);return n.subscribe.bind(n)}class O8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=V0),i.error===void 0&&(i.error=V0),i.complete===void 0&&(i.complete=V0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function V0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j8(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U8(t){return t===qs?void 0:t}function j8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const B8={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},z8=tt.INFO,q8={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},$8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $v{constructor(e){this.name=e,this._logLevel=z8,this._logHandler=$8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const H8=(t,e)=>e.some(n=>t instanceof n);let bx,kx;function W8(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y8(){return kx||(kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,Jm=new WeakMap,kT=new WeakMap,B0=new WeakMap,Hv=new WeakMap;function G8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ps(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function K8(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q8(t){eg=t(eg)}function X8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(z0(this),e,...n);return kT.set(r,e.sort?e.sort():[e]),ps(r)}:Y8().includes(t)?function(...e){return t.apply(z0(this),e),ps(bT.get(this))}:function(...e){return ps(t.apply(z0(this),e))}}function Z8(t){return typeof t=="function"?X8(t):(t instanceof IDBTransaction&&K8(t),H8(t,W8())?new Proxy(t,eg):t)}function ps(t){if(t instanceof IDBRequest)return G8(t);if(B0.has(t))return B0.get(t);const e=Z8(t);return e!==t&&(B0.set(t,e),Hv.set(e,t)),e}const z0=t=>Hv.get(t);function J8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ps(o.result),l.oldVersion,l.newVersion,ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eD=["get","getKey","getAll","getAllKeys","count"],tD=["put","add","delete","clear"],q0=new Map;function Cx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q0.get(e))return q0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return q0.set(e,s),s}Q8(t=>({...t,get:(e,n,r)=>Cx(e,n)||t.get(e,n,r),has:(e,n)=>!!Cx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",Px="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new $v("@firebase/app"),iD="@firebase/app-compat",sD="@firebase/analytics-compat",oD="@firebase/analytics",aD="@firebase/app-check-compat",lD="@firebase/app-check",uD="@firebase/auth",cD="@firebase/auth-compat",dD="@firebase/database",hD="@firebase/database-compat",fD="@firebase/functions",pD="@firebase/functions-compat",mD="@firebase/installations",gD="@firebase/installations-compat",vD="@firebase/messaging",yD="@firebase/messaging-compat",_D="@firebase/performance",xD="@firebase/performance-compat",wD="@firebase/remote-config",ED="@firebase/remote-config-compat",TD="@firebase/storage",SD="@firebase/storage-compat",ID="@firebase/firestore",RD="@firebase/firestore-compat",AD="firebase",bD="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",kD={[tg]:"fire-core",[iD]:"fire-core-compat",[oD]:"fire-analytics",[sD]:"fire-analytics-compat",[lD]:"fire-app-check",[aD]:"fire-app-check-compat",[uD]:"fire-auth",[cD]:"fire-auth-compat",[dD]:"fire-rtdb",[hD]:"fire-rtdb-compat",[fD]:"fire-fn",[pD]:"fire-fn-compat",[mD]:"fire-iid",[gD]:"fire-iid-compat",[vD]:"fire-fcm",[yD]:"fire-fcm-compat",[_D]:"fire-perf",[xD]:"fire-perf-compat",[wD]:"fire-rc",[ED]:"fire-rc-compat",[TD]:"fire-gcs",[SD]:"fire-gcs-compat",[ID]:"fire-fst",[RD]:"fire-fst-compat","fire-js":"fire-js",[AD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,rg=new Map;function CD(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(rg.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of ih.values())CD(n,t);return!0}function tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ms=new Vu("app","Firebase",PD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=bD;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=IT()),!n)throw ms.create("no-options");const s=ih.get(i);if(s){if(rh(n,s.options)&&rh(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const o=new V8(i);for(const l of rg.values())o.addComponent(l);const a=new DD(n,r,o);return ih.set(i,a),a}function Wv(t=ng){const e=ih.get(t);if(!e&&t===ng&&IT())return CT();if(!e)throw ms.create("no-app",{appName:t});return e}function Xr(t,e,n){var r;let i=(r=kD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(a.join(" "));return}ho(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",MD=1,fu="firebase-heartbeat-store";let $0=null;function PT(){return $0||($0=J8(ND,MD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fu)}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),$0}async function OD(t){try{return await(await PT()).transaction(fu).objectStore(fu).get(DT(t))}catch(e){if(e instanceof si)co.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});co.warn(n.message)}}}async function Dx(t,e){try{const r=(await PT()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,DT(t)),await r.done}catch(n){if(n instanceof si)co.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});co.warn(r.message)}}}function DT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,FD=30*24*60*60*1e3;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=FD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nx(),{heartbeatsToSend:n,unsentEntries:r}=jD(this._heartbeatsCache.heartbeats),i=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Nx(){return new Date().toISOString().substring(0,10)}function jD(t,e=LD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b8()?k8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await OD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){ho(new ws("platform-logger",e=>new nD(e),"PRIVATE")),ho(new ws("heartbeat",e=>new UD(e),"PRIVATE")),Xr(tg,Px,t),Xr(tg,Px,"esm2017"),Xr("fire-js","")}BD("");var zD="firebase",qD="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(zD,qD,"app");function Yv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $D=NT,MT=new Vu("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new $v("@firebase/auth");function HD(t,...e){sh.logLevel<=tt.WARN&&sh.warn(`Auth (${Eo}): ${t}`,...e)}function vd(t,...e){sh.logLevel<=tt.ERROR&&sh.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Gv(t,...e)}function Zr(t,...e){return Gv(t,...e)}function WD(t,e,n){const r=Object.assign(Object.assign({},$D()),{[e]:n});return new Vu("auth","Firebase",r).create(e,{appName:t.name})}function Gv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MT.create(t,...e)}function Ee(t,e,...n){if(!t)throw Gv(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Di(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YD(){return Ox()==="http:"||Ox()==="https:"}function Ox(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||I8()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=T8()||R8()}get(){return GD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new zu(3e4,6e4);function To(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ps(t,e,n,r,i={}){return LT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),OT.fetch()(FT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function LT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QD),e);try{const i=new ZD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw WD(t,d,c);Mr(t,d)}}catch(i){if(i instanceof si)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function qu(t,e,n,r,i={}){const s=await Ps(t,e,n,r,i);return"mfaPendingCredential"in s&&Mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function FT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Kv(t.config,i):`${t.config.apiScheme}://${i}`}class ZD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),XD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function eN(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Qv(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ql(H0(i.auth_time)),issuedAtTime:ql(H0(i.iat)),expirationTime:ql(H0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function H0(t){return Number(t)*1e3}function Qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ET(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nN(t){const e=Qv(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&rN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fo(t,eN(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aN(s.providerUserInfo):[],a=oN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UT(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function sN(t){const e=ft(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aN(t){return t.map(e=>{var{providerId:n}=e,r=Yv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){const n=await LT(t,{},async()=>{const r=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pu;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tN(this,e)}reload(){return sN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fo(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:v,isAnonymous:C,providerData:A,stsTokenManager:P}=n;Ee(E&&P,e,"internal-error");const S=pu.fromJSON(this.name,P);Ee(typeof E=="string",e,"internal-error"),Yi(f,e.name),Yi(h,e.name),Ee(typeof v=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),Yi(m,e.name),Yi(g,e.name),Yi(x,e.name),Yi(T,e.name),Yi(y,e.name),Yi(_,e.name);const k=new no({uid:E,auth:e,email:h,emailVerified:v,displayName:f,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:x,stsTokenManager:S,createdAt:y,lastLoginAt:_});return A&&Array.isArray(A)&&(k.providerData=A.map(b=>Object.assign({},b))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new pu;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function wi(t){Di(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const Fx=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yd(this.userKey,i.apiKey,s),this.fullPersistenceKey=yd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ha(wi(Fx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wi(Fx);const o=yd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=no._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ha(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ha(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($T(e))return"Blackberry";if(HT(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VT(t=Dn()){return/firefox\//i.test(t)}function Xv(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(t=Dn()){return/crios\//i.test(t)}function zT(t=Dn()){return/iemobile/i.test(t)}function qT(t=Dn()){return/android/i.test(t)}function $T(t=Dn()){return/blackberry/i.test(t)}function HT(t=Dn()){return/webos/i.test(t)}function nf(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uN(t=Dn()){var e;return nf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cN(){return A8()&&document.documentMode===10}function WT(t=Dn()){return nf(t)||qT(t)||HT(t)||$T(t)||/windows phone/i.test(t)||zT(t)}function dN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e=[]){let n;switch(t){case"Browser":n=Ux(Dn());break;case"Worker":n=`${Ux(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}async function GT(t,e){return Ps(t,"GET","/v2/recaptchaConfig",To(t,e))}function jx(t){return t!==void 0&&t.enterprise!==void 0}class KT{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function QT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hN().appendChild(r)})}function fN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pN="https://www.google.com/recaptcha/enterprise.js?render=",mN="recaptcha-enterprise",gN="NO_RECAPTCHA";class XT{constructor(e){this.type=mN,this.auth=So(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new KT(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;jx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(gN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&jx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}QT(pN+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ba(t,e,n,r=!1){const i=new XT(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new vN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}async initializeRecaptchaConfig(){const e=await GT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new KT(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new XT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return ft(t)}class Vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=M8(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){const n=tf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rh(s,e??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:e})}function xN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wN(t,e,n){const r=So(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ZT(e),{host:o,port:a}=EN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||TN()}function ZT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EN(t){const e=ZT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Bx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Bx(o)}}}function Bx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function JT(t,e){return Ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",To(t,e))}async function SN(t,e){return Ps(t,"POST","/v1/accounts:sendOobCode",To(t,e))}async function Y0(t,e){return SN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}async function RN(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Zv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ba(e,r,"signInWithPassword");return W0(e,i)}else return W0(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ba(e,r,"signInWithPassword");return W0(e,s)}else return Promise.reject(i)});case"emailLink":return IN(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return JT(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return RN(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class po extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Yv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new po(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kN(t){const e=Rl(Al(t)).link,n=e?Rl(Al(e)).deep_link_id:null,r=Rl(Al(t)).deep_link_id;return(r?Rl(Al(r)).link:null)||r||n||e||t}class Jv{constructor(e){var n,r,i,s,o,a;const l=Rl(Al(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=bN((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kN(e);try{return new Jv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.providerId=zi.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jv.parseLink(n);return Ee(r,"argument-error"),mu._fromEmailAndCode(e,r.code,r.tenantId)}}zi.PROVIDER_ID="password";zi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends eS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends $u{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends $u{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends $u{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(t,e){return qu(t,"POST","/v1/accounts:signUp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await no._fromIdTokenResponse(e,r,i),o=zx(r);return new mo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zx(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends si{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ah(e,n,r,i)}}function tS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,s,e,r):s})}async function CN(t,e,n=!1){const r=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await fo(t,tS(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=Qv(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(t,e,n=!1){const r="signIn",i=await tS(t,r,e),s=await mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PN(t,e){return rS(So(t),e)}async function e1(t,e){return nS(ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e,n){var r;Ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e,n){var r;const i=So(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ba(i,s,"getOobCode",!0);n&&K0(i,o,n),await Y0(i,o)}else n&&K0(i,s,n),await Y0(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ba(i,s,"getOobCode",!0);n&&K0(i,a,n),await Y0(i,a)}else return Promise.reject(o)})}async function NN(t,e,n){var r;const i=So(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await ba(i,s,"signUpPassword");o=G0(i,c)}else o=G0(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await ba(i,s,"signUpPassword");return G0(i,d)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await mo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function MN(t,e,n){return PN(ft(t),zi.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){return Ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await fo(r,ON(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function LN(t,e){return sS(ft(t),e,null)}function FN(t,e){return sS(ft(t),null,e)}async function sS(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await fo(t,JT(r,s));await t._updateTokensIfNecessary(o,!0)}function UN(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function jN(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function VN(t){return ft(t).signOut()}async function BN(t){return ft(t).delete()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){const t=Dn();return Xv(t)||nf(t)}const qN=1e3,$N=10;class aS extends oS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zN()&&dN(),this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$N):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aS.type="LOCAL";const HN=aS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends oS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lS.type="SESSION";const uS=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await WN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=t1("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function GN(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function KN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XN(){return cS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebaseLocalStorageDb",ZN=1,uh="firebaseLocalStorage",hS="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function JN(){const t=indexedDB.deleteDatabase(dS);return new Hu(t).toPromise()}function sg(){const t=indexedDB.open(dS,ZN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uh,{keyPath:hS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await JN(),e(await sg()))})})}async function qx(t,e,n){const r=sf(t,!0).put({[hS]:e,value:n});return new Hu(r).toPromise()}async function eM(t,e){const n=sf(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function $x(t,e){const n=sf(t,!0).delete(e);return new Hu(n).toPromise()}const tM=800,nM=3;class fS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await qx(e,lh,"1"),await $x(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$x(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sf(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fS.type="LOCAL";const rM=fS;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){return e?wi(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sM(t){return rS(t.auth,new n1(t),t.bypassAuthState)}function oM(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),nS(n,new n1(t),t.bypassAuthState)}async function aM(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),CN(n,new n1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sM;case"linkViaPopup":case"linkViaRedirect":return aM;case"reauthViaPopup":case"reauthViaRedirect":return oM;default:Mr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new zu(2e3,1e4);class na extends pS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lM.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="pendingRedirect",_d=new Map;class cM extends pS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await dM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dM(t,e){const n=pM(e),r=fM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hM(t,e){_d.set(t._key(),e)}function fM(t){return wi(t._redirectPersistence)}function pM(t){return yd(uM,t.config.apiKey,t.name)}async function mM(t,e,n=!1){const r=So(t),i=iM(r,e),o=await new cM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=10*60*1e3;class vM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function EM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _M(t);for(const n of e)try{if(TM(n))return}catch{}Mr(t,"unauthorized-domain")}function TM(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wM.test(n))return!1;if(xM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new zu(3e4,6e4);function Wx(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IM(t){return new Promise((e,n)=>{var r,i,s;function o(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),n(Zr(t,"network-request-failed"))},timeout:SM.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jr().gapi)===null||s===void 0)&&s.load)o();else{const a=fN("iframefcb");return Jr()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},QT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xd=null,e})}let xd=null;function RM(t){return xd=xd||IM(t),xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new zu(5e3,15e3),bM="__/auth/iframe",kM="emulator/auth/iframe",CM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DM(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,kM):`https://${t.config.authDomain}/${bM}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},i=PM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bu(r).slice(1)}`}async function NM(t){const e=await RM(t),n=Jr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:DM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zr(t,"network-request-failed"),a=Jr().setTimeout(()=>{s(o)},AM.get());function l(){Jr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OM=500,LM=600,FM="_blank",UM="http://localhost";class Yx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jM(t,e,n,r=OM,i=LM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Dn().toLowerCase();n&&(a=BT(c)?FM:n),VT(c)&&(e=e||UM,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(uN(c)&&a!=="_self")return VM(e||"",a),new Yx(null);const f=window.open(e||"",a,d);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new Yx(f)}function VM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="__/auth/handler",zM="emulator/auth/handler",qM=encodeURIComponent("fac");async function Gx(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(e instanceof eS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",N8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof $u){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${qM}=${encodeURIComponent(l)}`:"";return`${$M(t)}?${Bu(a).slice(1)}${c}`}function $M({config:t}){return t.emulator?Kv(t,zM):`https://${t.authDomain}/${BM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="webStorageSupport";class HM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uS,this._completeRedirectFn=mM,this._overrideRedirectResult=hM}async _openPopup(e,n,r,i){var s;Di((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Gx(e,n,r,ig(),i);return jM(e,o,t1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Gx(e,n,r,ig(),i);return GN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Di(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NM(e),r=new vM(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q0,{type:Q0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Q0];o!==void 0&&n(!!o),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||Xv()||nf()}}const WM=HM;var Kx="@firebase/auth",Qx="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KM(t){ho(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(t)},c=new yN(r,i,s,l);return xN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new ws("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new YM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Kx,Qx,GM(t)),Xr(Kx,Qx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=5*60,XM=RT("authIdTokenMaxAge")||QM;let Xx=null;const ZM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XM)return;const i=n==null?void 0:n.token;Xx!==i&&(Xx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JM(t=Wv()){const e=tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_N(t,{popupRedirectResolver:WM,persistence:[rM,HN,uS]}),r=RT("authTokenSyncURL");if(r){const s=ZM(r);jN(n,s,()=>s(n.currentUser)),UN(n,o=>s(o))}const i=TT("auth");return i&&wN(n,`http://${i}`),n}KM("Browser");var eO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,r1=r1||{},Re=eO||self;function of(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tO(t){return Object.prototype.hasOwnProperty.call(t,X0)&&t[X0]||(t[X0]=++nO)}var X0="closure_uid_"+(1e9*Math.random()>>>0),nO=0;function rO(t,e,n){return t.call.apply(t.bind,arguments)}function iO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function An(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?An=rO:An=iO,An.apply(null,arguments)}function $c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function on(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ds(){this.s=this.s,this.o=this.o}var sO=0;Ds.prototype.s=!1;Ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sO!=0)&&tO(this)};Ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function i1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(of(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};var oO=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Re.addEventListener("test",()=>{},e),Re.removeEventListener("test",()=>{},e)}catch{}return t}();function gu(t){return/^[\s\xa0]*$/.test(t)}function af(){var t=Re.navigator;return t&&(t=t.userAgent)?t:""}function $r(t){return af().indexOf(t)!=-1}function s1(t){return s1[" "](t),t}s1[" "]=function(){};function aO(t,e){var n=JO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var lO=$r("Opera"),ka=$r("Trident")||$r("MSIE"),vS=$r("Edge"),og=vS||ka,yS=$r("Gecko")&&!(af().toLowerCase().indexOf("webkit")!=-1&&!$r("Edge"))&&!($r("Trident")||$r("MSIE"))&&!$r("Edge"),uO=af().toLowerCase().indexOf("webkit")!=-1&&!$r("Edge");function _S(){var t=Re.document;return t?t.documentMode:void 0}var ag;e:{var Z0="",J0=function(){var t=af();if(yS)return/rv:([^\);]+)(\)|;)/.exec(t);if(vS)return/Edge\/([\d\.]+)/.exec(t);if(ka)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uO)return/WebKit\/(\S+)/.exec(t);if(lO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(J0&&(Z0=J0?J0[1]:""),ka){var ep=_S();if(ep!=null&&ep>parseFloat(Z0)){ag=String(ep);break e}}ag=Z0}var lg;if(Re.document&&ka){var Jx=_S();lg=Jx||parseInt(ag,10)||void 0}else lg=void 0;var cO=lg;function vu(t,e){if(bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yS){e:{try{s1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vu.$.h.call(this)}}on(vu,bn);var dO={2:"touch",3:"pen",4:"mouse"};vu.prototype.h=function(){vu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yu="closure_listenable_"+(1e6*Math.random()|0),hO=0;function fO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++hO,this.fa=this.ia=!1}function lf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function o1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function pO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function xS(t){const e={};for(const n in t)e[n]=t[n];return e}const ew="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ew.length;s++)n=ew[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function uf(t){this.src=t,this.g={},this.h=0}uf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=cg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new fO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ug(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=gS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(lf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var a1="closure_lm_"+(1e6*Math.random()|0),tp={};function ES(t,e,n,r,i){if(r&&r.once)return SS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ES(t,e[s],n,r,i);return null}return n=c1(n),t&&t[Yu]?t.O(e,n,Wu(r)?!!r.capture:!!r,i):TS(t,e,n,!1,r,i)}function TS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wu(i)?!!i.capture:!!i,a=u1(t);if(a||(t[a1]=a=new uf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=mO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mO(){function t(n){return e.call(t.src,t.listener,n)}const e=gO;return t}function SS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)SS(t,e[s],n,r,i);return null}return n=c1(n),t&&t[Yu]?t.P(e,n,Wu(r)?!!r.capture:!!r,i):TS(t,e,n,!0,r,i)}function IS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IS(t,e[s],n,r,i);else r=Wu(r)?!!r.capture:!!r,n=c1(n),t&&t[Yu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cg(s,n,r,i),-1<n&&(lf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=u1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cg(e,n,r,i)),(n=-1<t?e[t]:null)&&l1(n))}function l1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yu])ug(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=u1(e))?(ug(n,t),n.h==0&&(n.src=null,e[a1]=null)):lf(t)}}}function RS(t){return t in tp?tp[t]:tp[t]="on"+t}function gO(t,e){if(t.fa)t=!0;else{e=new vu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&l1(t),t=n.call(r,e)}return t}function u1(t){return t=t[a1],t instanceof uf?t:null}var np="__closure_events_fn_"+(1e9*Math.random()>>>0);function c1(t){return typeof t=="function"?t:(t[np]||(t[np]=function(e){return t.handleEvent(e)}),t[np])}function sn(){Ds.call(this),this.i=new uf(this),this.S=this,this.J=null}on(sn,Ds);sn.prototype[Yu]=!0;sn.prototype.removeEventListener=function(t,e,n,r){IS(this,t,e,n,r)};function fn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new bn(e,t);else if(e instanceof bn)e.target=e.target||t;else{var i=e;e=new bn(r,t),wS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hc(o,r,!0,e)&&i}if(o=e.g=t,i=Hc(o,r,!0,e)&&i,i=Hc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Hc(o,r,!1,e)&&i}sn.prototype.N=function(){if(sn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lf(n[r]);delete t.g[e],t.h--}}this.J=null};sn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};sn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ug(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var d1=Re.JSON.stringify;class vO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function yO(){var t=h1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class _O{constructor(){this.h=this.g=null}add(e,n){const r=AS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AS=new vO(()=>new xO,t=>t.reset());class xO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EO(t){Re.setTimeout(()=>{throw t},0)}let yu,_u=!1,h1=new _O,bS=()=>{const t=Re.Promise.resolve(void 0);yu=()=>{t.then(TO)}};var TO=()=>{for(var t;t=yO();){try{t.h.call(t.g)}catch(n){EO(n)}var e=AS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_u=!1};function cf(t,e){sn.call(this),this.h=t||1,this.g=e||Re,this.j=An(this.qb,this),this.l=Date.now()}on(cf,sn);le=cf.prototype;le.ga=!1;le.T=null;le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(f1(this),this.start()))}};le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function f1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}le.N=function(){cf.$.N.call(this),f1(this),delete this.g};function p1(t,e,n){if(typeof t=="function")n&&(t=An(t,n));else if(t&&typeof t.handleEvent=="function")t=An(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function kS(t){t.g=p1(()=>{t.g=null,t.i&&(t.i=!1,kS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class SO extends Ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kS(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(t){Ds.call(this),this.h=t,this.g={}}on(xu,Ds);var tw=[];function CS(t,e,n,r){Array.isArray(n)||(n&&(tw[0]=n.toString()),n=tw);for(var i=0;i<n.length;i++){var s=ES(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PS(t){o1(t.g,function(e,n){this.g.hasOwnProperty(n)&&l1(e)},t),t.g={}}xu.prototype.N=function(){xu.$.N.call(this),PS(this)};xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function df(){this.g=!0}df.prototype.Ea=function(){this.g=!1};function IO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function RO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ra(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bO(t,n)+(r?" "+r:"")})}function AO(t,e){t.info(function(){return"TIMEOUT: "+e})}df.prototype.info=function(){};function bO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return d1(n)}catch{return e}}var Io={},nw=null;function hf(){return nw=nw||new sn}Io.Ta="serverreachability";function DS(t){bn.call(this,Io.Ta,t)}on(DS,bn);function wu(t){const e=hf();fn(e,new DS(e))}Io.STAT_EVENT="statevent";function NS(t,e){bn.call(this,Io.STAT_EVENT,t),this.stat=e}on(NS,bn);function jn(t){const e=hf();fn(e,new NS(e,t))}Io.Ua="timingevent";function MS(t,e){bn.call(this,Io.Ua,t),this.size=e}on(MS,bn);function Gu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var ff={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function m1(){}m1.prototype.h=null;function rw(t){return t.h||(t.h=t.i())}function LS(){}var Ku={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function g1(){bn.call(this,"d")}on(g1,bn);function v1(){bn.call(this,"c")}on(v1,bn);var dg;function pf(){}on(pf,m1);pf.prototype.g=function(){return new XMLHttpRequest};pf.prototype.i=function(){return{}};dg=new pf;function Qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xu(this),this.P=kO,t=og?125:void 0,this.V=new cf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FS}function FS(){this.i=null,this.g="",this.h=!1}var kO=45e3,hg={},ch={};le=Qu.prototype;le.setTimeout=function(t){this.P=t};function fg(t,e,n){t.L=1,t.v=gf(Ni(e)),t.s=n,t.S=!0,US(t,null)}function US(t,e){t.G=Date.now(),Xu(t),t.A=Ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),WS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new FS,t.g=fI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new SO(An(t.Pa,t,t.g),t.O)),CS(t.U,t.g,"readystatechange",t.nb),e=t.I?xS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wu(),IO(t.j,t.u,t.A,t.m,t.W,t.s)}le.nb=function(t){t=t.target;const e=this.M;e&&Hr(t)==3?e.l():this.Pa(t)};le.Pa=function(t){try{if(t==this.g)e:{const d=Hr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||og||this.g&&(this.h.h||this.g.ja()||aw(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?wu(3):wu(2)),mf(this);var n=this.g.da();this.ca=n;t:if(jS(this)){var r=aw(this.g);t="";var i=r.length,s=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),$l(this);var o="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RO(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gu(a)){var c=a;break t}}c=null}if(n=c)ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pg(this,n);else{this.i=!1,this.o=3,jn(12),Qs(this),$l(this);break e}}this.S?(VS(this,d,o),og&&this.i&&d==3&&(CS(this.U,this.V,"tick",this.mb),this.V.start())):(ra(this.j,this.m,o,null),pg(this,o)),d==4&&Qs(this),this.i&&!this.J&&(d==4?uI(this.l,this):(this.i=!1,Xu(this)))}else QO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),Qs(this),$l(this)}}}catch{}finally{}};function jS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function VS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=CO(t,n),i==ch){e==4&&(t.o=4,jn(14),r=!1),ra(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hg){t.o=4,jn(15),ra(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ra(t.j,t.m,i,null),pg(t,i);jS(t)&&i!=ch&&i!=hg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),T1(e),e.M=!0,jn(11))):(ra(t.j,t.m,n,"[Invalid Chunked Response]"),Qs(t),$l(t))}le.mb=function(){if(this.g){var t=Hr(this.g),e=this.g.ja();this.C<e.length&&(mf(this),VS(this,t,e),this.i&&t!=4&&Xu(this))}};function CO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ch:(n=Number(e.substring(n,r)),isNaN(n)?hg:(r+=1,r+n>e.length?ch:(e=e.slice(r,r+n),t.C=r+n,e)))}le.cancel=function(){this.J=!0,Qs(this)};function Xu(t){t.Y=Date.now()+t.P,BS(t,t.P)}function BS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Gu(An(t.lb,t),e)}function mf(t){t.B&&(Re.clearTimeout(t.B),t.B=null)}le.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(AO(this.j,this.A),this.L!=2&&(wu(),jn(17)),Qs(this),this.o=2,$l(this)):BS(this,this.Y-t)};function $l(t){t.l.H==0||t.J||uI(t.l,t)}function Qs(t){mf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,f1(t.V),PS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mg(n.i,t))){if(!t.K&&mg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)fh(n),_f(n);else break e;E1(n),jn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Gu(An(n.ib,n),6e3));if(1>=KS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xs(n,11)}else if((t.K||n.g==t)&&fh(n),!gu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(y1(s,s.h),s.h=null))}if(r.F){const x=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,wt(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=hI(r,r.J?r.pa:null,r.Y),o.K){QS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(mf(a),Xu(a)),r.g=o}else aI(r);0<n.j.length&&xf(n)}else c[0]!="stop"&&c[0]!="close"||Xs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xs(n,7):w1(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}wu(4)}catch{}}function PO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(of(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function DO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(of(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(of(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=DO(t),r=PO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ro(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ro){this.h=t.h,dh(this,t.j),this.s=t.s,this.g=t.g,hh(this,t.m),this.l=t.l;var e=t.i,n=new Eu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iw(this,n),this.o=t.o}else t&&(e=String(t).match(qS))?(this.h=!1,dh(this,e[1]||"",!0),this.s=bl(e[2]||""),this.g=bl(e[3]||"",!0),hh(this,e[4]),this.l=bl(e[5]||"",!0),iw(this,e[6]||"",!0),this.o=bl(e[7]||"")):(this.h=!1,this.i=new Eu(null,this.h))}ro.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kl(e,sw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(kl(e,sw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(kl(n,n.charAt(0)=="/"?LO:OO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kl(n,UO)),t.join("")};function Ni(t){return new ro(t)}function dh(t,e,n){t.j=n?bl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iw(t,e,n){e instanceof Eu?(t.i=e,jO(t.i,t.h)):(n||(e=kl(e,FO)),t.i=new Eu(e,t.h))}function wt(t,e,n){t.i.set(e,n)}function gf(t){return wt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sw=/[#\/\?@]/g,OO=/[#\?:]/g,LO=/[#\?]/g,FO=/[#\?@]/g,UO=/#/g;function Eu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ns(t){t.g||(t.g=new Map,t.h=0,t.i&&NO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=Eu.prototype;le.add=function(t,e){Ns(this),this.i=null,t=Ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $S(t,e){Ns(t),e=Ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function HS(t,e){return Ns(t),e=Ha(t,e),t.g.has(e)}le.forEach=function(t,e){Ns(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};le.ta=function(){Ns(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};le.Z=function(t){Ns(this);let e=[];if(typeof t=="string")HS(this,t)&&(e=e.concat(this.g.get(Ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};le.set=function(t,e){return Ns(this),this.i=null,t=Ha(this,t),HS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function WS(t,e,n){$S(t,e),0<n.length&&(t.i=null,t.g.set(Ha(t,e),i1(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jO(t,e){e&&!t.j&&(Ns(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($S(this,r),WS(this,i,n))},t)),t.j=e}var VO=class{constructor(t,e){this.g=t,this.map=e}};function YS(t){this.l=t||BO,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var BO=10;function GS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KS(t){return t.h?1:t.g?t.g.size:0}function mg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function y1(t,e){t.g?t.g.add(e):t.h=e}function QS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YS.prototype.cancel=function(){if(this.i=XS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return i1(t.i)}var zO=class{stringify(t){return Re.JSON.stringify(t,void 0)}parse(t){return Re.JSON.parse(t,void 0)}};function qO(){this.g=new zO}function $O(t,e,n){const r=n||"";try{zS(t,function(i,s){let o=i;Wu(i)&&(o=d1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HO(t,e){const n=new df;if(Re.Image){const r=new Image;r.onload=$c(Wc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$c(Wc,n,r,"TestLoadImage: error",!1,e),r.onabort=$c(Wc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$c(Wc,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zu(t){this.l=t.fc||null,this.j=t.ob||!1}on(Zu,m1);Zu.prototype.g=function(){return new vf(this.l,this.j)};Zu.prototype.i=function(t){return function(){return t}}({});function vf(t,e){sn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(vf,sn);var _1=0;le=vf.prototype;le.open=function(t,e){if(this.readyState!=_1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tu(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=_1};le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ju(this):Tu(this),this.readyState==3&&ZS(this)}};le.Za=function(t){this.g&&(this.response=this.responseText=t,Ju(this))};le.Ya=function(t){this.g&&(this.response=t,Ju(this))};le.ka=function(){this.g&&Ju(this)};function Ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tu(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WO=Re.JSON.parse;function jt(t){sn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JS,this.L=this.M=!1}on(jt,sn);var JS="",YO=/^https?$/i,GO=["POST","PUT"];le=jt.prototype;le.Oa=function(t){this.M=t};le.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?rw(this.u):rw(dg),this.g.onreadystatechange=An(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ow(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Re.FormData&&t instanceof Re.FormData,!(0<=gS(GO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nI(this),0<this.B&&((this.L=KO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=An(this.ua,this)):this.A=p1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ow(this,s)}};function KO(t){return ka&&typeof t.timeout=="number"&&t.ontimeout!==void 0}le.ua=function(){typeof r1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))};function ow(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eI(t),yf(t)}function eI(t){t.F||(t.F=!0,fn(t,"complete"),fn(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fn(this,"complete"),fn(this,"abort"),yf(this))};le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yf(this,!0)),jt.$.N.call(this)};le.La=function(){this.s||(this.G||this.v||this.l?tI(this):this.kb())};le.kb=function(){tI(this)};function tI(t){if(t.h&&typeof r1<"u"&&(!t.C[1]||Hr(t)!=4||t.da()!=2)){if(t.v&&Hr(t)==4)p1(t.La,0,t);else if(fn(t,"readystatechange"),Hr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(qS)[1]||null;!i&&Re.self&&Re.self.location&&(i=Re.self.location.protocol.slice(0,-1)),r=!YO.test(i?i.toLowerCase():"")}n=r}if(n)fn(t,"complete"),fn(t,"success");else{t.m=6;try{var s=2<Hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eI(t)}}finally{yf(t)}}}}function yf(t,e){if(t.g){nI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||fn(t,"ready");try{n.onreadystatechange=r}catch{}}}function nI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Re.clearTimeout(t.A),t.A=null)}le.isActive=function(){return!!this.g};function Hr(t){return t.g?t.g.readyState:0}le.da=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}};le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WO(e)}};function aw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QO(t){const e={};t=(t.g&&2<=Hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(gu(t[r]))continue;var n=wO(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}pO(e,function(r){return r.join(", ")})}le.Ia=function(){return this.m};le.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rI(t){let e="";return o1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function x1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):wt(t,e,n))}function _l(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iI(t){this.Ga=0,this.j=[],this.l=new df,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_l("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_l("baseRetryDelayMs",5e3,t),this.hb=_l("retryDelaySeedMs",1e4,t),this.eb=_l("forwardChannelMaxRetries",2,t),this.xa=_l("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YS(t&&t.concurrentRequestLimit),this.Ja=new qO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}le=iI.prototype;le.ra=8;le.H=1;function w1(t){if(sI(t),t.H==3){var e=t.W++,n=Ni(t.I);if(wt(n,"SID",t.K),wt(n,"RID",e),wt(n,"TYPE","terminate"),ec(t,n),e=new Qu(t,t.l,e),e.L=2,e.v=gf(Ni(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon)try{n=Re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Re.Image&&(new Image().src=e.v,n=!0),n||(e.g=fI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xu(e)}dI(t)}function _f(t){t.g&&(T1(t),t.g.cancel(),t.g=null)}function sI(t){_f(t),t.u&&(Re.clearTimeout(t.u),t.u=null),fh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Re.clearTimeout(t.m),t.m=null)}function xf(t){if(!GS(t.i)&&!t.m){t.m=!0;var e=t.Na;yu||bS(),_u||(yu(),_u=!0),h1.add(e,t),t.C=0}}function XO(t,e){return KS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Gu(An(t.Na,t,e),cI(t,t.C)),t.C++,!0)}le.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=xS(s),wS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oI(this,i,e),n=Ni(this.I),wt(n,"RID",t),wt(n,"CVER",22),this.F&&wt(n,"X-HTTP-Session-Id",this.F),ec(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rI(s)))+"&"+e:this.o&&x1(n,this.o,s)),y1(this.i,i),this.bb&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",e),wt(n,"SID","null"),i.aa=!0,fg(i,n,null)):fg(i,n,e),this.H=2}}else this.H==3&&(t?lw(this,t):this.j.length==0||GS(this.i)||lw(this))};function lw(t,e){var n;e?n=e.m:n=t.W++;const r=Ni(t.I);wt(r,"SID",t.K),wt(r,"RID",n),wt(r,"AID",t.V),ec(t,r),t.o&&t.s&&x1(r,t.o,t.s),n=new Qu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),y1(t.i,n),fg(n,r,e)}function ec(t,e){t.na&&o1(t.na,function(n,r){wt(e,r,n)}),t.h&&zS({},function(n,r){wt(e,r,n)})}function oI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?An(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{$O(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function aI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yu||bS(),_u||(yu(),_u=!0),h1.add(e,t),t.A=0}}function E1(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Gu(An(t.Ma,t),cI(t,t.A)),t.A++,!0)}le.Ma=function(){if(this.u=null,lI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gu(An(this.jb,this),t)}};le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),_f(this),lI(this))};function T1(t){t.B!=null&&(Re.clearTimeout(t.B),t.B=null)}function lI(t){t.g=new Qu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ni(t.wa);wt(e,"RID","rpc"),wt(e,"SID",t.K),wt(e,"AID",t.V),wt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&wt(e,"TO",t.qa),wt(e,"TYPE","xmlhttp"),ec(t,e),t.o&&t.s&&x1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=gf(Ni(e)),n.s=null,n.S=!0,US(n,t)}le.ib=function(){this.v!=null&&(this.v=null,_f(this),E1(this),jn(19))};function fh(t){t.v!=null&&(Re.clearTimeout(t.v),t.v=null)}function uI(t,e){var n=null;if(t.g==e){fh(t),T1(t),t.g=null;var r=2}else if(mg(t.i,e))n=e.F,QS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=hf(),fn(r,new MS(r,n)),xf(t)}else aI(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&XO(t,e)||r==2&&E1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}}function cI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=An(t.pb,t);n||(n=new ro("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||dh(n,"https"),gf(n)),HO(n.toString(),r)}else jn(2);t.H=0,t.h&&t.h.za(e),dI(t),sI(t)}le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))};function dI(t){if(t.H=0,t.ma=[],t.h){const e=XS(t.i);(e.length!=0||t.j.length!=0)&&(Zx(t.ma,e),Zx(t.ma,t.j),t.i.i.length=0,i1(t.j),t.j.length=0),t.h.ya()}}function hI(t,e,n){var r=n instanceof ro?Ni(n):new ro(n);if(r.g!="")e&&(r.g=e+"."+r.g),hh(r,r.m);else{var i=Re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ro(null);r&&dh(s,r),e&&(s.g=e),i&&hh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&wt(r,n,e),wt(r,"VER",t.ra),ec(t,r),r}function fI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new jt(new Zu({ob:!0})):new jt(t.va),e.Oa(t.J),e}le.isActive=function(){return!!this.h&&this.h.isActive(this)};function pI(){}le=pI.prototype;le.Ba=function(){};le.Aa=function(){};le.za=function(){};le.ya=function(){};le.isActive=function(){return!0};le.Va=function(){};function ph(){if(ka&&!(10<=Number(cO)))throw Error("Environmental error: no available transport.")}ph.prototype.g=function(t,e){return new lr(t,e)};function lr(t,e){sn.call(this),this.g=new iI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wa(this)}on(lr,sn);lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hI(t,null,t.Y),xf(t)};lr.prototype.close=function(){w1(this.g)};lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=d1(t),t=n);e.j.push(new VO(e.fb++,t)),e.H==3&&xf(e)};lr.prototype.N=function(){this.g.h=null,delete this.j,w1(this.g),delete this.g,lr.$.N.call(this)};function mI(t){g1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}on(mI,g1);function gI(){v1.call(this),this.status=1}on(gI,v1);function Wa(t){this.g=t}on(Wa,pI);Wa.prototype.Ba=function(){fn(this.g,"a")};Wa.prototype.Aa=function(t){fn(this.g,new mI(t))};Wa.prototype.za=function(t){fn(this.g,new gI)};Wa.prototype.ya=function(){fn(this.g,"b")};function ZO(){this.blockSize=-1}function Or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}on(Or,ZO);Or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function rp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Or.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)rp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){rp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){rp(this,r),i=0;break}}this.h=i,this.i+=e};Or.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function lt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var JO={};function S1(t){return-128<=t&&128>t?aO(t,function(e){return new lt([e|0],0>e?-1:0)}):new lt([t|0],0>t?-1:0)}function Wr(t){if(isNaN(t)||!isFinite(t))return pa;if(0>t)return dn(Wr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=gg;return new lt(e,0)}function vI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dn(vI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wr(Math.pow(e,8)),r=pa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wr(Math.pow(e,s)),r=r.R(s).add(Wr(o))):(r=r.R(n),r=r.add(Wr(o)))}return r}var gg=4294967296,pa=S1(0),vg=S1(1),uw=S1(16777216);le=lt.prototype;le.ea=function(){if(mr(this))return-dn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:gg+r)*e,e*=gg}return t};le.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ei(this))return"0";if(mr(this))return"-"+dn(this).toString(t);for(var e=Wr(Math.pow(t,6)),n=this,r="";;){var i=gh(n,e).g;n=mh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ei(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ei(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mr(t){return t.h==-1}le.X=function(t){return t=mh(this,t),mr(t)?-1:Ei(t)?0:1};function dn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new lt(n,~t.h).add(vg)}le.abs=function(){return mr(this)?dn(this):this};le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new lt(n,n[n.length-1]&-2147483648?-1:0)};function mh(t,e){return t.add(dn(e))}le.R=function(t){if(Ei(this)||Ei(t))return pa;if(mr(this))return mr(t)?dn(this).R(dn(t)):dn(dn(this).R(t));if(mr(t))return dn(this.R(dn(t)));if(0>this.X(uw)&&0>t.X(uw))return Wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Yc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new lt(n,0)};function Yc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xl(t,e){this.g=t,this.h=e}function gh(t,e){if(Ei(e))throw Error("division by zero");if(Ei(t))return new xl(pa,pa);if(mr(t))return e=gh(dn(t),e),new xl(dn(e.g),dn(e.h));if(mr(e))return e=gh(t,dn(e)),new xl(dn(e.g),e.h);if(30<t.g.length){if(mr(t)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vg,r=e;0>=r.X(t);)n=cw(n),r=cw(r);var i=Fo(n,1),s=Fo(r,1);for(r=Fo(r,2),n=Fo(n,2);!Ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Fo(r,1),n=Fo(n,1)}return e=mh(t,i.R(e)),new xl(i,e)}for(i=pa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Wr(n),o=s.R(e);mr(o)||0<o.X(t);)n-=r,s=Wr(n),o=s.R(e);Ei(s)&&(s=vg),i=i.add(s),t=mh(t,o)}return new xl(i,t)}le.gb=function(t){return gh(this,t).h};le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new lt(n,this.h&t.h)};le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new lt(n,this.h|t.h)};le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new lt(n,this.h^t.h)};function cw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new lt(n,t.h)}function Fo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new lt(i,t.h)}ph.prototype.createWebChannel=ph.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;ff.NO_ERROR=0;ff.TIMEOUT=8;ff.HTTP_ERROR=6;OS.COMPLETE="complete";LS.EventType=Ku;Ku.OPEN="a";Ku.CLOSE="b";Ku.ERROR="c";Ku.MESSAGE="d";sn.prototype.listen=sn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;Or.prototype.digest=Or.prototype.l;Or.prototype.reset=Or.prototype.reset;Or.prototype.update=Or.prototype.j;lt.prototype.add=lt.prototype.add;lt.prototype.multiply=lt.prototype.R;lt.prototype.modulo=lt.prototype.gb;lt.prototype.compare=lt.prototype.X;lt.prototype.toNumber=lt.prototype.ea;lt.prototype.toString=lt.prototype.toString;lt.prototype.getBits=lt.prototype.D;lt.fromNumber=Wr;lt.fromString=vI;var e9=function(){return new ph},t9=function(){return hf()},ip=ff,n9=OS,r9=Io,dw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},i9=Zu,Gc=LS,s9=jt,o9=Or,ma=lt;const hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new $v("@firebase/firestore");function fw(){return go.logLevel}function fe(t,...e){if(go.logLevel<=tt.DEBUG){const n=e.map(I1);go.debug(`Firestore (${Ya}): ${t}`,...n)}}function Mi(t,...e){if(go.logLevel<=tt.ERROR){const n=e.map(I1);go.error(`Firestore (${Ya}): ${t}`,...n)}}function Ca(t,...e){if(go.logLevel<=tt.WARN){const n=e.map(I1);go.warn(`Firestore (${Ya}): ${t}`,...n)}}function I1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function It(t,e){t||Ie()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class l9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u9{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string"),new yI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string"),new Tn(e)}}class c9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class d9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(It(typeof n.token=="string"),this.R=n.token,new h9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Zt(0,0))}static max(){return new Ae(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Su.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Su?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Su{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const m9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Su{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return m9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Et.fromString(e))}static fromName(e){return new _e(Et.fromString(e).popFirst(5))}static empty(){return new _e(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Et(e.slice()))}}function g9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Es(i,_e.empty(),e)}function v9(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(Ae.min(),_e.empty(),-1)}static max(){return new Es(Ae.max(),_e.empty(),-1)}}function y9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==_9)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}R1.ae=-1;function wf(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function w9(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new ir([])}unionWith(e){let n=new kn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wI("Invalid base64 string: "+s):s}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const E9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(It(!!t),typeof t=="string"){let e=0;const n=E9.exec(t);if(It(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function b1(t){const e=t.mapValue.fields.__previous_value__;return A1(e)?b1(e):e}function Iu(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ru{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A1(t)?4:S9(t)?9007199254740991:10:Ie()}function ri(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ts(i.timestampValue),a=Ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vo(i.bytesValue).isEqual(vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),a=Ht(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pa(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pw(o)!==pw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ri(o[l],a[l])))return!1;return!0}(t,e);default:return Ie()}}function Au(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(Iu(t),Iu(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vo(s),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=nt(a[c],l[c]);if(d!==0)return d}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nt(Ht(s.latitude),Ht(o.latitude));return a!==0?a:nt(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Da(a[c],l[c]);if(d)return d}return nt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Qc.mapValue&&o===Qc.mapValue)return 0;if(s===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=nt(l[f],d[f]);if(h!==0)return h;const m=Da(a[l[f]],c[d[f]]);if(m!==0)return m}return nt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Ts(t),r=Ts(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function Na(t){return yg(t)}function yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${yg(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function vw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _g(t){return!!t&&"integerValue"in t}function k1(t){return!!t&&"arrayValue"in t}function yw(t){return!!t&&"nullValue"in t}function _w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function Hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function S9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yn(Hl(this.value))}}function EI(t){const e=[];return Ro(t.fields,(n,r)=>{const i=new Rn([n]);if(wd(r)){const s=EI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new In(e,0,Ae.min(),Ae.min(),Ae.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new In(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new In(e,2,n,Ae.min(),Ae.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ae.min(),Ae.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function xw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=Da(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function I9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{}class Yt extends TI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A9(e,n,r):n==="array-contains"?new C9(e,r):n==="in"?new P9(e,r):n==="not-in"?new D9(e,r):n==="array-contains-any"?new N9(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b9(e,r):new k9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Lr extends TI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Lr(e,n)}matches(e){return SI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function SI(t){return t.op==="and"}function II(t){return R9(t)&&SI(t)}function R9(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function xg(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Na(t.value);if(II(t))return t.filters.map(e=>xg(e)).join(",");{const e=t.filters.map(n=>xg(n)).join(",");return`${t.op}(${e})`}}function RI(t,e){return t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(t,e):t instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&RI(o,i.filters[a]),!0):!1}(t,e):void Ie()}function AI(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Na(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(AI).join(" ,")+"}"}(t):"Filter"}class A9 extends Yt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class b9 extends Yt{constructor(e,n){super(e,"in",n),this.keys=bI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k9 extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=bI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class C9 extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return k1(n)&&Au(n.arrayValue,this.value)}}class P9 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class D9 extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Au(this.value.arrayValue,n)}}class N9 extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!k1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function Ew(t,e=null,n=[],r=[],i=null,s=null,o=null){return new M9(t,e,n,r,i,s,o)}function C1(t){const e=Pe(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Na(r)).join(",")),e.he=n}return e.he}function P1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ww(t.startAt,e.startAt)&&ww(t.endAt,e.endAt)}function wg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function O9(t,e,n,r,i,s,o,a){return new Ga(t,e,n,r,i,s,o,a)}function Ef(t){return new Ga(t)}function Tw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Tf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function kI(t){return t.collectionGroup!==null}function va(t){const e=Pe(t);if(e.Pe===null){e.Pe=[];const n=Tf(e),r=D1(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ga(n)),e.Pe.push(new ga(Rn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ga(Rn.keyField(),s))}}}return e.Pe}function Oi(t){const e=Pe(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Ew(e.path,e.collectionGroup,va(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of va(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ga(s.field,o))}const r=e.endAt?new yh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yh(e.startAt.position,e.startAt.inclusive):null;e.Ie=Ew(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Eg(t,e){e.getFirstInequalityField(),Tf(t);const n=t.filters.concat([e]);return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return P1(Oi(t),Oi(e))&&t.limitType===e.limitType}function CI(t){return`${C1(Oi(t))}|lt:${t.limitType}`}function Sg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AI(i)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Na(i)).join(",")),`Target(${r})`}(Oi(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=xw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,va(r),i)||r.endAt&&!function(o,a,l){const c=xw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,va(r),i))}(t,e)}function L9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PI(t){return(e,n)=>{let r=!1;for(const i of va(t)){const s=F9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function F9(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Da(l,c):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new Mt(_e.comparator);function Li(){return U9}const DI=new Mt(_e.comparator);function Cl(...t){let e=DI;for(const n of t)e=e.insert(n.key,n);return e}function NI(t){let e=DI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return Wl()}function MI(){return Wl()}function Wl(){return new Ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const j9=new Mt(_e.comparator),V9=new kn(_e.comparator);function Be(...t){let e=V9;for(const n of t)e=e.add(n);return e}const B9=new kn(nt);function z9(){return B9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function LI(t){return{integerValue:""+t}}function q9(t,e){return w9(e)?LI(e):OI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function $9(t,e,n){return t instanceof bu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A1(s)&&(s=b1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ku?UI(t,e):t instanceof Cu?jI(t,e):function(i,s){const o=FI(i,s),a=Sw(o)+Sw(i.Te);return _g(o)&&_g(i.Te)?LI(a):OI(i.serializer,a)}(t,e)}function H9(t,e,n){return t instanceof ku?UI(t,e):t instanceof Cu?jI(t,e):n}function FI(t,e){return t instanceof _h?function(r){return _g(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bu extends Rf{}class ku extends Rf{constructor(e){super(),this.elements=e}}function UI(t,e){const n=VI(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Rf{constructor(e){super(),this.elements=e}}function jI(t,e){let n=VI(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class _h extends Rf{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Sw(t){return Ht(t.integerValue||t.doubleValue)}function VI(t){return k1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.field=e,this.transform=n}}function Y9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ku&&i instanceof ku||r instanceof Cu&&i instanceof Cu?Pa(r.elements,i.elements,ri):r instanceof _h&&i instanceof _h?ri(r.Te,i.Te):r instanceof bu&&i instanceof bu}(t.transform,e.transform)}class G9{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function BI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N1(t.key,yr.none()):new rc(t.key,t.data,yr.none());{const n=t.data,r=Yn.empty();let i=new kn(Rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(t.key,r,new ir(i.toArray()),yr.none())}}function K9(t,e,n){t instanceof rc?function(i,s,o){const a=i.value.clone(),l=Rw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(i,s,o){if(!Ed(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Rw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof rc?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const c=s.value.clone(),d=Aw(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const c=Aw(s.fieldTransforms,l,o),d=o.data;return d.setAll(zI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ed(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Q9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FI(r.transform,i||null);s!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,s))}return n||null}function Iw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pa(r,i,(s,o)=>Y9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rc extends Af{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends Af{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rw(t,e,n){const r=new Map;It(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,H9(o,a,n[i]))}return r}function Aw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$9(s,o,e))}return r}class N1 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X9 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&K9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=BI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(n,r)=>Iw(n,r))&&Pa(this.baseMutations,e.baseMutations,(n,r)=>Iw(n,r))}}class M1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length);let i=function(){return j9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new M1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Qe;function tL(t){switch(t){default:return Ie();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function qI(t){if(t===void 0)return Mi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case qt.OK:return ee.OK;case qt.CANCELLED:return ee.CANCELLED;case qt.UNKNOWN:return ee.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ee.INTERNAL;case qt.UNAVAILABLE:return ee.UNAVAILABLE;case qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case qt.NOT_FOUND:return ee.NOT_FOUND;case qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case qt.ABORTED:return ee.ABORTED;case qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case qt.DATA_LOSS:return ee.DATA_LOSS;default:return Ie()}}(Qe=qt||(qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xc}static getOrCreateInstance(){return Xc===null&&(Xc=new O1),Xc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new ma([4294967295,4294967295],0);function bw(t){const e=nL().encode(t),n=new o9;return n.update(e),new Uint8Array(n.digest())}function kw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ma([n,r],0),new ma([i,s],0)]}class L1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=ma.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(ma.fromNumber(r)));return i.compare(rL)===1&&(i=new ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=bw(e),[r,i]=kw(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=bw(e),[r,i]=kw(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(Ae.min(),i,new Mt(nt),Li(),Be())}}class ic{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ic(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class $I{constructor(e,n){this.targetId=e,this.pe=n}}class HI{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cw{constructor(){this.ye=0,this.we=Dw(),this.Se=Nn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Be(),n=Be(),r=Be();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new ic(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=Dw()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class iL{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Li(),this.$e=Pw(),this.Ue=new Mt(nt)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(wg(a))if(s===0){const l=new _e(a.path);this.ze(i,l,In.newNoDocument(l,Ae.min()))}else It(s===1);else{const l=this.et(i);if(l!==s){const c=this.tt(e,l);if(c.status!==0){this.Ye(i);const d=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,d)}(n=O1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(f,h,m,g){var x,T,y,_,E,v;const C={localCacheCount:m,existenceFilterCount:g.count},A=g.unchangedNames;return A&&(C.bloomFilter={applied:f===0,hashCount:(x=A==null?void 0:A.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(_=(y=(T=A==null?void 0:A.bits)===null||T===void 0?void 0:T.bitmap)===null||y===void 0?void 0:y.length)!==null&&_!==void 0?_:0,padding:(v=(E=A==null?void 0:A.bits)===null||E===void 0?void 0:E.padding)!==null&&v!==void 0?v:0},h&&(C.bloomFilter.mightContain=h)),C}(c.status,(r=c.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=vo(s).toUint8Array()}catch(f){if(f instanceof wI)return Ca("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw f}try{c=new L1(l,o,a)}catch(f){return Ca(f instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),{status:1}}const d=f=>{const h=this.qe.rt();return c.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${f}`)};return c.de===0?{status:1}:{status:i===n-this.it(e.targetId,d)?0:2,nt:d}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&wg(a.target)){const l=new _e(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,In.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=Be();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new bf(e,n,this.Ue,this.Ke,r);return this.Ke=Li(),this.$e=Pw(),this.Ue=new Mt(nt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Cw,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kn(nt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Cw),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Pw(){return new Mt(_e.comparator)}function Dw(){return new Mt(_e.comparator)}const sL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),aL=(()=>({and:"AND",or:"OR"}))();class lL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uL(t,e){return xh(t,e.toTimestamp())}function ei(t){return It(!!t),Ae.fromTimestamp(function(n){const r=Ts(n);return new Zt(r.seconds,r.nanos)}(t))}function F1(t,e){return function(r){return new Et(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function YI(t){const e=Et.fromString(t);return It(XI(e)),e}function Rg(t,e){return F1(t.databaseId,e.path)}function sp(t,e){const n=YI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(GI(n))}function Ag(t,e){return F1(t.databaseId,e)}function cL(t){const e=YI(t);return e.length===4?Et.emptyPath():GI(e)}function bg(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GI(t){return It(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Nw(t,e,n){return{name:Rg(t,e),fields:n.value.mapValue.fields}}function dL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(It(d===void 0||typeof d=="string"),Nn.fromBase64String(d||"")):(It(d===void 0||d instanceof Uint8Array),Nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ee.UNKNOWN:qI(c.code);return new de(d,c.message||"")}(o);n=new HI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):Ae.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=In.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Td(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?ei(r.readTime):Ae.min(),o=In.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new Td([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eL(i,s),a=r.targetId;n=new $I(a,o)}}return n}function hL(t,e){let n;if(e instanceof rc)n={update:Nw(t,e.key,e.value)};else if(e instanceof N1)n={delete:Rg(t,e.key)};else if(e instanceof Ms)n={update:Nw(t,e.key,e.data),updateMask:wL(e.fieldMask)};else{if(!(e instanceof X9))return Ie();n={verify:Rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ku)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _h)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function fL(t,e){return t&&t.length>0?(It(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ei(i.updateTime):ei(s);return o.isEqual(Ae.min())&&(o=ei(s)),new G9(o,i.transformResults||[])}(n,e))):[]}function pL(t,e){return{documents:[Ag(t,e.path)]}}function mL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ag(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ag(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return QI(Lr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Vo(f.field),direction:yL(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ig(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function gL(t){let e=cL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=KI(f);return h instanceof Lr&&II(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(g){return new ga(Bo(g.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,wf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new yh(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new yh(m,h)}(n.endAt)),O9(e,i,o,s,a,"F",l,c)}function vL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bo(n.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bo(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bo(n.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>KI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function yL(t){return sL[t]}function _L(t){return oL[t]}function xL(t){return aL[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return Rn.fromServerFormat(t.fieldPath)}function QI(t){return t instanceof Yt?function(n){if(n.op==="=="){if(_w(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_w(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:_L(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(i=>QI(i));return r.length===1?r[0]:{compositeFilter:{op:xL(n.op),filters:r}}}(t):Ie()}function wL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),a=Nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.ct=e}}function TL(t){const e=gL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.sn=new IL}addToCollectionParentIndex(e,n){return this.sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Es.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class IL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(Et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Ma(0)}static On(){return new Ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.changes=new Ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yl(r.mutation,i,ir.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=Zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Li();const o=Wl(),a=function(){return Wl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ms)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Yl(d.mutation,c,d.mutation.getFieldMask(),Zt.now())):o.set(c.key,ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new AL(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wl();let i=new Mt((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||ir.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Be()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=MI();d.forEach(h=>{if(!s.has(h)){const m=BI(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):re.resolve(Zs());let a=-1,l=s;return o.next(c=>re.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Be())).next(d=>({batchId:a,changes:NI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Cl();return this.indexManager.getCollectionParents(e,i).next(o=>re.forEach(o,a=>{const l=function(d,f){return new Ga(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,In.newInvalidDocument(c)))});let o=Cl();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Yl(c.mutation,l,ir.empty(),Zt.now()),If(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return re.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:TL(i.bundledQuery),readTime:ei(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.overlays=new Mt(_e.comparator),this.cr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Zs(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Zs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return re.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J9(n,r));let s=this.cr.get(n);s===void 0&&(s=Be(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.lr=new kn(en.hr),this.Pr=new kn(en.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new en(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new en(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new _e(new Et([])),r=new en(n,e),i=new en(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new _e(new Et([])),r=new en(n,e),i=new en(n,e+1);let s=Be();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new en(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return _e.comparator(e.key,n.key)||nt(e.mr,n.mr)}static Ir(e,n){return nt(e.mr,n.mr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new kn(en.hr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new en(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(nt);return n.forEach(i=>{const s=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),re.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new en(new _e(s),0);let a=new kn(nt);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.mr)),!0)},o),re.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){It(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return re.forEach(n.mutations,i=>{const s=new en(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new en(n,0),i=this.pr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.Dr=e,this.docs=function(){return new Mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():In.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Li();const o=n.path,a=new _e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||y9(v9(d),r)<=0||(i.has(d.key)||If(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}vr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NL(this)}getSize(e){return re.resolve(this.size)}}class NL extends RL{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.Cr=new Ka(n=>C1(n),P1),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new U1,this.targetCount=0,this.Or=Ma.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),re.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Ma(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Ln(n),re.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(s).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.Nr={},this.overlays={},this.Br=new R1(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new ML(this),this.indexManager=new SL,this.remoteDocumentCache=function(i){return new DL(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new EL(n),this.Qr=new kL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new PL(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new LL(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return re.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class LL extends x9{constructor(e){super(),this.currentSequenceNumber=e}}class j1{constructor(e){this.persistence=e,this.Wr=new U1,this.Gr=null}static zr(e){return new j1(e)}get jr(){if(this.Gr)return this.Gr;throw Ie()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.jr,r=>{const i=_e.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return re.or([()=>re.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(Tw(n))return re.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Be(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(e,Tg(n,null,"F")):this.ji(e,c,n,l)}))})))}Ui(e,n,r,i){return Tw(n)||i.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(fw()<=tt.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sg(n)),this.ji(e,o,n,g9(i,-1)))})}Gi(e,n){let r=new kn(PI(e));return n.forEach((i,s)=>{If(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return fw()<=tt.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Sg(n)),this.Ki.getDocumentsMatchingQuery(e,n,Es.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Mt(nt),this.Yi=new Ka(s=>C1(s),P1),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function jL(t,e,n,r){return new UL(t,e,n,r)}async function ZI(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Be();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function VL(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=re.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(x=>{const T=c.docVersions.get(g);It(T!==null),x.version.compareTo(T)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JI(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function BL(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.kr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.kr.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(x,T,y){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,d)&&a.push(n.kr.updateTargetData(s,m))});let l=Li(),c=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(zL(s,o,e.documentUpdates).next(d=>{l=d.ns,c=d.rs})),!r.isEqual(Ae.min())){const d=n.kr.getLastRemoteSnapshotVersion(s).next(f=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function zL(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Li();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:i}})}function qL(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $L(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,re.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function kg(t,e,n){const r=Pe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!nc(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Mw(t,e,n){const r=Pe(t);let i=Ae.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,d){const f=Pe(l),h=f.Yi.get(d);return h!==void 0?re.resolve(f.Ji.get(h)):f.kr.getTargetData(c,d)}(r,o,Oi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:Be())).next(a=>(HL(r,L9(e),a),{documents:a,ss:s})))}function HL(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class Ow{constructor(){this.activeTargetIds=z9()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WL{constructor(){this.Hs=new Ow,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new Ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function op(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class QL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=op(),l=this.mo(n,r);fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,s,o),this.po(n,l,c,i).then(d=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ca("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=GL[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=op();return new Promise((o,a)=>{const l=new s9;l.setWithCredentials(!0),l.listenOnce(n9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ip.NO_ERROR:const d=l.getResponseJson();fe(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ip.TIMEOUT:fe(_n,`RPC '${e}' ${s} timed out`),a(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const f=l.getStatus();if(fe(_n,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(T){const y=T.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(y)>=0?y:ee.UNKNOWN}(m.status);a(new de(g,m.message))}else a(new de(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{fe(_n,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);fe(_n,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}wo(e,n,r){const i=op(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e9(),a=t9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new i9({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(_n,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,m=!1;const g=new KL({so:T=>{m?fe(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(fe(_n,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),fe(_n,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},oo:()=>f.close()}),x=(T,y,_)=>{T.listen(y,E=>{try{_(E)}catch(v){setTimeout(()=>{throw v},0)}})};return x(f,Gc.EventType.OPEN,()=>{m||fe(_n,`RPC '${e}' stream ${i} transport opened.`)}),x(f,Gc.EventType.CLOSE,()=>{m||(m=!0,fe(_n,`RPC '${e}' stream ${i} transport closed`),g.Po())}),x(f,Gc.EventType.ERROR,T=>{m||(m=!0,Ca(_n,`RPC '${e}' stream ${i} transport errored:`,T),g.Po(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),x(f,Gc.EventType.MESSAGE,T=>{var y;if(!m){const _=T.data[0];It(!!_);const E=_,v=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(v){fe(_n,`RPC '${e}' stream ${i} received error:`,v);const C=v.status;let A=function(k){const b=qt[k];if(b!==void 0)return qI(b)}(C),P=v.message;A===void 0&&(A=ee.INTERNAL,P="Unknown error status: "+C+" with message "+v.message),m=!0,g.Po(new de(A,P)),f.close()}else fe(_n,`RPC '${e}' stream ${i} received:`,_),g.Io(_)}}),x(a,r9.STAT_EVENT,T=>{T.stat===dw.PROXY?fe(_n,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===dw.NOPROXY&&fe(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.ho()},0),g}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new lL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new eR(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XL extends tR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=dL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?ei(o.readTime):Ae.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=wg(l)?{documents:pL(s,l)}:{query:mL(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WI(s,o.resumeToken);const c=Ig(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ae.min())>0){a.readTime=xh(s,o.snapshotVersion.toTimestamp());const c=Ig(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=vL(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.Ho(n)}}class ZL extends tR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=fL(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.u_(r,n)}return It(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=bg(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hL(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(ee.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(ee.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class e7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Mi(n),this.d_=!1):fe("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{Ao(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.y_.add(4),await sc(c),c.b_.set("Unknown"),c.y_.delete(4),await Cf(c)}(this))})}),this.b_=new e7(r,i)}}async function Cf(t){if(Ao(t))for(const e of t.w_)await e(!0)}async function sc(t){for(const e of t.w_)await e(!1)}function nR(t,e){const n=Pe(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),q1(n)?z1(n):Qa(n).Uo()&&B1(n,e))}function rR(t,e){const n=Pe(t),r=Qa(n);n.p_.delete(e),r.Uo()&&iR(n,e),n.p_.size===0&&(r.Uo()?r.zo():Ao(n)&&n.b_.set("Unknown"))}function B1(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).i_(e)}function iR(t,e){t.D_.Be(e),Qa(t).s_(e)}function z1(t){t.D_=new iL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.b_.A_()}function q1(t){return Ao(t)&&!Qa(t).$o()&&t.p_.size>0}function Ao(t){return Pe(t).y_.size===0}function sR(t){t.D_=void 0}async function n7(t){t.p_.forEach((e,n)=>{B1(t,e)})}async function r7(t,e){sR(t),q1(t)?(t.b_.m_(e),z1(t)):t.b_.set("Unknown")}async function i7(t,e,n){if(t.b_.set("Online"),e instanceof HI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(t,r)}else if(e instanceof Td?t.D_.We(e):e instanceof $I?t.D_.Ze(e):t.D_.je(e),!n.isEqual(Ae.min()))try{const r=await JI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.p_.get(c);d&&s.p_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.p_.get(l);if(!d)return;s.p_.set(l,d.withResumeToken(Nn.EMPTY_BYTE_STRING,d.snapshotVersion)),iR(s,l);const f=new ss(d.target,l,c,d.sequenceNumber);B1(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await wh(t,r)}}async function wh(t,e,n){if(!nc(e))throw e;t.y_.add(1),await sc(t),t.b_.set("Offline"),n||(n=()=>JI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Cf(t)})}function oR(t,e){return e().catch(n=>wh(t,n,e))}async function Pf(t){const e=Pe(t),n=Ss(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;s7(e);)try{const i=await qL(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,o7(e,i)}catch(i){await wh(e,i)}aR(e)&&lR(e)}function s7(t){return Ao(t)&&t.g_.length<10}function o7(t,e){t.g_.push(e);const n=Ss(t);n.Uo()&&n.__&&n.a_(e.mutations)}function aR(t){return Ao(t)&&!Ss(t).$o()&&t.g_.length>0}function lR(t){Ss(t).start()}async function a7(t){Ss(t).l_()}async function l7(t){const e=Ss(t);for(const n of t.g_)e.a_(n.mutations)}async function u7(t,e,n){const r=t.g_.shift(),i=M1.from(r,e,n);await oR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pf(t)}async function c7(t,e){e&&Ss(t).__&&await async function(r,i){if(function(o){return tL(o)&&o!==ee.ABORTED}(i.code)){const s=r.g_.shift();Ss(r).Go(),await oR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pf(r)}}(t,e),aR(t)&&lR(t)}async function Fw(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.y_.add(3),await sc(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Cf(n)}async function d7(t,e){const n=Pe(t);e?(n.y_.delete(2),await Cf(n)):e||(n.y_.add(2),await sc(n),n.b_.set("Unknown"))}function Qa(t){return t.v_||(t.v_=function(n,r,i){const s=Pe(n);return s.P_(),new XL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:n7.bind(null,t),uo:r7.bind(null,t),r_:i7.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),q1(t)?z1(t):t.b_.set("Unknown")):(await t.v_.stop(),sR(t))})),t.v_}function Ss(t){return t.C_||(t.C_=function(n,r,i){const s=Pe(n);return s.P_(),new ZL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:a7.bind(null,t),uo:c7.bind(null,t),c_:l7.bind(null,t),u_:u7.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Pf(t)):(await t.C_.stop(),t.g_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H1(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),nc(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Cl(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new ya(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.F_=new Mt(_e.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):Ie():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oa(e,n,ya.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.x_=void 0,this.listeners=[]}}class f7{constructor(){this.queries=new Ka(e=>CI(e),Sf),this.onlineState="Unknown",this.O_=new Set}}async function W1(t,e){const n=Pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new h7),i)try{s.x_=await n.onListen(r)}catch(o){const a=H1(o,`Initialization of query '${Sg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&G1(n)}async function Y1(t,e){const n=Pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function p7(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&G1(n)}function m7(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function G1(t){t.O_.forEach(e=>{e.next()})}class K1{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.key=e}}class cR{constructor(e){this.key=e}}class g7{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Be(),this.mutatedKeys=Be(),this.na=PI(e),this.ra=new ya(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new Uw,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=If(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;h&&m?h.data.isEqual(m.data)?g!==x&&(r.track({type:3,doc:m}),T=!0):this._a(h,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.na(m,l)>0||c&&this.na(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),T=!0):h&&!m&&(r.track({type:1,doc:h}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((c,d)=>function(h,m){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return g(h)-g(m)}(c.type,d.type)||this.na(c.doc,d.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new Oa(this.query,e.ra,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Uw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Be(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new cR(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new uR(r))}),n}ha(e){this.X_=e.ss,this.ta=Be();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Oa.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class v7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y7{constructor(e){this.key=e,this.Ia=!1}}class _7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new Ka(a=>CI(a),Sf),this.da=new Map,this.Aa=new Set,this.Ra=new Mt(_e.comparator),this.Va=new Map,this.ma=new U1,this.fa={},this.ga=new Map,this.pa=Ma.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function x7(t,e){const n=C7(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await $L(n.localStore,Oi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await w7(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&nR(n.remoteStore,o)}return i}async function w7(t,e,n,r,i){t.wa=(f,h,m)=>async function(x,T,y,_){let E=T.view.sa(y);E.zi&&(E=await Mw(x.localStore,T.query,!1).then(({documents:A})=>T.view.sa(A,E)));const v=_&&_.targetChanges.get(T.targetId),C=T.view.applyChanges(E,x.isPrimaryClient,v);return Vw(x,T.targetId,C.ca),C.snapshot}(t,f,h,m);const s=await Mw(t.localStore,e,!0),o=new g7(e,s.ss),a=o.sa(s.documents),l=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Vw(t,n,c.ca);const d=new v7(e,n,o);return t.Ea.set(e,d),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),c.snapshot}async function E7(t,e){const n=Pe(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!Sf(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rR(n.remoteStore,r.targetId),Cg(n,r.targetId)}).catch(tc)):(Cg(n,r.targetId),await kg(n.localStore,r.targetId,!0))}async function T7(t,e,n){const r=P7(t);try{const i=await function(o,a){const l=Pe(o),c=Zt.now(),d=a.reduce((m,g)=>m.add(g.key),Be());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Li(),x=Be();return l.Xi.getEntries(m,d).next(T=>{g=T,g.forEach((y,_)=>{_.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(T=>{f=T;const y=[];for(const _ of a){const E=Q9(_,f.get(_.key).overlayedDocument);E!=null&&y.push(new Ms(_.key,E,EI(E.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(T=>{h=T;const y=T.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(m,T.batchId,y)})}).then(()=>({batchId:h.batchId,changes:NI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new Mt(nt)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await oc(r,i.changes),await Pf(r.remoteStore)}catch(i){const s=H1(i,"Failed to persist write");n.reject(s)}}async function dR(t,e){const n=Pe(t);try{const r=await BL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?It(o.Ia):i.removedDocuments.size>0&&(It(o.Ia),o.Ia=!1))}),await oc(n,r,e)}catch(r){await tc(r)}}function jw(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.listeners)h.N_(a)&&(c=!0)}),c&&G1(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S7(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new Mt(_e.comparator);o=o.insert(s,In.newNoDocument(s,Ae.min()));const a=Be().add(s),l=new bf(Ae.min(),new Map,new Mt(nt),o,a);await dR(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(e),Q1(r)}else await kg(r.localStore,e,!1).then(()=>Cg(r,e,n)).catch(tc)}async function I7(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await VL(n.localStore,e);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oc(n,i)}catch(i){await tc(i)}}async function R7(t,e,n){const r=Pe(t);try{const i=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(It(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);fR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oc(r,i)}catch(i){await tc(i)}}function hR(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function fR(t,e,n){const r=Pe(t);let i=r.fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||pR(t,r)})}function pR(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(rR(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),Q1(t))}function Vw(t,e,n){for(const r of n)r instanceof uR?(t.ma.addReference(r.key,e),A7(t,r)):r instanceof cR?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||pR(t,r.key)):Ie()}function A7(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.Aa.add(r),Q1(t))}function Q1(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new _e(Et.fromString(e)),r=t.pa.next();t.Va.set(r,new y7(n)),t.Ra=t.Ra.insert(n,r),nR(t.remoteStore,new ss(Oi(Ef(n.path)),r,"TargetPurposeLimboResolution",R1.ae))}}async function oc(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=V1.qi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,c){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(c,h=>re.forEach(h.Li,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>re.forEach(h.ki,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!nc(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ji.get(h),g=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(g);d.Ji=d.Ji.insert(h,x)}}}(r.localStore,s))}async function b7(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await ZI(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new de(ee.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oc(n,r.ts)}}function k7(t,e){const n=Pe(t),r=n.Va.get(e);if(r&&r.Ia)return Be().add(r.key);{let i=Be();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function C7(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S7.bind(null,e),e.Ta.r_=p7.bind(null,e.eventManager),e.Ta.Sa=m7.bind(null,e.eventManager),e}function P7(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R7.bind(null,e),e}class Bw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jL(this.persistence,new FL,e.initialUser,this.serializer)}createPersistence(e){return new OL(j1.zr,this.serializer)}createSharedClientState(e){return new WL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class D7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b7.bind(null,this.syncEngine),await d7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f7}()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=function(s){return new QL(s)}(e.databaseInfo);return function(s,o,a,l){return new JL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new t7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Lw.v()?new Lw:new YL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new _7(i,s,o,a,l,c);return d&&(f.ya=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Pe(n);fe("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await sc(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=_I.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=H1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O7(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Fw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Fw(e.remoteStore,s)),t._onlineComponents=e}function M7(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function O7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!M7(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new Bw)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new Bw);return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await zw(t,new D7))),t._onlineComponents}function L7(t){return mR(t).then(e=>e.syncEngine)}async function Eh(t){const e=await mR(t),n=e.eventManager;return n.onListen=x7.bind(null,e.syncEngine),n.onUnlisten=E7.bind(null,e.syncEngine),n}function F7(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new X1({next:h=>{o.enqueueAndForget(()=>Y1(s,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new K1(Ef(a.path),d,{includeMetadataChanges:!0,W_:!0});return W1(s,f)}(await Eh(t),t.asyncQueue,e,n,r)),r.promise}function U7(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new X1({next:h=>{o.enqueueAndForget(()=>Y1(s,f)),h.fromCache&&l.source==="server"?c.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new K1(a,d,{includeMetadataChanges:!0,W_:!0});return W1(s,f)}(await Eh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j7(t,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $w(t){if(!_e.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(_e.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a9;switch(r.type){case"firstParty":return new d9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qw.get(n);r&&(fe("ComponentProvider","Removing Datastore"),qw.delete(n),r.terminate())}(this),Promise.resolve()}}function V7(t,e,n,r={}){var i;const s=(t=Zn(t,Nf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tn.MOCK_USER;else{a=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tn(c)}t._authCredentials=new l9(new yI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class gs extends Os{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new _e(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=ft(t),vR("collection","path",e),t instanceof Nf){const r=Et.fromString(e,...n);return Hw(r),new gs(t,null,r)}{if(!(t instanceof Cn||t instanceof gs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return Hw(r),new gs(t.firestore,null,r)}}function St(t,e,...n){if(t=ft(t),arguments.length===1&&(e=_I.V()),vR("doc","path",e),t instanceof Nf){const r=Et.fromString(e,...n);return $w(r),new Cn(t,null,new _e(r))}{if(!(t instanceof Cn||t instanceof gs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return $w(r),new Cn(t.firestore,t instanceof gs?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new eR(this,"async_queue_retry"),this.Xa=()=>{const n=ap();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new Ii;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!nc(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=$1.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&Ie()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}function Yw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fi extends Nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new B7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yR(this),this._firestoreClient.terminate()}}function z7(t,e){const n=typeof t=="object"?t:Wv(),r=typeof t=="string"?t:e||"(default)",i=tf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ST("firestore");s&&V7(i,...s)}return i}function Mf(t){return t._firestoreClient||yR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new T9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new N7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(Nn.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new La(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=/^__.*__$/;class $7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)}}class _R{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class J1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new J1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return Th(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(xR(this.uu)&&q7.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class H7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Ru(e,n,r,i=!1){return new J1({uu:e,methodName:n,Au:r,path:Rn.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new H7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wR(t,e,n,r,i,s={}){const o=t.Ru(s.merge||s.mergeFields?2:0,e,n,i);ty("Data must be an object, but it was:",o,r);const a=ER(r,o);let l,c;if(s.merge)l=new ir(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Pg(e,f,n);if(!o.contains(h))throw new de(ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);SR(d,h)||d.push(h)}l=new ir(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new $7(new Yn(a),l,c)}class Uf extends Lf{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}class ey extends Lf{_toFieldTransform(e){return new W9(e.path,new bu)}isEqual(e){return e instanceof ey}}function W7(t,e,n,r){const i=t.Ru(1,e,n);ty("Data must be an object, but it was:",i,r);const s=[],o=Yn.empty();Ro(r,(l,c)=>{const d=ny(e,l,n);c=ft(c);const f=i.Iu(d);if(c instanceof Uf)s.push(d);else{const h=ac(c,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new ir(s);return new _R(o,a,i.fieldTransforms)}function Y7(t,e,n,r,i,s){const o=t.Ru(1,e,n),a=[Pg(e,r,n)],l=[i];if(s.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Pg(e,s[h])),l.push(s[h+1]);const c=[],d=Yn.empty();for(let h=a.length-1;h>=0;--h)if(!SR(c,a[h])){const m=a[h];let g=l[h];g=ft(g);const x=o.Iu(m);if(g instanceof Uf)c.push(m);else{const T=ac(g,x);T!=null&&(c.push(m),d.set(m,T))}}const f=new ir(c);return new _R(d,f,o.fieldTransforms)}function G7(t,e,n,r=!1){return ac(n,t.Ru(r?4:3,e))}function ac(t,e){if(TR(t=ft(t)))return ty("Unsupported field value:",e,t),ER(t,e);if(t instanceof Lf)return function(r,i){if(!xR(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ac(a,i.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:xh(i.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,s)}}if(r instanceof Z1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof La)return{bytesValue:WI(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${Df(r)}`)}(t,e)}function ER(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{const s=ac(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Z1||t instanceof La||t instanceof Cn||t instanceof Lf)}function ty(t,e,n){if(!TR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Df(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function Pg(t,e,n){if((e=ft(e))instanceof Of)return e._internalPath;if(typeof e=="string")return ny(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const K7=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(K7)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(ee.INVALID_ARGUMENT,a+t+l)}function SR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q7 extends IR{data(){return super.data()}}function jf(t,e){return typeof e=="string"?ny(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class AR extends ry{}function ii(t,e,...n){let r=[];e instanceof ry&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof uc).length,a=s.filter(l=>l instanceof lc).length;if(o>1||o>0&&a>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lc extends AR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lc(e,n,r)}_apply(e){const n=this._parse(e);return bR(e._query,n),new Os(e.firestore,e.converter,Eg(e._query,n))}_parse(e){const n=Ff(e.firestore);return function(s,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Kw(f,d);const m=[];for(const g of f)m.push(Gw(l,s,g));h={arrayValue:{values:m}}}else h=Gw(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Kw(f,d),h=G7(a,o,f,d==="in"||d==="not-in");return Yt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ti(t,e,n){const r=e,i=jf("where",t);return lc._create(i,r,n)}class uc extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)bR(o,l),o=Eg(o,l)}(e._query,n),new Os(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X7(...t){return t.forEach(e=>Z7("or",e)),uc._create("or",t)}class iy extends AR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new ga(s,o);return function(c,d){if(D1(c)===null){const f=Tf(c);f!==null&&kR(c,f,d.field)}}(i,a),a}(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ga(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function cc(t,e="asc"){const n=e,r=jf("orderBy",t);return iy._create(r,n)}function Gw(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!_e.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vw(t,new _e(r))}if(n instanceof Cn)return vw(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function Kw(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bR(t,e){if(e.isInequality()){const r=Tf(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new de(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=D1(t);s!==null&&kR(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function kR(t,e,n){if(!n.isEqual(e))throw new de(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function Z7(t,e){if(!(e instanceof lc||e instanceof uc))throw new de(ee.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class J7{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Z1(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=b1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);It(XI(r));const i=new Ru(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Mi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PR extends IR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends PR{data(e={}){return super.data(e)}}class DR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Dl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Dl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:eF(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){t=Zn(t,Cn);const e=Zn(t.firestore,Fi);return F7(Mf(e),t._key).then(n=>NR(e,t,n))}class sy extends J7{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Is(t){t=Zn(t,Os);const e=Zn(t.firestore,Fi),n=Mf(e),r=new sy(e);return RR(t._query),U7(n,t._query).then(i=>new DR(e,r,t,i))}function tF(t,e,n){t=Zn(t,Cn);const r=Zn(t.firestore,Fi),i=CR(t.converter,e,n);return Vf(r,[wR(Ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function Dr(t,e,n,...r){t=Zn(t,Cn);const i=Zn(t.firestore,Fi),s=Ff(i);let o;return o=typeof(e=ft(e))=="string"||e instanceof Of?Y7(s,"updateDoc",t._key,e,n,r):W7(s,"updateDoc",t._key,e),Vf(i,[o.toMutation(t._key,yr.exists(!0))])}function Dg(t){return Vf(Zn(t.firestore,Fi),[new N1(t._key,yr.none())])}function nF(t,e){const n=Zn(t.firestore,Fi),r=St(t),i=CR(t.converter,e);return Vf(n,[wR(Ff(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function Pu(t,...e){var n,r,i;t=ft(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Yw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Yw(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Cn)c=Zn(t.firestore,Fi),d=Ef(t._key.path),l={next:f=>{e[o]&&e[o](NR(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Zn(t,Os);c=Zn(f.firestore,Fi),d=f._query;const h=new sy(c);l={next:m=>{e[o]&&e[o](new DR(c,h,f,m))},error:e[o+1],complete:e[o+2]},RR(t._query)}return function(h,m,g,x){const T=new X1(x),y=new K1(m,T,g);return h.asyncQueue.enqueueAndForget(async()=>W1(await Eh(h),y)),()=>{T.Ca(),h.asyncQueue.enqueueAndForget(async()=>Y1(await Eh(h),y))}}(Mf(c),d,a,l)}function Vf(t,e){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>T7(await L7(r),i,s)),s.promise}(Mf(t),e)}function NR(t,e,n){const r=n.docs.get(e._key),i=new sy(t);return new PR(t,i,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function rF(){return new ey("serverTimestamp")}(function(e,n=!0){(function(i){Ya=i})(Eo),ho(new ws("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Fi(new u9(r.getProvider("auth-internal")),new f9(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xr(hw,"4.1.0",e),Xr(hw,"4.1.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebasestorage.googleapis.com",OR="storageBucket",iF=2*60*1e3,sF=10*60*1e3,oF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends si{constructor(e,n,r=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function up(t){return"storage/"+t}function oy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(Rt.UNKNOWN,t)}function aF(t){return new Ot(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lF(t){return new Ot(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Rt.UNAUTHENTICATED,t)}function cF(){return new Ot(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dF(t){return new Ot(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LR(){return new Ot(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FR(){return new Ot(Rt.CANCELED,"User canceled the upload/download.")}function hF(t){return new Ot(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function fF(t){return new Ot(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pF(){return new Ot(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OR+"' property when initializing the app?")}function UR(){return new Ot(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mF(){return new Ot(Rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gF(){return new Ot(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vF(t){return new Ot(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ng(t){return new Ot(Rt.INVALID_ARGUMENT,t)}function jR(){return new Ot(Rt.APP_DELETED,"The Firebase app was deleted.")}function yF(t){return new Ot(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gl(t,e){return new Ot(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wl(t){throw new Ot(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sr.makeFromUrl(e,n)}catch{return new sr(e,"")}if(r.path==="")return r;throw fF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(v){v.path_=decodeURIComponent(v.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===MR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",y=new RegExp(`^https?://${x}/${i}/${T}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let v=0;v<E.length;v++){const C=E[v],A=C.regex.exec(e);if(A){const P=A[C.indices.bucket];let S=A[C.indices.path];S||(S=""),r=new sr(P,S),C.postModify(r);break}}if(r==null)throw hF(e);return r}}class _F{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(m,l())},T)}function h(){s&&clearTimeout(s)}function m(T,...y){if(c){h();return}if(T){h(),d.call(null,T,...y);return}if(l()||o){h(),d.call(null,T,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function x(T){g||(g=!0,h(),!c&&(i!==null?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function wF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return t!==void 0}function TF(t){return typeof t=="function"}function SF(t){return typeof t=="object"&&!Array.isArray(t)}function Bf(t){return typeof t=="string"||t instanceof String}function Qw(t){return ay()&&t instanceof Blob}function ay(){return typeof Blob<"u"&&!S8()}function Xw(t,e,n,r){if(r<e)throw Ng(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ng(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(io||(io={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,i,s,o,a,l,c,d,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===io.NO_ERROR,l=s.getStatus();if(!a||BR(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===io.ABORT;r(!1,new Jc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Jc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=oy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jR():FR();o(l)}else{const l=LR();o(l)}};this.canceled_?n(!1,new Jc(!1,null,!0)):this.backoffId_=xF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,i,s,o=!0){const a=VR(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return bF(c,e),RF(c,n),AF(c,s),kF(c,r),new IF(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DF(...t){const e=PF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ay())return new Blob(t);throw new Ot(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){if(typeof atob>"u")throw vF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,n){this.data=e,this.contentType=n||null}}function OF(t,e){switch(t){case Yr.RAW:return new cp(zR(e));case Yr.BASE64:case Yr.BASE64URL:return new cp(qR(t,e));case Yr.DATA_URL:return new cp(FF(e),UF(e))}throw oy()}function zR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LF(t){let e;try{e=decodeURIComponent(t)}catch{throw Gl(Yr.DATA_URL,"Malformed data URL.")}return zR(e)}function qR(t,e){switch(t){case Yr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Gl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Yr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Gl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MF(e)}catch(i){throw i.message.includes("polyfill")?i:Gl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $R{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gl(Yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FF(t){const e=new $R(t);return e.base64?qR(Yr.BASE64,e.rest):LF(e.rest)}function UF(t){return new $R(t).contentType}function jF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){let r=0,i="";Qw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qw(this.data_)){const r=this.data_,i=NF(r,e,n);return i===null?null:new ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ns(r,!0)}}static getBlob(...e){if(ay()){const n=e.map(r=>r instanceof ns?r.data_:r);return new ns(DF.apply(null,n))}else{const n=e.map(o=>Bf(o)?OF(Yr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){let e;try{e=JSON.parse(t)}catch{return null}return SF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e){return e}class Fn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zF}}let ed=null;function qF(t){return!Bf(t)||t.length<2?t:WR(t)}function YR(){if(ed)return ed;const t=[];t.push(new Fn("bucket")),t.push(new Fn("generation")),t.push(new Fn("metageneration")),t.push(new Fn("name","fullPath",!0));function e(s,o){return qF(o)}const n=new Fn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Fn("size");return i.xform=r,t.push(i),t.push(new Fn("timeCreated")),t.push(new Fn("updated")),t.push(new Fn("md5Hash",null,!0)),t.push(new Fn("cacheControl",null,!0)),t.push(new Fn("contentDisposition",null,!0)),t.push(new Fn("contentEncoding",null,!0)),t.push(new Fn("contentLanguage",null,!0)),t.push(new Fn("contentType",null,!0)),t.push(new Fn("metadata","customMetadata",!0)),ed=t,ed}function $F(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new sr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function HF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return $F(r,t),r}function GR(t,e,n){const r=HR(e);return r===null?null:HF(t,r,n)}function WF(t,e,n,r){const i=HR(e);if(i===null||!Bf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,f=t.fullPath,h="/b/"+o(d)+"/o/"+o(f),m=Xa(h,n,r),g=VR({alt:"media",token:c});return m+g})[0]}function KR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ko{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){if(!t)throw oy()}function ly(t,e){function n(r,i){const s=GR(t,i,e);return Ri(s!==null),s}return n}function YF(t,e){function n(r,i){const s=GR(t,i,e);return Ri(s!==null),WF(s,i,t.host,t._protocol)}return n}function dc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cF():i=uF():n.getStatus()===402?i=lF(t.bucket):n.getStatus()===403?i=dF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uy(t){const e=dc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=aF(t.path)),s.serverResponse=i.serverResponse,s}return n}function GF(t,e,n){const r=e.fullServerUrl(),i=Xa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ko(i,s,ly(t,n),o);return a.errorHandler=uy(e),a}function KF(t,e,n){const r=e.fullServerUrl(),i=Xa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ko(i,s,YF(t,n),o);return a.errorHandler=uy(e),a}function QF(t,e){const n=e.fullServerUrl(),r=Xa(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new ko(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=uy(e),a}function XF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XF(null,e)),r}function ZF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let v=0;v<2;v++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=QR(e,r,i),d=KR(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=ns.getBlob(f,r,h);if(m===null)throw UR();const g={name:c.fullPath},x=Xa(s,t.host,t._protocol),T="POST",y=t.maxUploadRetryTime,_=new ko(x,T,ly(t,n),y);return _.urlParams=g,_.headers=o,_.body=m.uploadData(),_.errorHandler=dc(e),_}class Sh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function cy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}return Ri(!!n&&(e||["active"]).indexOf(n)!==-1),n}function JF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=QR(e,r,i),a={name:o.fullPath},l=Xa(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=KR(o,n),h=t.maxUploadRetryTime;function m(x){cy(x);let T;try{T=x.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(Bf(T)),T}const g=new ko(l,c,m,h);return g.urlParams=a,g.headers=d,g.body=f,g.errorHandler=dc(e),g}function eU(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const d=cy(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}f||Ri(!1);const h=Number(f);return Ri(!isNaN(h)),new Sh(h,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ko(n,o,s,a);return l.headers=i,l.errorHandler=dc(e),l}const Zw=256*1024;function tU(t,e,n,r,i,s,o,a){const l=new Sh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw mF();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const f=l.current,h=f+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const g={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},x=r.slice(f,h);if(x===null)throw UR();function T(v,C){const A=cy(v,["active","final"]),P=l.current+d,S=r.size();let k;return A==="final"?k=ly(e,s)(v,C):k=null,new Sh(P,S,A==="final",k)}const y="POST",_=e.maxUploadRetryTime,E=new ko(n,y,T,_);return E.headers=g,E.body=x.uploadData(),E.progressCallback=a||null,E.errorHandler=dc(t),E}const $n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dp(t){switch(t){case"running":case"pausing":case"canceling":return $n.RUNNING;case"paused":return $n.PAUSED;case"success":return $n.SUCCESS;case"canceled":return $n.CANCELED;case"error":return $n.ERROR;default:return $n.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r){if(TF(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=io.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=io.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=io.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iU extends rU{initXhr(){this.xhr_.responseType="text"}}function $s(){return new iU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=YR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(BR(i.status,[]))if(s)i=LR();else{this.sleepTime=Math.max(this.sleepTime*2,oF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Rt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=JF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$s,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=eU(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,$s,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Zw*this._chunkMultiplier,n=new Sh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=tU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,$s,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Zw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=GF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$s,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ZF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$s,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=FR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=dp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new nU(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(dp(this._state)){case $n.SUCCESS:Uo(this._resolve.bind(null,this.snapshot))();break;case $n.CANCELED:case $n.ERROR:const n=this._reject;Uo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dp(this._state)){case $n.RUNNING:case $n.PAUSED:e.next&&Uo(e.next.bind(e,this.snapshot))();break;case $n.SUCCESS:e.complete&&Uo(e.complete.bind(e))();break;case $n.CANCELED:case $n.ERROR:e.error&&Uo(e.error.bind(e,this._error))();break;default:e.error&&Uo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this._service=e,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _o(e,n)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WR(this._location.path)}get storage(){return this._service}get parent(){const e=VF(this._location.path);if(e===null)return null;const n=new sr(this._location.bucket,e);return new _o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yF(e)}}function oU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new sU(t,new ns(e),n)}function aU(t){t._throwIfRoot("getDownloadURL");const e=KF(t.storage,t._location,YR());return t.storage.makeRequestWithTokens(e,$s).then(n=>{if(n===null)throw gF();return n})}function lU(t){t._throwIfRoot("deleteObject");const e=QF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,$s)}function uU(t,e){const n=BF(t._location.path,e),r=new sr(t._location.bucket,n);return new _o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return/^[A-Za-z]+:\/\//.test(t)}function dU(t,e){return new _o(t,e)}function XR(t,e){if(t instanceof dy){const n=t;if(n._bucket==null)throw pF();const r=new _o(n,n._bucket);return e!=null?XR(r,e):r}else return e!==void 0?uU(t,e):t}function hU(t,e){if(e&&cU(e)){if(t instanceof dy)return dU(t,e);throw Ng("To use ref(service, url), the first argument must be a Storage instance.")}else return XR(t,e)}function Jw(t,e){const n=e==null?void 0:e[OR];return n==null?null:sr.makeFromBucketSpec(n,t)}function fU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:AT(i,t.app.options.projectId))}class dy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=MR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iF,this._maxUploadRetryTime=sF,this._requests=new Set,i!=null?this._bucket=sr.makeFromBucketSpec(i,this._host):this._bucket=Jw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=Jw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _o(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _F(jR());{const o=CF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const e2="@firebase/storage",t2="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="storage";function pU(t,e,n){return t=ft(t),oU(t,e,n)}function mU(t){return t=ft(t),aU(t)}function Mg(t){return t=ft(t),lU(t)}function Id(t,e){return t=ft(t),hU(t,e)}function gU(t=Wv(),e){t=ft(t);const r=tf(t,ZR).getImmediate({identifier:e}),i=ST("storage");return i&&vU(r,...i),r}function vU(t,e,n,r={}){fU(t,e,n,r)}function yU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new dy(n,r,i,e,Eo)}function _U(){ho(new ws(ZR,yU,"PUBLIC").setMultipleInstances(!0)),Xr(e2,t2,""),Xr(e2,t2,"esm2017")}_U();const xU={apiKey:"AIzaSyCQCMdnO4k37spHrM1p5S3T5WTllu98KmE",authDomain:"fir-3c5fd.firebaseapp.com",projectId:"fir-3c5fd",storageBucket:"fir-3c5fd.appspot.com",messagingSenderId:"155454181521",appId:"1:155454181521:web:d6752285251e8c62eb2f30"},hy=CT(xU),Le=JM(hy),ze=z7(hy),Rd=gU(hy);var JR={exports:{}};function eA(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hp={exports:{}};const wU={},EU=Object.freeze(Object.defineProperty({__proto__:null,default:wU},Symbol.toStringTag,{value:"Module"})),TU=r3(EU);var n2;function Xe(){return n2||(n2=1,function(t,e){(function(n,r){t.exports=r()})(be,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof be<"u"&&be.crypto&&(s=be.crypto),!s&&typeof eA=="function")try{s=TU}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(E){var v;return _.prototype=E,v=new _,_.prototype=null,v}}(),l={},c=l.lib={},d=c.Base=function(){return{extend:function(_){var E=a(this);return _&&E.mixIn(_),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var E in _)_.hasOwnProperty(E)&&(this[E]=_[E]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=d.extend({init:function(_,E){_=this.words=_||[],E!=i?this.sigBytes=E:this.sigBytes=_.length*4},toString:function(_){return(_||m).stringify(this)},concat:function(_){var E=this.words,v=_.words,C=this.sigBytes,A=_.sigBytes;if(this.clamp(),C%4)for(var P=0;P<A;P++){var S=v[P>>>2]>>>24-P%4*8&255;E[C+P>>>2]|=S<<24-(C+P)%4*8}else for(var k=0;k<A;k+=4)E[C+k>>>2]=v[k>>>2];return this.sigBytes+=A,this},clamp:function(){var _=this.words,E=this.sigBytes;_[E>>>2]&=4294967295<<32-E%4*8,_.length=r.ceil(E/4)},clone:function(){var _=d.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var E=[],v=0;v<_;v+=4)E.push(o());return new f.init(E,_)}}),h=l.enc={},m=h.Hex={stringify:function(_){for(var E=_.words,v=_.sigBytes,C=[],A=0;A<v;A++){var P=E[A>>>2]>>>24-A%4*8&255;C.push((P>>>4).toString(16)),C.push((P&15).toString(16))}return C.join("")},parse:function(_){for(var E=_.length,v=[],C=0;C<E;C+=2)v[C>>>3]|=parseInt(_.substr(C,2),16)<<24-C%8*4;return new f.init(v,E/2)}},g=h.Latin1={stringify:function(_){for(var E=_.words,v=_.sigBytes,C=[],A=0;A<v;A++){var P=E[A>>>2]>>>24-A%4*8&255;C.push(String.fromCharCode(P))}return C.join("")},parse:function(_){for(var E=_.length,v=[],C=0;C<E;C++)v[C>>>2]|=(_.charCodeAt(C)&255)<<24-C%4*8;return new f.init(v,E)}},x=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(g.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return g.parse(unescape(encodeURIComponent(_)))}},T=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=x.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var E,v=this._data,C=v.words,A=v.sigBytes,P=this.blockSize,S=P*4,k=A/S;_?k=r.ceil(k):k=r.max((k|0)-this._minBufferSize,0);var b=k*P,N=r.min(b*4,A);if(b){for(var O=0;O<b;O+=P)this._doProcessBlock(C,O);E=C.splice(0,b),v.sigBytes-=N}return new f.init(E,N)},clone:function(){var _=d.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});c.Hasher=T.extend({cfg:d.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(_){return function(E,v){return new _.init(v).finalize(E)}},_createHmacHelper:function(_){return function(E,v){return new y.HMAC.init(_,v).finalize(E)}}});var y=l.algo={};return l}(Math);return n})}(hp)),hp.exports}var fp={exports:{}},r2;function zf(){return r2||(r2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,d){this.high=c,this.low=d}}),l.WordArray=o.extend({init:function(c,d){c=this.words=c||[],d!=r?this.sigBytes=d:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,d=c.length,f=[],h=0;h<d;h++){var m=c[h];f.push(m.high),f.push(m.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),d=c.words=this.words.slice(0),f=d.length,h=0;h<f;h++)d[h]=d[h].clone();return c}})}(),n})}(fp)),fp.exports}var pp={exports:{}},i2;function SU(){return i2||(i2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,d=[],f=0;f<c;f++)d[f>>>2]|=l[f]<<24-f%4*8;o.call(this,d,c)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(pp)),pp.exports}var mp={exports:{}},s2;function IU(){return s2||(s2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,d=l.sigBytes,f=[],h=0;h<d;h+=2){var m=c[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(m))}return f.join("")},parse:function(l){for(var c=l.length,d=[],f=0;f<c;f++)d[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return s.create(d,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,d=l.sigBytes,f=[],h=0;h<d;h+=2){var m=a(c[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(m))}return f.join("")},parse:function(l){for(var c=l.length,d=[],f=0;f<c;f++)d[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return s.create(d,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(mp)),mp.exports}var gp={exports:{}},o2;function Za(){return o2||(o2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,f=this._map;l.clamp();for(var h=[],m=0;m<d;m+=3)for(var g=c[m>>>2]>>>24-m%4*8&255,x=c[m+1>>>2]>>>24-(m+1)%4*8&255,T=c[m+2>>>2]>>>24-(m+2)%4*8&255,y=g<<16|x<<8|T,_=0;_<4&&m+_*.75<d;_++)h.push(f.charAt(y>>>6*(3-_)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l){var c=l.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(c=g)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,d){for(var f=[],h=0,m=0;m<c;m++)if(m%4){var g=d[l.charCodeAt(m-1)]<<m%4*2,x=d[l.charCodeAt(m)]>>>6-m%4*2,T=g|x;f[h>>>2]|=T<<24-h%4*8,h++}return s.create(f,h)}}(),n.enc.Base64})}(gp)),gp.exports}var vp={exports:{}},a2;function RU(){return a2||(a2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c=!0){var d=l.words,f=l.sigBytes,h=c?this._safe_map:this._map;l.clamp();for(var m=[],g=0;g<f;g+=3)for(var x=d[g>>>2]>>>24-g%4*8&255,T=d[g+1>>>2]>>>24-(g+1)%4*8&255,y=d[g+2>>>2]>>>24-(g+2)%4*8&255,_=x<<16|T<<8|y,E=0;E<4&&g+E*.75<f;E++)m.push(h.charAt(_>>>6*(3-E)&63));var v=h.charAt(64);if(v)for(;m.length%4;)m.push(v);return m.join("")},parse:function(l,c=!0){var d=l.length,f=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<f.length;m++)h[f.charCodeAt(m)]=m}var g=f.charAt(64);if(g){var x=l.indexOf(g);x!==-1&&(d=x)}return a(l,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,d){for(var f=[],h=0,m=0;m<c;m++)if(m%4){var g=d[l.charCodeAt(m-1)]<<m%4*2,x=d[l.charCodeAt(m)]>>>6-m%4*2,T=g|x;f[h>>>2]|=T<<24-h%4*8,h++}return s.create(f,h)}}(),n.enc.Base64url})}(vp)),vp.exports}var yp={exports:{}},l2;function Ja(){return l2||(l2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var x=0;x<64;x++)c[x]=r.abs(r.sin(x+1))*4294967296|0})();var d=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,T){for(var y=0;y<16;y++){var _=T+y,E=x[_];x[_]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var v=this._hash.words,C=x[T+0],A=x[T+1],P=x[T+2],S=x[T+3],k=x[T+4],b=x[T+5],N=x[T+6],O=x[T+7],F=x[T+8],U=x[T+9],$=x[T+10],L=x[T+11],M=x[T+12],q=x[T+13],V=x[T+14],W=x[T+15],Y=v[0],H=v[1],G=v[2],j=v[3];Y=f(Y,H,G,j,C,7,c[0]),j=f(j,Y,H,G,A,12,c[1]),G=f(G,j,Y,H,P,17,c[2]),H=f(H,G,j,Y,S,22,c[3]),Y=f(Y,H,G,j,k,7,c[4]),j=f(j,Y,H,G,b,12,c[5]),G=f(G,j,Y,H,N,17,c[6]),H=f(H,G,j,Y,O,22,c[7]),Y=f(Y,H,G,j,F,7,c[8]),j=f(j,Y,H,G,U,12,c[9]),G=f(G,j,Y,H,$,17,c[10]),H=f(H,G,j,Y,L,22,c[11]),Y=f(Y,H,G,j,M,7,c[12]),j=f(j,Y,H,G,q,12,c[13]),G=f(G,j,Y,H,V,17,c[14]),H=f(H,G,j,Y,W,22,c[15]),Y=h(Y,H,G,j,A,5,c[16]),j=h(j,Y,H,G,N,9,c[17]),G=h(G,j,Y,H,L,14,c[18]),H=h(H,G,j,Y,C,20,c[19]),Y=h(Y,H,G,j,b,5,c[20]),j=h(j,Y,H,G,$,9,c[21]),G=h(G,j,Y,H,W,14,c[22]),H=h(H,G,j,Y,k,20,c[23]),Y=h(Y,H,G,j,U,5,c[24]),j=h(j,Y,H,G,V,9,c[25]),G=h(G,j,Y,H,S,14,c[26]),H=h(H,G,j,Y,F,20,c[27]),Y=h(Y,H,G,j,q,5,c[28]),j=h(j,Y,H,G,P,9,c[29]),G=h(G,j,Y,H,O,14,c[30]),H=h(H,G,j,Y,M,20,c[31]),Y=m(Y,H,G,j,b,4,c[32]),j=m(j,Y,H,G,F,11,c[33]),G=m(G,j,Y,H,L,16,c[34]),H=m(H,G,j,Y,V,23,c[35]),Y=m(Y,H,G,j,A,4,c[36]),j=m(j,Y,H,G,k,11,c[37]),G=m(G,j,Y,H,O,16,c[38]),H=m(H,G,j,Y,$,23,c[39]),Y=m(Y,H,G,j,q,4,c[40]),j=m(j,Y,H,G,C,11,c[41]),G=m(G,j,Y,H,S,16,c[42]),H=m(H,G,j,Y,N,23,c[43]),Y=m(Y,H,G,j,U,4,c[44]),j=m(j,Y,H,G,M,11,c[45]),G=m(G,j,Y,H,W,16,c[46]),H=m(H,G,j,Y,P,23,c[47]),Y=g(Y,H,G,j,C,6,c[48]),j=g(j,Y,H,G,O,10,c[49]),G=g(G,j,Y,H,V,15,c[50]),H=g(H,G,j,Y,b,21,c[51]),Y=g(Y,H,G,j,M,6,c[52]),j=g(j,Y,H,G,S,10,c[53]),G=g(G,j,Y,H,$,15,c[54]),H=g(H,G,j,Y,A,21,c[55]),Y=g(Y,H,G,j,F,6,c[56]),j=g(j,Y,H,G,W,10,c[57]),G=g(G,j,Y,H,N,15,c[58]),H=g(H,G,j,Y,q,21,c[59]),Y=g(Y,H,G,j,k,6,c[60]),j=g(j,Y,H,G,L,10,c[61]),G=g(G,j,Y,H,P,15,c[62]),H=g(H,G,j,Y,U,21,c[63]),v[0]=v[0]+Y|0,v[1]=v[1]+H|0,v[2]=v[2]+G|0,v[3]=v[3]+j|0},_doFinalize:function(){var x=this._data,T=x.words,y=this._nDataBytes*8,_=x.sigBytes*8;T[_>>>5]|=128<<24-_%32;var E=r.floor(y/4294967296),v=y;T[(_+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,T[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,x.sigBytes=(T.length+1)*4,this._process();for(var C=this._hash,A=C.words,P=0;P<4;P++){var S=A[P];A[P]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return C},clone:function(){var x=a.clone.call(this);return x._hash=this._hash.clone(),x}});function f(x,T,y,_,E,v,C){var A=x+(T&y|~T&_)+E+C;return(A<<v|A>>>32-v)+T}function h(x,T,y,_,E,v,C){var A=x+(T&_|y&~_)+E+C;return(A<<v|A>>>32-v)+T}function m(x,T,y,_,E,v,C){var A=x+(T^y^_)+E+C;return(A<<v|A>>>32-v)+T}function g(x,T,y,_,E,v,C){var A=x+(y^(T|~_))+E+C;return(A<<v|A>>>32-v)+T}i.MD5=a._createHelper(d),i.HmacMD5=a._createHmacHelper(d)}(Math),n.MD5})}(yp)),yp.exports}var _p={exports:{}},u2;function fy(){return u2||(u2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,f){for(var h=this._hash.words,m=h[0],g=h[1],x=h[2],T=h[3],y=h[4],_=0;_<80;_++){if(_<16)l[_]=d[f+_]|0;else{var E=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=E<<1|E>>>31}var v=(m<<5|m>>>27)+y+l[_];_<20?v+=(g&x|~g&T)+1518500249:_<40?v+=(g^x^T)+1859775393:_<60?v+=(g&x|g&T|x&T)-1894007588:v+=(g^x^T)-899497514,y=T,T=x,x=g<<30|g>>>2,g=m,m=v}h[0]=h[0]+m|0,h[1]=h[1]+g|0,h[2]=h[2]+x|0,h[3]=h[3]+T|0,h[4]=h[4]+y|0},_doFinalize:function(){var d=this._data,f=d.words,h=this._nDataBytes*8,m=d.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(m+64>>>9<<4)+15]=h,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(_p)),_p.exports}var xp={exports:{}},c2;function tA(){return c2||(c2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],d=[];(function(){function m(y){for(var _=r.sqrt(y),E=2;E<=_;E++)if(!(y%E))return!1;return!0}function g(y){return(y-(y|0))*4294967296|0}for(var x=2,T=0;T<64;)m(x)&&(T<8&&(c[T]=g(r.pow(x,1/2))),d[T]=g(r.pow(x,1/3)),T++),x++})();var f=[],h=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(m,g){for(var x=this._hash.words,T=x[0],y=x[1],_=x[2],E=x[3],v=x[4],C=x[5],A=x[6],P=x[7],S=0;S<64;S++){if(S<16)f[S]=m[g+S]|0;else{var k=f[S-15],b=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,N=f[S-2],O=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;f[S]=b+f[S-7]+O+f[S-16]}var F=v&C^~v&A,U=T&y^T&_^y&_,$=(T<<30|T>>>2)^(T<<19|T>>>13)^(T<<10|T>>>22),L=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),M=P+L+F+d[S]+f[S],q=$+U;P=A,A=C,C=v,v=E+M|0,E=_,_=y,y=T,T=M+q|0}x[0]=x[0]+T|0,x[1]=x[1]+y|0,x[2]=x[2]+_|0,x[3]=x[3]+E|0,x[4]=x[4]+v|0,x[5]=x[5]+C|0,x[6]=x[6]+A|0,x[7]=x[7]+P|0},_doFinalize:function(){var m=this._data,g=m.words,x=this._nDataBytes*8,T=m.sigBytes*8;return g[T>>>5]|=128<<24-T%32,g[(T+64>>>9<<4)+14]=r.floor(x/4294967296),g[(T+64>>>9<<4)+15]=x,m.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})}(xp)),xp.exports}var wp={exports:{}},d2;function AU(){return d2||(d2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),tA())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(wp)),wp.exports}var Ep={exports:{}},h2;function nA(){return h2||(h2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),zf())})(be,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function d(){return a.create.apply(a,arguments)}var f=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],h=[];(function(){for(var g=0;g<80;g++)h[g]=d()})();var m=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,x){for(var T=this._hash.words,y=T[0],_=T[1],E=T[2],v=T[3],C=T[4],A=T[5],P=T[6],S=T[7],k=y.high,b=y.low,N=_.high,O=_.low,F=E.high,U=E.low,$=v.high,L=v.low,M=C.high,q=C.low,V=A.high,W=A.low,Y=P.high,H=P.low,G=S.high,j=S.low,z=k,se=b,Te=N,oe=O,De=F,Fe=U,rt=$,it=L,Ct=M,ut=q,$e=V,pt=W,He=Y,Oe=H,mt=G,Ue=j,xe=0;xe<80;xe++){var ke,je,We=h[xe];if(xe<16)je=We.high=g[x+xe*2]|0,ke=We.low=g[x+xe*2+1]|0;else{var Ve=h[xe-15],Lt=Ve.high,Jt=Ve.low,Ye=(Lt>>>1|Jt<<31)^(Lt>>>8|Jt<<24)^Lt>>>7,we=(Jt>>>1|Lt<<31)^(Jt>>>8|Lt<<24)^(Jt>>>7|Lt<<25),ct=h[xe-2],vt=ct.high,At=ct.low,Mn=(vt>>>19|At<<13)^(vt<<3|At>>>29)^vt>>>6,K=(At>>>19|vt<<13)^(At<<3|vt>>>29)^(At>>>6|vt<<26),X=h[xe-7],J=X.high,ce=X.low,ye=h[xe-16],ge=ye.high,ae=ye.low;ke=we+ce,je=Ye+J+(ke>>>0<we>>>0?1:0),ke=ke+K,je=je+Mn+(ke>>>0<K>>>0?1:0),ke=ke+ae,je=je+ge+(ke>>>0<ae>>>0?1:0),We.high=je,We.low=ke}var pe=Ct&$e^~Ct&He,ue=ut&pt^~ut&Oe,Ce=z&Te^z&De^Te&De,st=se&oe^se&Fe^oe&Fe,Ne=(z>>>28|se<<4)^(z<<30|se>>>2)^(z<<25|se>>>7),Ge=(se>>>28|z<<4)^(se<<30|z>>>2)^(se<<25|z>>>7),Ze=(Ct>>>14|ut<<18)^(Ct>>>18|ut<<14)^(Ct<<23|ut>>>9),Gt=(ut>>>14|Ct<<18)^(ut>>>18|Ct<<14)^(ut<<23|Ct>>>9),On=f[xe],oi=On.high,dr=On.low,dt=Ue+Gt,ie=mt+Ze+(dt>>>0<Ue>>>0?1:0),dt=dt+ue,ie=ie+pe+(dt>>>0<ue>>>0?1:0),dt=dt+dr,ie=ie+oi+(dt>>>0<dr>>>0?1:0),dt=dt+ke,ie=ie+je+(dt>>>0<ke>>>0?1:0),ai=Ge+st,Ls=Ne+Ce+(ai>>>0<Ge>>>0?1:0);mt=He,Ue=Oe,He=$e,Oe=pt,$e=Ct,pt=ut,ut=it+dt|0,Ct=rt+ie+(ut>>>0<it>>>0?1:0)|0,rt=De,it=Fe,De=Te,Fe=oe,Te=z,oe=se,se=dt+ai|0,z=ie+Ls+(se>>>0<dt>>>0?1:0)|0}b=y.low=b+se,y.high=k+z+(b>>>0<se>>>0?1:0),O=_.low=O+oe,_.high=N+Te+(O>>>0<oe>>>0?1:0),U=E.low=U+Fe,E.high=F+De+(U>>>0<Fe>>>0?1:0),L=v.low=L+it,v.high=$+rt+(L>>>0<it>>>0?1:0),q=C.low=q+ut,C.high=M+Ct+(q>>>0<ut>>>0?1:0),W=A.low=W+pt,A.high=V+$e+(W>>>0<pt>>>0?1:0),H=P.low=H+Oe,P.high=Y+He+(H>>>0<Oe>>>0?1:0),j=S.low=j+Ue,S.high=G+mt+(j>>>0<Ue>>>0?1:0)},_doFinalize:function(){var g=this._data,x=g.words,T=this._nDataBytes*8,y=g.sigBytes*8;x[y>>>5]|=128<<24-y%32,x[(y+128>>>10<<5)+30]=Math.floor(T/4294967296),x[(y+128>>>10<<5)+31]=T,g.sigBytes=x.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=s._createHelper(m),r.HmacSHA512=s._createHmacHelper(m)}(),n.SHA512})}(Ep)),Ep.exports}var Tp={exports:{}},f2;function bU(){return f2||(f2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),zf(),nA())})(be,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(Tp)),Tp.exports}var Sp={exports:{}},p2;function kU(){return p2||(p2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),zf())})(be,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,d=i.algo,f=[],h=[],m=[];(function(){for(var T=1,y=0,_=0;_<24;_++){f[T+5*y]=(_+1)*(_+2)/2%64;var E=y%5,v=(2*T+3*y)%5;T=E,y=v}for(var T=0;T<5;T++)for(var y=0;y<5;y++)h[T+5*y]=y+(2*T+3*y)%5*5;for(var C=1,A=0;A<24;A++){for(var P=0,S=0,k=0;k<7;k++){if(C&1){var b=(1<<k)-1;b<32?S^=1<<b:P^=1<<b-32}C&128?C=C<<1^113:C<<=1}m[A]=c.create(P,S)}})();var g=[];(function(){for(var T=0;T<25;T++)g[T]=c.create()})();var x=d.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var T=this._state=[],y=0;y<25;y++)T[y]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(T,y){for(var _=this._state,E=this.blockSize/2,v=0;v<E;v++){var C=T[y+2*v],A=T[y+2*v+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var P=_[v];P.high^=A,P.low^=C}for(var S=0;S<24;S++){for(var k=0;k<5;k++){for(var b=0,N=0,O=0;O<5;O++){var P=_[k+5*O];b^=P.high,N^=P.low}var F=g[k];F.high=b,F.low=N}for(var k=0;k<5;k++)for(var U=g[(k+4)%5],$=g[(k+1)%5],L=$.high,M=$.low,b=U.high^(L<<1|M>>>31),N=U.low^(M<<1|L>>>31),O=0;O<5;O++){var P=_[k+5*O];P.high^=b,P.low^=N}for(var q=1;q<25;q++){var b,N,P=_[q],V=P.high,W=P.low,Y=f[q];Y<32?(b=V<<Y|W>>>32-Y,N=W<<Y|V>>>32-Y):(b=W<<Y-32|V>>>64-Y,N=V<<Y-32|W>>>64-Y);var H=g[h[q]];H.high=b,H.low=N}var G=g[0],j=_[0];G.high=j.high,G.low=j.low;for(var k=0;k<5;k++)for(var O=0;O<5;O++){var q=k+5*O,P=_[q],z=g[q],se=g[(k+1)%5+5*O],Te=g[(k+2)%5+5*O];P.high=z.high^~se.high&Te.high,P.low=z.low^~se.low&Te.low}var P=_[0],oe=m[S];P.high^=oe.high,P.low^=oe.low}},_doFinalize:function(){var T=this._data,y=T.words;this._nDataBytes*8;var _=T.sigBytes*8,E=this.blockSize*32;y[_>>>5]|=1<<24-_%32,y[(r.ceil((_+1)/E)*E>>>5)-1]|=128,T.sigBytes=y.length*4,this._process();for(var v=this._state,C=this.cfg.outputLength/8,A=C/8,P=[],S=0;S<A;S++){var k=v[S],b=k.high,N=k.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,P.push(N),P.push(b)}return new o.init(P,C)},clone:function(){for(var T=a.clone.call(this),y=T._state=this._state.slice(0),_=0;_<25;_++)y[_]=y[_].clone();return T}});i.SHA3=a._createHelper(x),i.HmacSHA3=a._createHmacHelper(x)}(Math),n.SHA3})}(Sp)),Sp.exports}var Ip={exports:{}},m2;function CU(){return m2||(m2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),x=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,P){for(var S=0;S<16;S++){var k=P+S,b=A[k];A[k]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var N=this._hash.words,O=m.words,F=g.words,U=c.words,$=d.words,L=f.words,M=h.words,q,V,W,Y,H,G,j,z,se,Te;G=q=N[0],j=V=N[1],z=W=N[2],se=Y=N[3],Te=H=N[4];for(var oe,S=0;S<80;S+=1)oe=q+A[P+U[S]]|0,S<16?oe+=T(V,W,Y)+O[0]:S<32?oe+=y(V,W,Y)+O[1]:S<48?oe+=_(V,W,Y)+O[2]:S<64?oe+=E(V,W,Y)+O[3]:oe+=v(V,W,Y)+O[4],oe=oe|0,oe=C(oe,L[S]),oe=oe+H|0,q=H,H=Y,Y=C(W,10),W=V,V=oe,oe=G+A[P+$[S]]|0,S<16?oe+=v(j,z,se)+F[0]:S<32?oe+=E(j,z,se)+F[1]:S<48?oe+=_(j,z,se)+F[2]:S<64?oe+=y(j,z,se)+F[3]:oe+=T(j,z,se)+F[4],oe=oe|0,oe=C(oe,M[S]),oe=oe+Te|0,G=Te,Te=se,se=C(z,10),z=j,j=oe;oe=N[1]+W+se|0,N[1]=N[2]+Y+Te|0,N[2]=N[3]+H+G|0,N[3]=N[4]+q+j|0,N[4]=N[0]+V+z|0,N[0]=oe},_doFinalize:function(){var A=this._data,P=A.words,S=this._nDataBytes*8,k=A.sigBytes*8;P[k>>>5]|=128<<24-k%32,P[(k+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,A.sigBytes=(P.length+1)*4,this._process();for(var b=this._hash,N=b.words,O=0;O<5;O++){var F=N[O];N[O]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return b},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});function T(A,P,S){return A^P^S}function y(A,P,S){return A&P|~A&S}function _(A,P,S){return(A|~P)^S}function E(A,P,S){return A&S|P&~S}function v(A,P,S){return A^(P|~S)}function C(A,P){return A<<P|A>>>32-P}i.RIPEMD160=a._createHelper(x),i.HmacRIPEMD160=a._createHmacHelper(x)}(),n.RIPEMD160})}(Ip)),Ip.exports}var Rp={exports:{}},g2;function py(){return g2||(g2=1,function(t,e){(function(n,r){t.exports=r(Xe())})(be,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,d){c=this._hasher=new c.init,typeof d=="string"&&(d=a.parse(d));var f=c.blockSize,h=f*4;d.sigBytes>h&&(d=c.finalize(d)),d.clamp();for(var m=this._oKey=d.clone(),g=this._iKey=d.clone(),x=m.words,T=g.words,y=0;y<f;y++)x[y]^=1549556828,T[y]^=909522486;m.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var d=this._hasher,f=d.finalize(c);d.reset();var h=d.finalize(this._oKey.clone().concat(f));return h}})})()})}(Rp)),Rp.exports}var Ap={exports:{}},v2;function PU(){return v2||(v2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),fy(),py())})(be,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA1,c=a.HMAC,d=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var m=this.cfg,g=c.create(m.hasher,f),x=o.create(),T=o.create([1]),y=x.words,_=T.words,E=m.keySize,v=m.iterations;y.length<E;){var C=g.update(h).finalize(T);g.reset();for(var A=C.words,P=A.length,S=C,k=1;k<v;k++){S=g.finalize(S),g.reset();for(var b=S.words,N=0;N<P;N++)A[N]^=b[N]}x.concat(C),_[0]++}return x.sigBytes=E*4,x}});r.PBKDF2=function(f,h,m){return d.create(m).compute(f,h)}}(),n.PBKDF2})}(Ap)),Ap.exports}var bp={exports:{}},y2;function Co(){return y2||(y2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),fy(),py())})(be,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h,m=this.cfg,g=m.hasher.create(),x=o.create(),T=x.words,y=m.keySize,_=m.iterations;T.length<y;){h&&g.update(h),h=g.update(d).finalize(f),g.reset();for(var E=1;E<_;E++)h=g.finalize(h),g.reset();x.concat(h)}return x.sigBytes=y*4,x}});r.EvpKDF=function(d,f,h){return c.create(h).compute(d,f)}}(),n.EvpKDF})}(bp)),bp.exports}var kp={exports:{}},_2;function mn(){return _2||(_2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Co())})(be,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var d=c.Base64,f=i.algo,h=f.EvpKDF,m=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(b,N){return this.create(this._ENC_XFORM_MODE,b,N)},createDecryptor:function(b,N){return this.create(this._DEC_XFORM_MODE,b,N)},init:function(b,N,O){this.cfg=this.cfg.extend(O),this._xformMode=b,this._key=N,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(N){return typeof N=="string"?k:A}return function(N){return{encrypt:function(O,F,U){return b(F).encrypt(N,O,F,U)},decrypt:function(O,F,U){return b(F).decrypt(N,O,F,U)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var g=i.mode={},x=s.BlockCipherMode=o.extend({createEncryptor:function(b,N){return this.Encryptor.create(b,N)},createDecryptor:function(b,N){return this.Decryptor.create(b,N)},init:function(b,N){this._cipher=b,this._iv=N}}),T=g.CBC=function(){var b=x.extend();b.Encryptor=b.extend({processBlock:function(O,F){var U=this._cipher,$=U.blockSize;N.call(this,O,F,$),U.encryptBlock(O,F),this._prevBlock=O.slice(F,F+$)}}),b.Decryptor=b.extend({processBlock:function(O,F){var U=this._cipher,$=U.blockSize,L=O.slice(F,F+$);U.decryptBlock(O,F),N.call(this,O,F,$),this._prevBlock=L}});function N(O,F,U){var $,L=this._iv;L?($=L,this._iv=r):$=this._prevBlock;for(var M=0;M<U;M++)O[F+M]^=$[M]}return b}(),y=i.pad={},_=y.Pkcs7={pad:function(b,N){for(var O=N*4,F=O-b.sigBytes%O,U=F<<24|F<<16|F<<8|F,$=[],L=0;L<F;L+=4)$.push(U);var M=a.create($,F);b.concat(M)},unpad:function(b){var N=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=N}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:T,padding:_}),reset:function(){var b;m.reset.call(this);var N=this.cfg,O=N.iv,F=N.mode;this._xformMode==this._ENC_XFORM_MODE?b=F.createEncryptor:(b=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,O&&O.words):(this._mode=b.call(F,this,O&&O.words),this._mode.__creator=b)},_doProcessBlock:function(b,N){this._mode.processBlock(b,N)},_doFinalize:function(){var b,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),N.unpad(b)),b},blockSize:128/32});var E=s.CipherParams=o.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),v=i.format={},C=v.OpenSSL={stringify:function(b){var N,O=b.ciphertext,F=b.salt;return F?N=a.create([1398893684,1701076831]).concat(F).concat(O):N=O,N.toString(d)},parse:function(b){var N,O=d.parse(b),F=O.words;return F[0]==1398893684&&F[1]==1701076831&&(N=a.create(F.slice(2,4)),F.splice(0,4),O.sigBytes-=16),E.create({ciphertext:O,salt:N})}},A=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(b,N,O,F){F=this.cfg.extend(F);var U=b.createEncryptor(O,F),$=U.finalize(N),L=U.cfg;return E.create({ciphertext:$,key:O,iv:L.iv,algorithm:b,mode:L.mode,padding:L.padding,blockSize:b.blockSize,formatter:F.format})},decrypt:function(b,N,O,F){F=this.cfg.extend(F),N=this._parse(N,F.format);var U=b.createDecryptor(O,F).finalize(N.ciphertext);return U},_parse:function(b,N){return typeof b=="string"?N.parse(b,this):b}}),P=i.kdf={},S=P.OpenSSL={execute:function(b,N,O,F){F||(F=a.random(64/8));var U=h.create({keySize:N+O}).compute(b,F),$=a.create(U.words.slice(N),O*4);return U.sigBytes=N*4,E.create({key:U,iv:$,salt:F})}},k=s.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:S}),encrypt:function(b,N,O,F){F=this.cfg.extend(F);var U=F.kdf.execute(O,b.keySize,b.ivSize);F.iv=U.iv;var $=A.encrypt.call(this,b,N,U.key,F);return $.mixIn(U),$},decrypt:function(b,N,O,F){F=this.cfg.extend(F),N=this._parse(N,F.format);var U=F.kdf.execute(O,b.keySize,b.ivSize,N.salt);F.iv=U.iv;var $=A.decrypt.call(this,b,N,U.key,F);return $}})}()})}(kp)),kp.exports}var Cp={exports:{}},x2;function DU(){return x2||(x2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,d=this._iv;d?(c=d.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)s[o+f]^=c[f]}return r}(),n.mode.CFB})}(Cp)),Cp.exports}var Pp={exports:{}},w2;function NU(){return w2||(w2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._counter;c&&(d=this._counter=c.slice(0),this._iv=void 0);var f=d.slice(0);a.encryptBlock(f,0),d[l-1]=d[l-1]+1|0;for(var h=0;h<l;h++)s[o+h]^=f[h]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Pp)),Pp.exports}var Dp={exports:{}},E2;function MU(){return E2||(E2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,d=a&255;l===255?(l=0,c===255?(c=0,d===255?d=0:++d):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=d}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,d=c.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),s(h);var m=h.slice(0);c.encryptBlock(m,0);for(var g=0;g<d;g++)a[l+g]^=m[g]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(Dp)),Dp.exports}var Np={exports:{}},T2;function OU(){return T2||(T2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._keystream;c&&(d=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(d,0);for(var f=0;f<l;f++)s[o+f]^=d[f]}});return r.Decryptor=i,r}(),n.mode.OFB})}(Np)),Np.exports}var Mp={exports:{}},S2;function LU(){return S2||(S2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(Mp)),Mp.exports}var Op={exports:{}},I2;function FU(){return I2||(I2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(Op)),Op.exports}var Lp={exports:{}},R2;function UU(){return R2||(R2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(Lp)),Lp.exports}var Fp={exports:{}},A2;function jU(){return A2||(A2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Fp)),Fp.exports}var Up={exports:{}},b2;function VU(){return b2||(b2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(Up)),Up.exports}var jp={exports:{}},k2;function BU(){return k2||(k2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(jp)),jp.exports}var Vp={exports:{}},C2;function zU(){return C2||(C2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),mn())})(be,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(d){return d.ciphertext.toString(l)},parse:function(d){var f=l.parse(d);return o.create({ciphertext:f})}}}(),n.format.Hex})}(Vp)),Vp.exports}var Bp={exports:{}},P2;function qU(){return P2||(P2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Za(),Ja(),Co(),mn())})(be,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],d=[],f=[],h=[],m=[],g=[],x=[],T=[];(function(){for(var E=[],v=0;v<256;v++)v<128?E[v]=v<<1:E[v]=v<<1^283;for(var C=0,A=0,v=0;v<256;v++){var P=A^A<<1^A<<2^A<<3^A<<4;P=P>>>8^P&255^99,a[C]=P,l[P]=C;var S=E[C],k=E[S],b=E[k],N=E[P]*257^P*16843008;c[C]=N<<24|N>>>8,d[C]=N<<16|N>>>16,f[C]=N<<8|N>>>24,h[C]=N;var N=b*16843009^k*65537^S*257^C*16843008;m[P]=N<<24|N>>>8,g[P]=N<<16|N>>>16,x[P]=N<<8|N>>>24,T[P]=N,C?(C=S^E[E[E[b^S]]],A^=E[E[A]]):C=A=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,C=v.words,A=v.sigBytes/4,P=this._nRounds=A+6,S=(P+1)*4,k=this._keySchedule=[],b=0;b<S;b++)b<A?k[b]=C[b]:(E=k[b-1],b%A?A>6&&b%A==4&&(E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255]):(E=E<<8|E>>>24,E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255],E^=y[b/A|0]<<24),k[b]=k[b-A]^E);for(var N=this._invKeySchedule=[],O=0;O<S;O++){var b=S-O;if(O%4)var E=k[b];else var E=k[b-4];O<4||b<=4?N[O]=E:N[O]=m[a[E>>>24]]^g[a[E>>>16&255]]^x[a[E>>>8&255]]^T[a[E&255]]}}},encryptBlock:function(E,v){this._doCryptBlock(E,v,this._keySchedule,c,d,f,h,a)},decryptBlock:function(E,v){var C=E[v+1];E[v+1]=E[v+3],E[v+3]=C,this._doCryptBlock(E,v,this._invKeySchedule,m,g,x,T,l);var C=E[v+1];E[v+1]=E[v+3],E[v+3]=C},_doCryptBlock:function(E,v,C,A,P,S,k,b){for(var N=this._nRounds,O=E[v]^C[0],F=E[v+1]^C[1],U=E[v+2]^C[2],$=E[v+3]^C[3],L=4,M=1;M<N;M++){var q=A[O>>>24]^P[F>>>16&255]^S[U>>>8&255]^k[$&255]^C[L++],V=A[F>>>24]^P[U>>>16&255]^S[$>>>8&255]^k[O&255]^C[L++],W=A[U>>>24]^P[$>>>16&255]^S[O>>>8&255]^k[F&255]^C[L++],Y=A[$>>>24]^P[O>>>16&255]^S[F>>>8&255]^k[U&255]^C[L++];O=q,F=V,U=W,$=Y}var q=(b[O>>>24]<<24|b[F>>>16&255]<<16|b[U>>>8&255]<<8|b[$&255])^C[L++],V=(b[F>>>24]<<24|b[U>>>16&255]<<16|b[$>>>8&255]<<8|b[O&255])^C[L++],W=(b[U>>>24]<<24|b[$>>>16&255]<<16|b[O>>>8&255]<<8|b[F&255])^C[L++],Y=(b[$>>>24]<<24|b[O>>>16&255]<<16|b[F>>>8&255]<<8|b[U&255])^C[L++];E[v]=q,E[v+1]=V,E[v+2]=W,E[v+3]=Y},keySize:256/32});r.AES=s._createHelper(_)}(),n.AES})}(Bp)),Bp.exports}var zp={exports:{}},D2;function $U(){return D2||(D2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Za(),Ja(),Co(),mn())})(be,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var y=this._key,_=y.words,E=[],v=0;v<56;v++){var C=l[v]-1;E[v]=_[C>>>5]>>>31-C%32&1}for(var A=this._subKeys=[],P=0;P<16;P++){for(var S=A[P]=[],k=d[P],v=0;v<24;v++)S[v/6|0]|=E[(c[v]-1+k)%28]<<31-v%6,S[4+(v/6|0)]|=E[28+(c[v+24]-1+k)%28]<<31-v%6;S[0]=S[0]<<1|S[0]>>>31;for(var v=1;v<7;v++)S[v]=S[v]>>>(v-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var b=this._invSubKeys=[],v=0;v<16;v++)b[v]=A[15-v]},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._subKeys)},decryptBlock:function(y,_){this._doCryptBlock(y,_,this._invSubKeys)},_doCryptBlock:function(y,_,E){this._lBlock=y[_],this._rBlock=y[_+1],g.call(this,4,252645135),g.call(this,16,65535),x.call(this,2,858993459),x.call(this,8,16711935),g.call(this,1,1431655765);for(var v=0;v<16;v++){for(var C=E[v],A=this._lBlock,P=this._rBlock,S=0,k=0;k<8;k++)S|=f[k][((P^C[k])&h[k])>>>0];this._lBlock=P,this._rBlock=A^S}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,g.call(this,1,1431655765),x.call(this,8,16711935),x.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),y[_]=this._lBlock,y[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(y,_){var E=(this._lBlock>>>y^this._rBlock)&_;this._rBlock^=E,this._lBlock^=E<<y}function x(y,_){var E=(this._rBlock>>>y^this._lBlock)&_;this._lBlock^=E,this._rBlock^=E<<y}r.DES=o._createHelper(m);var T=a.TripleDES=o.extend({_doReset:function(){var y=this._key,_=y.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),C=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=m.createEncryptor(s.create(E)),this._des2=m.createEncryptor(s.create(v)),this._des3=m.createEncryptor(s.create(C))},encryptBlock:function(y,_){this._des1.encryptBlock(y,_),this._des2.decryptBlock(y,_),this._des3.encryptBlock(y,_)},decryptBlock:function(y,_){this._des3.decryptBlock(y,_),this._des2.encryptBlock(y,_),this._des1.decryptBlock(y,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(T)}(),n.TripleDES})}(zp)),zp.exports}var qp={exports:{}},N2;function HU(){return N2||(N2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Za(),Ja(),Co(),mn())})(be,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var d=this._key,f=d.words,h=d.sigBytes,m=this._S=[],g=0;g<256;g++)m[g]=g;for(var g=0,x=0;g<256;g++){var T=g%h,y=f[T>>>2]>>>24-T%4*8&255;x=(x+m[g]+y)%256;var _=m[g];m[g]=m[x],m[x]=_}this._i=this._j=0},_doProcessBlock:function(d,f){d[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var d=this._S,f=this._i,h=this._j,m=0,g=0;g<4;g++){f=(f+1)%256,h=(h+d[f])%256;var x=d[f];d[f]=d[h],d[h]=x,m|=d[(d[f]+d[h])%256]<<24-g*8}return this._i=f,this._j=h,m}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)l.call(this)}});r.RC4Drop=s._createHelper(c)}(),n.RC4})}(qp)),qp.exports}var $p={exports:{}},M2;function WU(){return M2||(M2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Za(),Ja(),Co(),mn())})(be,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],d=o.Rabbit=s.extend({_doReset:function(){for(var h=this._key.words,m=this.cfg.iv,g=0;g<4;g++)h[g]=(h[g]<<8|h[g]>>>24)&16711935|(h[g]<<24|h[g]>>>8)&4278255360;var x=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],T=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)T[g]^=x[g+4&7];if(m){var y=m.words,_=y[0],E=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A=v>>>16|C&4294901760,P=C<<16|v&65535;T[0]^=v,T[1]^=A,T[2]^=C,T[3]^=P,T[4]^=v,T[5]^=A,T[6]^=C,T[7]^=P;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(h,m){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var x=0;x<4;x++)a[x]=(a[x]<<8|a[x]>>>24)&16711935|(a[x]<<24|a[x]>>>8)&4278255360,h[m+x]^=a[x]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var x=h[g]+m[g],T=x&65535,y=x>>>16,_=((T*T>>>17)+T*y>>>15)+y*y,E=((x&4294901760)*x|0)+((x&65535)*x|0);c[g]=_^E}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(d)}(),n.Rabbit})}($p)),$p.exports}var Hp={exports:{}},O2;function YU(){return O2||(O2=1,function(t,e){(function(n,r,i){t.exports=r(Xe(),Za(),Ja(),Co(),mn())})(be,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],d=o.RabbitLegacy=s.extend({_doReset:function(){var h=this._key.words,m=this.cfg.iv,g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],x=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var T=0;T<4;T++)f.call(this);for(var T=0;T<8;T++)x[T]^=g[T+4&7];if(m){var y=m.words,_=y[0],E=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A=v>>>16|C&4294901760,P=C<<16|v&65535;x[0]^=v,x[1]^=A,x[2]^=C,x[3]^=P,x[4]^=v,x[5]^=A,x[6]^=C,x[7]^=P;for(var T=0;T<4;T++)f.call(this)}},_doProcessBlock:function(h,m){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var x=0;x<4;x++)a[x]=(a[x]<<8|a[x]>>>24)&16711935|(a[x]<<24|a[x]>>>8)&4278255360,h[m+x]^=a[x]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,g=0;g<8;g++)l[g]=m[g];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var x=h[g]+m[g],T=x&65535,y=x>>>16,_=((T*T>>>17)+T*y>>>15)+y*y,E=((x&4294901760)*x|0)+((x&65535)*x|0);c[g]=_^E}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(d)}(),n.RabbitLegacy})}(Hp)),Hp.exports}(function(t,e){(function(n,r,i){t.exports=r(Xe(),zf(),SU(),IU(),Za(),RU(),Ja(),fy(),tA(),AU(),nA(),bU(),kU(),CU(),py(),PU(),Co(),mn(),DU(),NU(),MU(),OU(),LU(),FU(),UU(),jU(),VU(),BU(),zU(),qU(),$U(),HU(),WU(),YU())})(be,function(n){return n})})(JR);var GU=JR.exports;const Ih=ja(GU);/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/var Ti="~",_a="\\x"+("0"+Ti.charCodeAt(0).toString(16)).slice(-2),qf="\\"+_a,KU=new RegExp(_a,"g"),QU=new RegExp(qf,"g"),XU=new RegExp("(?:^|([^\\\\]))"+qf),Wp=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},rA=String;function ZU(t,e,n){var r=!1,i=!!e,s=[],o=[t],a=[t],l=[n?Ti:"[Circular]"],c=t,d=1,f,h;return i&&(h=typeof e=="object"?function(m,g){return m!==""&&e.indexOf(m)<0?void 0:g}:e),function(m,g){return i&&(g=h.call(this,m,g)),r?(c!==this&&(f=d-Wp.call(o,this)-1,d-=f,o.splice(d,o.length),s.splice(d-1,s.length),c=this),typeof g=="object"&&g?(Wp.call(o,g)<0&&o.push(c=g),d=o.length,f=Wp.call(a,g),f<0?(f=a.push(g)-1,n?(s.push((""+m).replace(KU,_a)),l[f]=Ti+s.join(Ti)):l[f]=l[0]):g=l[f]):typeof g=="string"&&n&&(g=g.replace(_a,qf).replace(Ti,_a))):r=!0,g}}function JU(t,e){for(var n=0,r=e.length;n<r;t=t[e[n++].replace(QU,Ti)]);return t}function ej(t){return function(e,n){var r=typeof n=="string";return r&&n.charAt(0)===Ti?new rA(n.slice(1)):(e===""&&(n=my(n,n,{})),r&&(n=n.replace(XU,"$1"+Ti).replace(qf,_a)),t?t.call(this,e,n):n)}}function tj(t,e,n){for(var r=0,i=e.length;r<i;r++)e[r]=my(t,e[r],n);return e}function nj(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(e[r]=my(t,e[r],n));return e}function my(t,e,n){return e instanceof Array?tj(t,e,n):e instanceof rA?e.length?n.hasOwnProperty(e)?n[e]:n[e]=JU(t,e.split(Ti)):t:e instanceof Object?nj(t,e,n):e}var Og={stringify:function(e,n,r,i){return Og.parser.stringify(e,ZU(e,n,!i),r)},parse:function(e,n){return Og.parser.parse(e,ej(n))},parser:JSON},rj=Og;const $f=ja(rj);async function ij({request:t}){const e=await t.formData(),n=e.get("email"),r=e.get("password");let i=!0;return await MN(Le,n,r).then(async s=>{const o=s.user.uid,a=o.substring(0,10),l=Ih.AES.encrypt(o,a);localStorage.setItem("currentUser",a),localStorage.setItem("userData",$f.stringify(l))}).catch(s=>{i=!1}),i?Fr("/quotee"):"Incorrect email or password try again"}function sj(){const t=$a(),e=ks();return R.jsxs("div",{className:"flex justify-around flex-col md:flex-row gap-5   items-center h-screen bg-quotee-100 p-10 text-quotee-600",children:[R.jsxs("div",{className:" flex flex-col gap-2 items-center",children:[R.jsx("h1",{className:"text-[60px] sm:text-[90px]",children:"Quotee"}),R.jsx("h4",{className:" text-center",children:"Where Words Connect. Share and Discover Inspirational Quotes!"}),R.jsxs("div",{className:" flex flex-col justify-center items-center rounded-t-md w-full p-3 gap-2",children:[R.jsx("code",{className:"text-sm",children:"Developed by Muhaemn"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("a",{href:"https://www.instagram.com/_muhaemn/",target:"_blanck",title:"Instagram",alt:"instagram",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:[R.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fill:"#f7f7f7"})," "]})}),R.jsx("a",{href:"https://github.com/Muhaemn",target:"_blanck",title:"Github",alt:"Github",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-github",width:"17",height:"17",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#f7f7f7",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[" ",R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})," ",R.jsx("path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"})," "]})})]})]})]}),R.jsxs("div",{className:"flex justify-evenly items-center flex-col w-full md:w-1/3 h-[70%] sm:h-screen bg-quotee-50 border-2 border-quotee-200 rounded-2xl md:rounded-none p-5",children:[R.jsx("h1",{className:"text-3xl",children:"Welcome"}),R.jsxs(Cs,{method:"post",className:"flex flex-col justify-around gap-5 w-full ",children:[t&&R.jsx("p",{className:"text-center text-white bg-red-500 py-2 rounded",children:t}),R.jsxs("div",{className:"flex justify-between flex-col  gap-2",children:[R.jsx(nn,{type:"email",id:"email",name:"email",require:!0,placeholder:"example@gmail.com"}),R.jsx(nn,{type:"password",id:"password",name:"password",require:!0,placeholder:"Password"})]}),R.jsx("div",{className:"flex justify-between flex-col  gap-5 items-center",children:R.jsx("button",{className:e.state==="submitting"?"text-white w-full px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white w-full px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:e.state==="submitting",children:e.state==="submitting"?"Logging in...":"Log in"})})]}),R.jsxs("div",{className:" flex flex-col justify-between sm:flex-row items-center gap-2 text-sm",children:[R.jsx("p",{className:"hover:font-bold font-semibold underline",children:R.jsx(Jn,{to:"/quotee/recovery",children:"Forgot password"})}),"or",R.jsx("p",{className:"hover:font-bold font-semibold underline",children:R.jsx(Jn,{to:"/quotee/signup",children:"Create account"})})]})]})]})}async function oj({request:t}){const n=(await t.formData()).get("email");let r=!0;return await DN(Le,n).then(()=>{}).catch(i=>{r=!1,console.log(i)}),r?{message:"email sent to your account you can reset your password there",succeed:!0}:{message:"no accounts found with this email",succeed:!1}}function aj(){const t=$a(),e=ks();return R.jsxs("div",{className:"flex justify-around flex-col md:flex-row gap-5   items-center h-screen bg-quotee-100 p-10 text-quotee-600",children:[R.jsxs("div",{className:" flex flex-col gap-2 items-center",children:[R.jsx("h1",{className:"text-[60px] sm:text-[90px]",children:"Quotee"}),R.jsx("h4",{className:" text-center",children:"Where Words Connect. Share and Discover Inspirational Quotes!"}),R.jsxs("div",{className:" flex flex-col justify-center items-center rounded-t-md w-full p-3 gap-2",children:[R.jsx("code",{className:"text-sm",children:"Developed by Muhaemn"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("a",{href:"https://www.instagram.com/_muhaemn/",target:"_blanck",title:"Instagram",alt:"instagram",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:[R.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fill:"#f7f7f7"})," "]})}),R.jsx("a",{href:"https://github.com/Muhaemn",target:"_blanck",title:"Github",alt:"Github",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-github",width:"17",height:"17",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#f7f7f7",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[" ",R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})," ",R.jsx("path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"})," "]})})]})]})]}),R.jsxs("div",{className:"flex justify-center gap-10 items-center flex-col w-full md:w-1/3 h-[50%] sm:h-screen bg-quotee-50 border-2 border-quotee-200 rounded-2xl md:rounded-none p-5",children:[R.jsx("h1",{className:"text-3xl",children:"Account Recovery"}),R.jsxs(Cs,{method:"post",className:"flex flex-col justify-between gap-5 w-full ",children:[t!=null&&t.succeed&&t!==void 0?R.jsx("p",{className:"text-center text-white bg-green-500 py-2 rounded",children:t.message}):t!==void 0?R.jsx("p",{className:"text-center text-white bg-red-500 py-2 rounded",children:t==null?void 0:t.message}):"",R.jsx(nn,{type:"email",id:"email",name:"email",require:!0,placeholder:"example@gmail.com"}),R.jsx("button",{className:e.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:e.state==="submitting",children:e.state==="submitting"?"Sending email ...":"Send email"})]})]})]})}async function lj({request:t}){const e=await t.formData(),n=e.get("email"),r=e.get("name"),i=e.get("username").toLowerCase(),s=e.get("password"),o=e.get("password2");let a=!0;if(s!==o)return{message:"password did not match",succeed:!1};const l=ii(wr(ze,"users"),ti("username","==",i));if((await Is(l)).docs.length)return{message:"username is alerady taken",succeed:!1};if(await NN(Le,n,s).then(async d=>{await tF(St(ze,"users",d.user.uid),{name:r,username:i,password:s,email:n,bio:"",following:[],followers:[],quotes:[]}).then(()=>{}).catch(g=>console.log(g));const f=d.user.uid,h=f.substring(0,10),m=Ih.AES.encrypt(f,h);localStorage.setItem("currentUser",h),localStorage.setItem("userData",$f.stringify(m))}).catch(d=>{a=!1}),await iS(Le.currentUser,{displayName:r}).catch(()=>{console.log("error cant update profile")}),a)throw Fr("/quotee");return{message:"this email is already in use",succeed:!1}}function uj(){const t=$a(),e=ks();return R.jsxs("div",{className:"flex justify-around flex-col md:flex-row gap-5   items-center h-screen bg-quotee-100 p-10 text-quotee-600",children:[R.jsxs("div",{className:" flex flex-col gap-2 items-center",children:[R.jsx("h1",{className:"text-[60px] sm:text-[90px]",children:"Quotee"}),R.jsx("h4",{className:" text-center",children:"Where Words Connect. Share and Discover Inspirational Quotes!"}),R.jsxs("div",{className:" flex flex-col justify-center items-center rounded-t-md w-full p-3 gap-2",children:[R.jsx("code",{className:"text-sm",children:"Developed by Muhaemn"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("a",{href:"https://www.instagram.com/_muhaemn/",target:"_blanck",title:"Instagram",alt:"instagram",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:[R.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z",fill:"#f7f7f7"})," "]})}),R.jsx("a",{href:"https://github.com/Muhaemn",target:"_blanck",title:"Github",alt:"Github",className:" rounded-full bg-quotee-600 w-9 flex items-center justify-center h-9",children:R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-github",width:"17",height:"17",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#f7f7f7",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[" ",R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})," ",R.jsx("path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"})," "]})})]})]})]}),R.jsxs("div",{className:"flex justify-evenly items-center flex-col w-full md:w-1/3 h-[70%] sm:h-screen bg-quotee-50 border-2 border-quotee-200 rounded-2xl md:rounded-none p-5",children:[R.jsx("h1",{className:"text-3xl",children:"Welcome"}),R.jsxs(Cs,{method:"post",className:"flex flex-col justify-between gap-5 w-full ",children:[!(t!=null&&t.succeed)&&t!==void 0?R.jsx("p",{className:"text-center text-white bg-red-500 py-2 rounded",children:t.message}):"",R.jsx(nn,{type:"text",id:"name",name:"name",require:!0,placeholder:"Name"}),R.jsx(nn,{type:"text",id:"username",pattern:"[a-zA-Z0-9_]{3,20}",title:"username can only contain letters,numbers and ( _ )",name:"username",require:!0,placeholder:"Username"}),R.jsx(nn,{type:"email",id:"email",name:"email",require:!0,placeholder:"example@gmail.com"}),R.jsx(nn,{type:"password",id:"password",name:"password",require:!0,min:6,placeholder:"Password"}),R.jsx(nn,{type:"password",id:"password2",name:"password2",min:6,require:!0,placeholder:"Enter password again"}),R.jsx("button",{className:e.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:e.state==="submitting",children:e.state==="submitting"?"Creating account ...":"Create account"})]}),R.jsxs("p",{className:"text-sm",children:["already have an account ?"," ",R.jsx("span",{className:"underline font-semibold",children:R.jsx(Jn,{to:"/quotee/login",children:"Login"})})]})]})]})}const Fa="/quotee/assets/pfp-69275bc6.png";function cj(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function dj({id:t,quotes:e}){const n=Q.useRef(null),[r,i]=cj(n);async function s(){await Dg(St(ze,"quotes",t)).then(async()=>{await Dr(St(ze,"users",Le.currentUser.uid),{quotes:e.filter(o=>o!=t)}).catch(o=>console.log(o))}).catch(o=>console.log(o))}return R.jsxs("div",{ref:n,className:"text-quotee-600",children:[R.jsx("li",{onClick:()=>i(o=>!o),className:"relative list-none flex items-center gap-2",children:R.jsx("div",{className:" bg-quotee-50 max-h-[300px] border w-[155px] border-quotee-200 text-base rounded-md no-scrollbar  flex-col items-stretch absolute z-50 left-[-140px] top-8 "+(r?"flex":"hidden"),children:R.jsxs("div",{className:"font-semibold flex flex-col overflow-hidden",children:[R.jsx("p",{className:"text-center border-b p-2 select-none border-quotee-200",children:"Quote Setting"}),R.jsx(Jn,{className:"hover:bg-quotee-100 text-sm p-2",to:"/quotee/create/"+t,children:"Edit quote"}),R.jsx("button",{className:"hover:bg-red-500 text-left font-semibold hover:text-quotee-50 text-red-500 rounded-b-md text-sm p-2",onClick:s,children:"Delete quote"})]})})}),R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 self-end cursor-pointer",onClick:()=>i(o=>!o),children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})})]})}var iA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(be,function(){var n;function r(){return n.apply(null,arguments)}function i(u){n=u}function s(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function o(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,p){return Object.prototype.hasOwnProperty.call(u,p)}function l(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var p;for(p in u)if(a(u,p))return!1;return!0}function c(u){return u===void 0}function d(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function f(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function h(u,p){var w=[],I,D=u.length;for(I=0;I<D;++I)w.push(p(u[I],I));return w}function m(u,p){for(var w in p)a(p,w)&&(u[w]=p[w]);return a(p,"toString")&&(u.toString=p.toString),a(p,"valueOf")&&(u.valueOf=p.valueOf),u}function g(u,p,w,I){return My(u,p,w,I,!0).utc()}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function T(u){return u._pf==null&&(u._pf=x()),u._pf}var y;Array.prototype.some?y=Array.prototype.some:y=function(u){var p=Object(this),w=p.length>>>0,I;for(I=0;I<w;I++)if(I in p&&u.call(this,p[I],I,p))return!0;return!1};function _(u){if(u._isValid==null){var p=T(u),w=y.call(p.parsedDateParts,function(D){return D!=null}),I=!isNaN(u._d.getTime())&&p.overflow<0&&!p.empty&&!p.invalidEra&&!p.invalidMonth&&!p.invalidWeekday&&!p.weekdayMismatch&&!p.nullInput&&!p.invalidFormat&&!p.userInvalidated&&(!p.meridiem||p.meridiem&&w);if(u._strict&&(I=I&&p.charsLeftOver===0&&p.unusedTokens.length===0&&p.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=I;else return I}return u._isValid}function E(u){var p=g(NaN);return u!=null?m(T(p),u):T(p).userInvalidated=!0,p}var v=r.momentProperties=[],C=!1;function A(u,p){var w,I,D,B=v.length;if(c(p._isAMomentObject)||(u._isAMomentObject=p._isAMomentObject),c(p._i)||(u._i=p._i),c(p._f)||(u._f=p._f),c(p._l)||(u._l=p._l),c(p._strict)||(u._strict=p._strict),c(p._tzm)||(u._tzm=p._tzm),c(p._isUTC)||(u._isUTC=p._isUTC),c(p._offset)||(u._offset=p._offset),c(p._pf)||(u._pf=T(p)),c(p._locale)||(u._locale=p._locale),B>0)for(w=0;w<B;w++)I=v[w],D=p[I],c(D)||(u[I]=D);return u}function P(u){A(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,r.updateOffset(this),C=!1)}function S(u){return u instanceof P||u!=null&&u._isAMomentObject!=null}function k(u){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function b(u,p){var w=!0;return m(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,u),w){var I=[],D,B,Z,ve=arguments.length;for(B=0;B<ve;B++){if(D="",typeof arguments[B]=="object"){D+=`
[`+B+"] ";for(Z in arguments[0])a(arguments[0],Z)&&(D+=Z+": "+arguments[0][Z]+", ");D=D.slice(0,-2)}else D=arguments[B];I.push(D)}k(u+`
Arguments: `+Array.prototype.slice.call(I).join("")+`
`+new Error().stack),w=!1}return p.apply(this,arguments)},p)}var N={};function O(u,p){r.deprecationHandler!=null&&r.deprecationHandler(u,p),N[u]||(k(p),N[u]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function F(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function U(u){var p,w;for(w in u)a(u,w)&&(p=u[w],F(p)?this[w]=p:this["_"+w]=p);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(u,p){var w=m({},u),I;for(I in p)a(p,I)&&(o(u[I])&&o(p[I])?(w[I]={},m(w[I],u[I]),m(w[I],p[I])):p[I]!=null?w[I]=p[I]:delete w[I]);for(I in u)a(u,I)&&!a(p,I)&&o(u[I])&&(w[I]=m({},w[I]));return w}function L(u){u!=null&&this.set(u)}var M;Object.keys?M=Object.keys:M=function(u){var p,w=[];for(p in u)a(u,p)&&w.push(p);return w};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function V(u,p,w){var I=this._calendar[u]||this._calendar.sameElse;return F(I)?I.call(p,w):I}function W(u,p,w){var I=""+Math.abs(u),D=p-I.length,B=u>=0;return(B?w?"+":"":"-")+Math.pow(10,Math.max(0,D)).toString().substr(1)+I}var Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},j={};function z(u,p,w,I){var D=I;typeof I=="string"&&(D=function(){return this[I]()}),u&&(j[u]=D),p&&(j[p[0]]=function(){return W(D.apply(this,arguments),p[1],p[2])}),w&&(j[w]=function(){return this.localeData().ordinal(D.apply(this,arguments),u)})}function se(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function Te(u){var p=u.match(Y),w,I;for(w=0,I=p.length;w<I;w++)j[p[w]]?p[w]=j[p[w]]:p[w]=se(p[w]);return function(D){var B="",Z;for(Z=0;Z<I;Z++)B+=F(p[Z])?p[Z].call(D,u):p[Z];return B}}function oe(u,p){return u.isValid()?(p=De(p,u.localeData()),G[p]=G[p]||Te(p),G[p](u)):u.localeData().invalidDate()}function De(u,p){var w=5;function I(D){return p.longDateFormat(D)||D}for(H.lastIndex=0;w>=0&&H.test(u);)u=u.replace(H,I),H.lastIndex=0,w-=1;return u}var Fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function rt(u){var p=this._longDateFormat[u],w=this._longDateFormat[u.toUpperCase()];return p||!w?p:(this._longDateFormat[u]=w.match(Y).map(function(I){return I==="MMMM"||I==="MM"||I==="DD"||I==="dddd"?I.slice(1):I}).join(""),this._longDateFormat[u])}var it="Invalid date";function Ct(){return this._invalidDate}var ut="%d",$e=/\d{1,2}/;function pt(u){return this._ordinal.replace("%d",u)}var He={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Oe(u,p,w,I){var D=this._relativeTime[w];return F(D)?D(u,p,w,I):D.replace(/%d/i,u)}function mt(u,p){var w=this._relativeTime[u>0?"future":"past"];return F(w)?w(p):w.replace(/%s/i,p)}var Ue={};function xe(u,p){var w=u.toLowerCase();Ue[w]=Ue[w+"s"]=Ue[p]=u}function ke(u){return typeof u=="string"?Ue[u]||Ue[u.toLowerCase()]:void 0}function je(u){var p={},w,I;for(I in u)a(u,I)&&(w=ke(I),w&&(p[w]=u[I]));return p}var We={};function Ve(u,p){We[u]=p}function Lt(u){var p=[],w;for(w in u)a(u,w)&&p.push({unit:w,priority:We[w]});return p.sort(function(I,D){return I.priority-D.priority}),p}function Jt(u){return u%4===0&&u%100!==0||u%400===0}function Ye(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function we(u){var p=+u,w=0;return p!==0&&isFinite(p)&&(w=Ye(p)),w}function ct(u,p){return function(w){return w!=null?(At(this,u,w),r.updateOffset(this,p),this):vt(this,u)}}function vt(u,p){return u.isValid()?u._d["get"+(u._isUTC?"UTC":"")+p]():NaN}function At(u,p,w){u.isValid()&&!isNaN(w)&&(p==="FullYear"&&Jt(u.year())&&u.month()===1&&u.date()===29?(w=we(w),u._d["set"+(u._isUTC?"UTC":"")+p](w,u.month(),hc(w,u.month()))):u._d["set"+(u._isUTC?"UTC":"")+p](w))}function Mn(u){return u=ke(u),F(this[u])?this[u]():this}function K(u,p){if(typeof u=="object"){u=je(u);var w=Lt(u),I,D=w.length;for(I=0;I<D;I++)this[w[I].unit](u[w[I].unit])}else if(u=ke(u),F(this[u]))return this[u](p);return this}var X=/\d/,J=/\d\d/,ce=/\d{3}/,ye=/\d{4}/,ge=/[+-]?\d{6}/,ae=/\d\d?/,pe=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,Ce=/\d{1,3}/,st=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Ge=/\d+/,Ze=/[+-]?\d+/,Gt=/Z|[+-]\d\d:?\d\d/gi,On=/Z|[+-]\d\d(?::?\d\d)?/gi,oi=/[+-]?\d+(\.\d{1,3})?/,dr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dt;dt={};function ie(u,p,w){dt[u]=F(p)?p:function(I,D){return I&&w?w:p}}function ai(u,p){return a(dt,u)?dt[u](p._strict,p._locale):new RegExp(Ls(u))}function Ls(u){return an(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(p,w,I,D,B){return w||I||D||B}))}function an(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Fs={};function me(u,p){var w,I=p,D;for(typeof u=="string"&&(u=[u]),d(p)&&(I=function(B,Z){Z[p]=we(B)}),D=u.length,w=0;w<D;w++)Fs[u[w]]=I}function ln(u,p){me(u,function(w,I,D,B){D._w=D._w||{},p(w,D._w,D,B)})}function jr(u,p,w){p!=null&&a(Fs,u)&&Fs[u](p,w._a,w,u)}var zt=0,ot=1,gn=2,Ft=3,er=4,li=5,Us=6,AA=7,bA=8;function kA(u,p){return(u%p+p)%p}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(u){var p;for(p=0;p<this.length;++p)if(this[p]===u)return p;return-1};function hc(u,p){if(isNaN(u)||isNaN(p))return NaN;var w=kA(p,12);return u+=(p-w)/12,w===1?Jt(u)?29:28:31-w%7%2}z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),z("MMMM",0,0,function(u){return this.localeData().months(this,u)}),xe("month","M"),Ve("month",8),ie("M",ae),ie("MM",ae,J),ie("MMM",function(u,p){return p.monthsShortRegex(u)}),ie("MMMM",function(u,p){return p.monthsRegex(u)}),me(["M","MM"],function(u,p){p[ot]=we(u)-1}),me(["MMM","MMMM"],function(u,p,w,I){var D=w._locale.monthsParse(u,I,w._strict);D!=null?p[ot]=D:T(w).invalidMonth=u});var CA="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_y="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xy=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,PA=dr,DA=dr;function NA(u,p){return u?s(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||xy).test(p)?"format":"standalone"][u.month()]:s(this._months)?this._months:this._months.standalone}function MA(u,p){return u?s(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[xy.test(p)?"format":"standalone"][u.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function OA(u,p,w){var I,D,B,Z=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],I=0;I<12;++I)B=g([2e3,I]),this._shortMonthsParse[I]=this.monthsShort(B,"").toLocaleLowerCase(),this._longMonthsParse[I]=this.months(B,"").toLocaleLowerCase();return w?p==="MMM"?(D=Vt.call(this._shortMonthsParse,Z),D!==-1?D:null):(D=Vt.call(this._longMonthsParse,Z),D!==-1?D:null):p==="MMM"?(D=Vt.call(this._shortMonthsParse,Z),D!==-1?D:(D=Vt.call(this._longMonthsParse,Z),D!==-1?D:null)):(D=Vt.call(this._longMonthsParse,Z),D!==-1?D:(D=Vt.call(this._shortMonthsParse,Z),D!==-1?D:null))}function LA(u,p,w){var I,D,B;if(this._monthsParseExact)return OA.call(this,u,p,w);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),I=0;I<12;I++){if(D=g([2e3,I]),w&&!this._longMonthsParse[I]&&(this._longMonthsParse[I]=new RegExp("^"+this.months(D,"").replace(".","")+"$","i"),this._shortMonthsParse[I]=new RegExp("^"+this.monthsShort(D,"").replace(".","")+"$","i")),!w&&!this._monthsParse[I]&&(B="^"+this.months(D,"")+"|^"+this.monthsShort(D,""),this._monthsParse[I]=new RegExp(B.replace(".",""),"i")),w&&p==="MMMM"&&this._longMonthsParse[I].test(u))return I;if(w&&p==="MMM"&&this._shortMonthsParse[I].test(u))return I;if(!w&&this._monthsParse[I].test(u))return I}}function wy(u,p){var w;if(!u.isValid())return u;if(typeof p=="string"){if(/^\d+$/.test(p))p=we(p);else if(p=u.localeData().monthsParse(p),!d(p))return u}return w=Math.min(u.date(),hc(u.year(),p)),u._d["set"+(u._isUTC?"UTC":"")+"Month"](p,w),u}function Ey(u){return u!=null?(wy(this,u),r.updateOffset(this,!0),this):vt(this,"Month")}function FA(){return hc(this.year(),this.month())}function UA(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Ty.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=PA),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function jA(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Ty.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=DA),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function Ty(){function u(Z,ve){return ve.length-Z.length}var p=[],w=[],I=[],D,B;for(D=0;D<12;D++)B=g([2e3,D]),p.push(this.monthsShort(B,"")),w.push(this.months(B,"")),I.push(this.months(B,"")),I.push(this.monthsShort(B,""));for(p.sort(u),w.sort(u),I.sort(u),D=0;D<12;D++)p[D]=an(p[D]),w[D]=an(w[D]);for(D=0;D<24;D++)I[D]=an(I[D]);this._monthsRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+w.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+p.join("|")+")","i")}z("Y",0,0,function(){var u=this.year();return u<=9999?W(u,4):"+"+u}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),xe("year","y"),Ve("year",1),ie("Y",Ze),ie("YY",ae,J),ie("YYYY",st,ye),ie("YYYYY",Ne,ge),ie("YYYYYY",Ne,ge),me(["YYYYY","YYYYYY"],zt),me("YYYY",function(u,p){p[zt]=u.length===2?r.parseTwoDigitYear(u):we(u)}),me("YY",function(u,p){p[zt]=r.parseTwoDigitYear(u)}),me("Y",function(u,p){p[zt]=parseInt(u,10)});function el(u){return Jt(u)?366:365}r.parseTwoDigitYear=function(u){return we(u)+(we(u)>68?1900:2e3)};var Sy=ct("FullYear",!0);function VA(){return Jt(this.year())}function BA(u,p,w,I,D,B,Z){var ve;return u<100&&u>=0?(ve=new Date(u+400,p,w,I,D,B,Z),isFinite(ve.getFullYear())&&ve.setFullYear(u)):ve=new Date(u,p,w,I,D,B,Z),ve}function tl(u){var p,w;return u<100&&u>=0?(w=Array.prototype.slice.call(arguments),w[0]=u+400,p=new Date(Date.UTC.apply(null,w)),isFinite(p.getUTCFullYear())&&p.setUTCFullYear(u)):p=new Date(Date.UTC.apply(null,arguments)),p}function fc(u,p,w){var I=7+p-w,D=(7+tl(u,0,I).getUTCDay()-p)%7;return-D+I-1}function Iy(u,p,w,I,D){var B=(7+w-I)%7,Z=fc(u,I,D),ve=1+7*(p-1)+B+Z,Me,ht;return ve<=0?(Me=u-1,ht=el(Me)+ve):ve>el(u)?(Me=u+1,ht=ve-el(u)):(Me=u,ht=ve),{year:Me,dayOfYear:ht}}function nl(u,p,w){var I=fc(u.year(),p,w),D=Math.floor((u.dayOfYear()-I-1)/7)+1,B,Z;return D<1?(Z=u.year()-1,B=D+ui(Z,p,w)):D>ui(u.year(),p,w)?(B=D-ui(u.year(),p,w),Z=u.year()+1):(Z=u.year(),B=D),{week:B,year:Z}}function ui(u,p,w){var I=fc(u,p,w),D=fc(u+1,p,w);return(el(u)-I+D)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),xe("week","w"),xe("isoWeek","W"),Ve("week",5),Ve("isoWeek",5),ie("w",ae),ie("ww",ae,J),ie("W",ae),ie("WW",ae,J),ln(["w","ww","W","WW"],function(u,p,w,I){p[I.substr(0,1)]=we(u)});function zA(u){return nl(u,this._week.dow,this._week.doy).week}var qA={dow:0,doy:6};function $A(){return this._week.dow}function HA(){return this._week.doy}function WA(u){var p=this.localeData().week(this);return u==null?p:this.add((u-p)*7,"d")}function YA(u){var p=nl(this,1,4).week;return u==null?p:this.add((u-p)*7,"d")}z("d",0,"do","day"),z("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),z("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),z("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),xe("day","d"),xe("weekday","e"),xe("isoWeekday","E"),Ve("day",11),Ve("weekday",11),Ve("isoWeekday",11),ie("d",ae),ie("e",ae),ie("E",ae),ie("dd",function(u,p){return p.weekdaysMinRegex(u)}),ie("ddd",function(u,p){return p.weekdaysShortRegex(u)}),ie("dddd",function(u,p){return p.weekdaysRegex(u)}),ln(["dd","ddd","dddd"],function(u,p,w,I){var D=w._locale.weekdaysParse(u,I,w._strict);D!=null?p.d=D:T(w).invalidWeekday=u}),ln(["d","e","E"],function(u,p,w,I){p[I]=we(u)});function GA(u,p){return typeof u!="string"?u:isNaN(u)?(u=p.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function KA(u,p){return typeof u=="string"?p.weekdaysParse(u)%7||7:isNaN(u)?null:u}function Yf(u,p){return u.slice(p,7).concat(u.slice(0,p))}var QA="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ry="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),XA="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ZA=dr,JA=dr,eb=dr;function tb(u,p){var w=s(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(p)?"format":"standalone"];return u===!0?Yf(w,this._week.dow):u?w[u.day()]:w}function nb(u){return u===!0?Yf(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function rb(u){return u===!0?Yf(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function ib(u,p,w){var I,D,B,Z=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],I=0;I<7;++I)B=g([2e3,1]).day(I),this._minWeekdaysParse[I]=this.weekdaysMin(B,"").toLocaleLowerCase(),this._shortWeekdaysParse[I]=this.weekdaysShort(B,"").toLocaleLowerCase(),this._weekdaysParse[I]=this.weekdays(B,"").toLocaleLowerCase();return w?p==="dddd"?(D=Vt.call(this._weekdaysParse,Z),D!==-1?D:null):p==="ddd"?(D=Vt.call(this._shortWeekdaysParse,Z),D!==-1?D:null):(D=Vt.call(this._minWeekdaysParse,Z),D!==-1?D:null):p==="dddd"?(D=Vt.call(this._weekdaysParse,Z),D!==-1||(D=Vt.call(this._shortWeekdaysParse,Z),D!==-1)?D:(D=Vt.call(this._minWeekdaysParse,Z),D!==-1?D:null)):p==="ddd"?(D=Vt.call(this._shortWeekdaysParse,Z),D!==-1||(D=Vt.call(this._weekdaysParse,Z),D!==-1)?D:(D=Vt.call(this._minWeekdaysParse,Z),D!==-1?D:null)):(D=Vt.call(this._minWeekdaysParse,Z),D!==-1||(D=Vt.call(this._weekdaysParse,Z),D!==-1)?D:(D=Vt.call(this._shortWeekdaysParse,Z),D!==-1?D:null))}function sb(u,p,w){var I,D,B;if(this._weekdaysParseExact)return ib.call(this,u,p,w);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),I=0;I<7;I++){if(D=g([2e3,1]).day(I),w&&!this._fullWeekdaysParse[I]&&(this._fullWeekdaysParse[I]=new RegExp("^"+this.weekdays(D,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[I]=new RegExp("^"+this.weekdaysShort(D,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[I]=new RegExp("^"+this.weekdaysMin(D,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[I]||(B="^"+this.weekdays(D,"")+"|^"+this.weekdaysShort(D,"")+"|^"+this.weekdaysMin(D,""),this._weekdaysParse[I]=new RegExp(B.replace(".",""),"i")),w&&p==="dddd"&&this._fullWeekdaysParse[I].test(u))return I;if(w&&p==="ddd"&&this._shortWeekdaysParse[I].test(u))return I;if(w&&p==="dd"&&this._minWeekdaysParse[I].test(u))return I;if(!w&&this._weekdaysParse[I].test(u))return I}}function ob(u){if(!this.isValid())return u!=null?this:NaN;var p=this._isUTC?this._d.getUTCDay():this._d.getDay();return u!=null?(u=GA(u,this.localeData()),this.add(u-p,"d")):p}function ab(u){if(!this.isValid())return u!=null?this:NaN;var p=(this.day()+7-this.localeData()._week.dow)%7;return u==null?p:this.add(u-p,"d")}function lb(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var p=KA(u,this.localeData());return this.day(this.day()%7?p:p-7)}else return this.day()||7}function ub(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Gf.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=ZA),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function cb(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Gf.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=JA),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function db(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Gf.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=eb),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gf(){function u(Ln,pi){return pi.length-Ln.length}var p=[],w=[],I=[],D=[],B,Z,ve,Me,ht;for(B=0;B<7;B++)Z=g([2e3,1]).day(B),ve=an(this.weekdaysMin(Z,"")),Me=an(this.weekdaysShort(Z,"")),ht=an(this.weekdays(Z,"")),p.push(ve),w.push(Me),I.push(ht),D.push(ve),D.push(Me),D.push(ht);p.sort(u),w.sort(u),I.sort(u),D.sort(u),this._weekdaysRegex=new RegExp("^("+D.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+p.join("|")+")","i")}function Kf(){return this.hours()%12||12}function hb(){return this.hours()||24}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Kf),z("k",["kk",2],0,hb),z("hmm",0,0,function(){return""+Kf.apply(this)+W(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Kf.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)});function Ay(u,p){z(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),p)})}Ay("a",!0),Ay("A",!1),xe("hour","h"),Ve("hour",13);function by(u,p){return p._meridiemParse}ie("a",by),ie("A",by),ie("H",ae),ie("h",ae),ie("k",ae),ie("HH",ae,J),ie("hh",ae,J),ie("kk",ae,J),ie("hmm",pe),ie("hmmss",ue),ie("Hmm",pe),ie("Hmmss",ue),me(["H","HH"],Ft),me(["k","kk"],function(u,p,w){var I=we(u);p[Ft]=I===24?0:I}),me(["a","A"],function(u,p,w){w._isPm=w._locale.isPM(u),w._meridiem=u}),me(["h","hh"],function(u,p,w){p[Ft]=we(u),T(w).bigHour=!0}),me("hmm",function(u,p,w){var I=u.length-2;p[Ft]=we(u.substr(0,I)),p[er]=we(u.substr(I)),T(w).bigHour=!0}),me("hmmss",function(u,p,w){var I=u.length-4,D=u.length-2;p[Ft]=we(u.substr(0,I)),p[er]=we(u.substr(I,2)),p[li]=we(u.substr(D)),T(w).bigHour=!0}),me("Hmm",function(u,p,w){var I=u.length-2;p[Ft]=we(u.substr(0,I)),p[er]=we(u.substr(I))}),me("Hmmss",function(u,p,w){var I=u.length-4,D=u.length-2;p[Ft]=we(u.substr(0,I)),p[er]=we(u.substr(I,2)),p[li]=we(u.substr(D))});function fb(u){return(u+"").toLowerCase().charAt(0)==="p"}var pb=/[ap]\.?m?\.?/i,mb=ct("Hours",!0);function gb(u,p,w){return u>11?w?"pm":"PM":w?"am":"AM"}var ky={calendar:q,longDateFormat:Fe,invalidDate:it,ordinal:ut,dayOfMonthOrdinalParse:$e,relativeTime:He,months:CA,monthsShort:_y,week:qA,weekdays:QA,weekdaysMin:XA,weekdaysShort:Ry,meridiemParse:pb},bt={},rl={},il;function vb(u,p){var w,I=Math.min(u.length,p.length);for(w=0;w<I;w+=1)if(u[w]!==p[w])return w;return I}function Cy(u){return u&&u.toLowerCase().replace("_","-")}function yb(u){for(var p=0,w,I,D,B;p<u.length;){for(B=Cy(u[p]).split("-"),w=B.length,I=Cy(u[p+1]),I=I?I.split("-"):null;w>0;){if(D=pc(B.slice(0,w).join("-")),D)return D;if(I&&I.length>=w&&vb(B,I)>=w-1)break;w--}p++}return il}function _b(u){return u.match("^[^/\\\\]*$")!=null}function pc(u){var p=null,w;if(bt[u]===void 0&&t&&t.exports&&_b(u))try{p=il._abbr,w=eA,w("./locale/"+u),qi(p)}catch{bt[u]=null}return bt[u]}function qi(u,p){var w;return u&&(c(p)?w=ci(u):w=Qf(u,p),w?il=w:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),il._abbr}function Qf(u,p){if(p!==null){var w,I=ky;if(p.abbr=u,bt[u]!=null)O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),I=bt[u]._config;else if(p.parentLocale!=null)if(bt[p.parentLocale]!=null)I=bt[p.parentLocale]._config;else if(w=pc(p.parentLocale),w!=null)I=w._config;else return rl[p.parentLocale]||(rl[p.parentLocale]=[]),rl[p.parentLocale].push({name:u,config:p}),null;return bt[u]=new L($(I,p)),rl[u]&&rl[u].forEach(function(D){Qf(D.name,D.config)}),qi(u),bt[u]}else return delete bt[u],null}function xb(u,p){if(p!=null){var w,I,D=ky;bt[u]!=null&&bt[u].parentLocale!=null?bt[u].set($(bt[u]._config,p)):(I=pc(u),I!=null&&(D=I._config),p=$(D,p),I==null&&(p.abbr=u),w=new L(p),w.parentLocale=bt[u],bt[u]=w),qi(u)}else bt[u]!=null&&(bt[u].parentLocale!=null?(bt[u]=bt[u].parentLocale,u===qi()&&qi(u)):bt[u]!=null&&delete bt[u]);return bt[u]}function ci(u){var p;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return il;if(!s(u)){if(p=pc(u),p)return p;u=[u]}return yb(u)}function wb(){return M(bt)}function Xf(u){var p,w=u._a;return w&&T(u).overflow===-2&&(p=w[ot]<0||w[ot]>11?ot:w[gn]<1||w[gn]>hc(w[zt],w[ot])?gn:w[Ft]<0||w[Ft]>24||w[Ft]===24&&(w[er]!==0||w[li]!==0||w[Us]!==0)?Ft:w[er]<0||w[er]>59?er:w[li]<0||w[li]>59?li:w[Us]<0||w[Us]>999?Us:-1,T(u)._overflowDayOfYear&&(p<zt||p>gn)&&(p=gn),T(u)._overflowWeeks&&p===-1&&(p=AA),T(u)._overflowWeekday&&p===-1&&(p=bA),T(u).overflow=p),u}var Eb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tb=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sb=/Z|[+-]\d\d(?::?\d\d)?/,mc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Zf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ib=/^\/?Date\((-?\d+)/i,Rb=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ab={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Py(u){var p,w,I=u._i,D=Eb.exec(I)||Tb.exec(I),B,Z,ve,Me,ht=mc.length,Ln=Zf.length;if(D){for(T(u).iso=!0,p=0,w=ht;p<w;p++)if(mc[p][1].exec(D[1])){Z=mc[p][0],B=mc[p][2]!==!1;break}if(Z==null){u._isValid=!1;return}if(D[3]){for(p=0,w=Ln;p<w;p++)if(Zf[p][1].exec(D[3])){ve=(D[2]||" ")+Zf[p][0];break}if(ve==null){u._isValid=!1;return}}if(!B&&ve!=null){u._isValid=!1;return}if(D[4])if(Sb.exec(D[4]))Me="Z";else{u._isValid=!1;return}u._f=Z+(ve||"")+(Me||""),e0(u)}else u._isValid=!1}function bb(u,p,w,I,D,B){var Z=[kb(u),_y.indexOf(p),parseInt(w,10),parseInt(I,10),parseInt(D,10)];return B&&Z.push(parseInt(B,10)),Z}function kb(u){var p=parseInt(u,10);return p<=49?2e3+p:p<=999?1900+p:p}function Cb(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pb(u,p,w){if(u){var I=Ry.indexOf(u),D=new Date(p[0],p[1],p[2]).getDay();if(I!==D)return T(w).weekdayMismatch=!0,w._isValid=!1,!1}return!0}function Db(u,p,w){if(u)return Ab[u];if(p)return 0;var I=parseInt(w,10),D=I%100,B=(I-D)/100;return B*60+D}function Dy(u){var p=Rb.exec(Cb(u._i)),w;if(p){if(w=bb(p[4],p[3],p[2],p[5],p[6],p[7]),!Pb(p[1],w,u))return;u._a=w,u._tzm=Db(p[8],p[9],p[10]),u._d=tl.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),T(u).rfc2822=!0}else u._isValid=!1}function Nb(u){var p=Ib.exec(u._i);if(p!==null){u._d=new Date(+p[1]);return}if(Py(u),u._isValid===!1)delete u._isValid;else return;if(Dy(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:r.createFromInputFallback(u)}r.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function Po(u,p,w){return u??p??w}function Mb(u){var p=new Date(r.now());return u._useUTC?[p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()]:[p.getFullYear(),p.getMonth(),p.getDate()]}function Jf(u){var p,w,I=[],D,B,Z;if(!u._d){for(D=Mb(u),u._w&&u._a[gn]==null&&u._a[ot]==null&&Ob(u),u._dayOfYear!=null&&(Z=Po(u._a[zt],D[zt]),(u._dayOfYear>el(Z)||u._dayOfYear===0)&&(T(u)._overflowDayOfYear=!0),w=tl(Z,0,u._dayOfYear),u._a[ot]=w.getUTCMonth(),u._a[gn]=w.getUTCDate()),p=0;p<3&&u._a[p]==null;++p)u._a[p]=I[p]=D[p];for(;p<7;p++)u._a[p]=I[p]=u._a[p]==null?p===2?1:0:u._a[p];u._a[Ft]===24&&u._a[er]===0&&u._a[li]===0&&u._a[Us]===0&&(u._nextDay=!0,u._a[Ft]=0),u._d=(u._useUTC?tl:BA).apply(null,I),B=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[Ft]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==B&&(T(u).weekdayMismatch=!0)}}function Ob(u){var p,w,I,D,B,Z,ve,Me,ht;p=u._w,p.GG!=null||p.W!=null||p.E!=null?(B=1,Z=4,w=Po(p.GG,u._a[zt],nl(yt(),1,4).year),I=Po(p.W,1),D=Po(p.E,1),(D<1||D>7)&&(Me=!0)):(B=u._locale._week.dow,Z=u._locale._week.doy,ht=nl(yt(),B,Z),w=Po(p.gg,u._a[zt],ht.year),I=Po(p.w,ht.week),p.d!=null?(D=p.d,(D<0||D>6)&&(Me=!0)):p.e!=null?(D=p.e+B,(p.e<0||p.e>6)&&(Me=!0)):D=B),I<1||I>ui(w,B,Z)?T(u)._overflowWeeks=!0:Me!=null?T(u)._overflowWeekday=!0:(ve=Iy(w,I,D,B,Z),u._a[zt]=ve.year,u._dayOfYear=ve.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function e0(u){if(u._f===r.ISO_8601){Py(u);return}if(u._f===r.RFC_2822){Dy(u);return}u._a=[],T(u).empty=!0;var p=""+u._i,w,I,D,B,Z,ve=p.length,Me=0,ht,Ln;for(D=De(u._f,u._locale).match(Y)||[],Ln=D.length,w=0;w<Ln;w++)B=D[w],I=(p.match(ai(B,u))||[])[0],I&&(Z=p.substr(0,p.indexOf(I)),Z.length>0&&T(u).unusedInput.push(Z),p=p.slice(p.indexOf(I)+I.length),Me+=I.length),j[B]?(I?T(u).empty=!1:T(u).unusedTokens.push(B),jr(B,I,u)):u._strict&&!I&&T(u).unusedTokens.push(B);T(u).charsLeftOver=ve-Me,p.length>0&&T(u).unusedInput.push(p),u._a[Ft]<=12&&T(u).bigHour===!0&&u._a[Ft]>0&&(T(u).bigHour=void 0),T(u).parsedDateParts=u._a.slice(0),T(u).meridiem=u._meridiem,u._a[Ft]=Lb(u._locale,u._a[Ft],u._meridiem),ht=T(u).era,ht!==null&&(u._a[zt]=u._locale.erasConvertYear(ht,u._a[zt])),Jf(u),Xf(u)}function Lb(u,p,w){var I;return w==null?p:u.meridiemHour!=null?u.meridiemHour(p,w):(u.isPM!=null&&(I=u.isPM(w),I&&p<12&&(p+=12),!I&&p===12&&(p=0)),p)}function Fb(u){var p,w,I,D,B,Z,ve=!1,Me=u._f.length;if(Me===0){T(u).invalidFormat=!0,u._d=new Date(NaN);return}for(D=0;D<Me;D++)B=0,Z=!1,p=A({},u),u._useUTC!=null&&(p._useUTC=u._useUTC),p._f=u._f[D],e0(p),_(p)&&(Z=!0),B+=T(p).charsLeftOver,B+=T(p).unusedTokens.length*10,T(p).score=B,ve?B<I&&(I=B,w=p):(I==null||B<I||Z)&&(I=B,w=p,Z&&(ve=!0));m(u,w||p)}function Ub(u){if(!u._d){var p=je(u._i),w=p.day===void 0?p.date:p.day;u._a=h([p.year,p.month,w,p.hour,p.minute,p.second,p.millisecond],function(I){return I&&parseInt(I,10)}),Jf(u)}}function jb(u){var p=new P(Xf(Ny(u)));return p._nextDay&&(p.add(1,"d"),p._nextDay=void 0),p}function Ny(u){var p=u._i,w=u._f;return u._locale=u._locale||ci(u._l),p===null||w===void 0&&p===""?E({nullInput:!0}):(typeof p=="string"&&(u._i=p=u._locale.preparse(p)),S(p)?new P(Xf(p)):(f(p)?u._d=p:s(w)?Fb(u):w?e0(u):Vb(u),_(u)||(u._d=null),u))}function Vb(u){var p=u._i;c(p)?u._d=new Date(r.now()):f(p)?u._d=new Date(p.valueOf()):typeof p=="string"?Nb(u):s(p)?(u._a=h(p.slice(0),function(w){return parseInt(w,10)}),Jf(u)):o(p)?Ub(u):d(p)?u._d=new Date(p):r.createFromInputFallback(u)}function My(u,p,w,I,D){var B={};return(p===!0||p===!1)&&(I=p,p=void 0),(w===!0||w===!1)&&(I=w,w=void 0),(o(u)&&l(u)||s(u)&&u.length===0)&&(u=void 0),B._isAMomentObject=!0,B._useUTC=B._isUTC=D,B._l=w,B._i=u,B._f=p,B._strict=I,jb(B)}function yt(u,p,w,I){return My(u,p,w,I,!1)}var Bb=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=yt.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:E()}),zb=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=yt.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:E()});function Oy(u,p){var w,I;if(p.length===1&&s(p[0])&&(p=p[0]),!p.length)return yt();for(w=p[0],I=1;I<p.length;++I)(!p[I].isValid()||p[I][u](w))&&(w=p[I]);return w}function qb(){var u=[].slice.call(arguments,0);return Oy("isBefore",u)}function $b(){var u=[].slice.call(arguments,0);return Oy("isAfter",u)}var Hb=function(){return Date.now?Date.now():+new Date},sl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wb(u){var p,w=!1,I,D=sl.length;for(p in u)if(a(u,p)&&!(Vt.call(sl,p)!==-1&&(u[p]==null||!isNaN(u[p]))))return!1;for(I=0;I<D;++I)if(u[sl[I]]){if(w)return!1;parseFloat(u[sl[I]])!==we(u[sl[I]])&&(w=!0)}return!0}function Yb(){return this._isValid}function Gb(){return Er(NaN)}function gc(u){var p=je(u),w=p.year||0,I=p.quarter||0,D=p.month||0,B=p.week||p.isoWeek||0,Z=p.day||0,ve=p.hour||0,Me=p.minute||0,ht=p.second||0,Ln=p.millisecond||0;this._isValid=Wb(p),this._milliseconds=+Ln+ht*1e3+Me*6e4+ve*1e3*60*60,this._days=+Z+B*7,this._months=+D+I*3+w*12,this._data={},this._locale=ci(),this._bubble()}function vc(u){return u instanceof gc}function t0(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function Kb(u,p,w){var I=Math.min(u.length,p.length),D=Math.abs(u.length-p.length),B=0,Z;for(Z=0;Z<I;Z++)(w&&u[Z]!==p[Z]||!w&&we(u[Z])!==we(p[Z]))&&B++;return B+D}function Ly(u,p){z(u,0,0,function(){var w=this.utcOffset(),I="+";return w<0&&(w=-w,I="-"),I+W(~~(w/60),2)+p+W(~~w%60,2)})}Ly("Z",":"),Ly("ZZ",""),ie("Z",On),ie("ZZ",On),me(["Z","ZZ"],function(u,p,w){w._useUTC=!0,w._tzm=n0(On,u)});var Qb=/([\+\-]|\d\d)/gi;function n0(u,p){var w=(p||"").match(u),I,D,B;return w===null?null:(I=w[w.length-1]||[],D=(I+"").match(Qb)||["-",0,0],B=+(D[1]*60)+we(D[2]),B===0?0:D[0]==="+"?B:-B)}function r0(u,p){var w,I;return p._isUTC?(w=p.clone(),I=(S(u)||f(u)?u.valueOf():yt(u).valueOf())-w.valueOf(),w._d.setTime(w._d.valueOf()+I),r.updateOffset(w,!1),w):yt(u).local()}function i0(u){return-Math.round(u._d.getTimezoneOffset())}r.updateOffset=function(){};function Xb(u,p,w){var I=this._offset||0,D;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=n0(On,u),u===null)return this}else Math.abs(u)<16&&!w&&(u=u*60);return!this._isUTC&&p&&(D=i0(this)),this._offset=u,this._isUTC=!0,D!=null&&this.add(D,"m"),I!==u&&(!p||this._changeInProgress?Vy(this,Er(u-I,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?I:i0(this)}function Zb(u,p){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,p),this):-this.utcOffset()}function Jb(u){return this.utcOffset(0,u)}function ek(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(i0(this),"m")),this}function tk(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=n0(Gt,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function nk(u){return this.isValid()?(u=u?yt(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function rk(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ik(){if(!c(this._isDSTShifted))return this._isDSTShifted;var u={},p;return A(u,this),u=Ny(u),u._a?(p=u._isUTC?g(u._a):yt(u._a),this._isDSTShifted=this.isValid()&&Kb(u._a,p.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function sk(){return this.isValid()?!this._isUTC:!1}function ok(){return this.isValid()?this._isUTC:!1}function Fy(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ak=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,lk=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Er(u,p){var w=u,I=null,D,B,Z;return vc(u)?w={ms:u._milliseconds,d:u._days,M:u._months}:d(u)||!isNaN(+u)?(w={},p?w[p]=+u:w.milliseconds=+u):(I=ak.exec(u))?(D=I[1]==="-"?-1:1,w={y:0,d:we(I[gn])*D,h:we(I[Ft])*D,m:we(I[er])*D,s:we(I[li])*D,ms:we(t0(I[Us]*1e3))*D}):(I=lk.exec(u))?(D=I[1]==="-"?-1:1,w={y:js(I[2],D),M:js(I[3],D),w:js(I[4],D),d:js(I[5],D),h:js(I[6],D),m:js(I[7],D),s:js(I[8],D)}):w==null?w={}:typeof w=="object"&&("from"in w||"to"in w)&&(Z=uk(yt(w.from),yt(w.to)),w={},w.ms=Z.milliseconds,w.M=Z.months),B=new gc(w),vc(u)&&a(u,"_locale")&&(B._locale=u._locale),vc(u)&&a(u,"_isValid")&&(B._isValid=u._isValid),B}Er.fn=gc.prototype,Er.invalid=Gb;function js(u,p){var w=u&&parseFloat(u.replace(",","."));return(isNaN(w)?0:w)*p}function Uy(u,p){var w={};return w.months=p.month()-u.month()+(p.year()-u.year())*12,u.clone().add(w.months,"M").isAfter(p)&&--w.months,w.milliseconds=+p-+u.clone().add(w.months,"M"),w}function uk(u,p){var w;return u.isValid()&&p.isValid()?(p=r0(p,u),u.isBefore(p)?w=Uy(u,p):(w=Uy(p,u),w.milliseconds=-w.milliseconds,w.months=-w.months),w):{milliseconds:0,months:0}}function jy(u,p){return function(w,I){var D,B;return I!==null&&!isNaN(+I)&&(O(p,"moment()."+p+"(period, number) is deprecated. Please use moment()."+p+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),B=w,w=I,I=B),D=Er(w,I),Vy(this,D,u),this}}function Vy(u,p,w,I){var D=p._milliseconds,B=t0(p._days),Z=t0(p._months);u.isValid()&&(I=I??!0,Z&&wy(u,vt(u,"Month")+Z*w),B&&At(u,"Date",vt(u,"Date")+B*w),D&&u._d.setTime(u._d.valueOf()+D*w),I&&r.updateOffset(u,B||Z))}var ck=jy(1,"add"),dk=jy(-1,"subtract");function By(u){return typeof u=="string"||u instanceof String}function hk(u){return S(u)||f(u)||By(u)||d(u)||pk(u)||fk(u)||u===null||u===void 0}function fk(u){var p=o(u)&&!l(u),w=!1,I=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],D,B,Z=I.length;for(D=0;D<Z;D+=1)B=I[D],w=w||a(u,B);return p&&w}function pk(u){var p=s(u),w=!1;return p&&(w=u.filter(function(I){return!d(I)&&By(u)}).length===0),p&&w}function mk(u){var p=o(u)&&!l(u),w=!1,I=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],D,B;for(D=0;D<I.length;D+=1)B=I[D],w=w||a(u,B);return p&&w}function gk(u,p){var w=u.diff(p,"days",!0);return w<-6?"sameElse":w<-1?"lastWeek":w<0?"lastDay":w<1?"sameDay":w<2?"nextDay":w<7?"nextWeek":"sameElse"}function vk(u,p){arguments.length===1&&(arguments[0]?hk(arguments[0])?(u=arguments[0],p=void 0):mk(arguments[0])&&(p=arguments[0],u=void 0):(u=void 0,p=void 0));var w=u||yt(),I=r0(w,this).startOf("day"),D=r.calendarFormat(this,I)||"sameElse",B=p&&(F(p[D])?p[D].call(this,w):p[D]);return this.format(B||this.localeData().calendar(D,this,yt(w)))}function yk(){return new P(this)}function _k(u,p){var w=S(u)?u:yt(u);return this.isValid()&&w.isValid()?(p=ke(p)||"millisecond",p==="millisecond"?this.valueOf()>w.valueOf():w.valueOf()<this.clone().startOf(p).valueOf()):!1}function xk(u,p){var w=S(u)?u:yt(u);return this.isValid()&&w.isValid()?(p=ke(p)||"millisecond",p==="millisecond"?this.valueOf()<w.valueOf():this.clone().endOf(p).valueOf()<w.valueOf()):!1}function wk(u,p,w,I){var D=S(u)?u:yt(u),B=S(p)?p:yt(p);return this.isValid()&&D.isValid()&&B.isValid()?(I=I||"()",(I[0]==="("?this.isAfter(D,w):!this.isBefore(D,w))&&(I[1]===")"?this.isBefore(B,w):!this.isAfter(B,w))):!1}function Ek(u,p){var w=S(u)?u:yt(u),I;return this.isValid()&&w.isValid()?(p=ke(p)||"millisecond",p==="millisecond"?this.valueOf()===w.valueOf():(I=w.valueOf(),this.clone().startOf(p).valueOf()<=I&&I<=this.clone().endOf(p).valueOf())):!1}function Tk(u,p){return this.isSame(u,p)||this.isAfter(u,p)}function Sk(u,p){return this.isSame(u,p)||this.isBefore(u,p)}function Ik(u,p,w){var I,D,B;if(!this.isValid())return NaN;if(I=r0(u,this),!I.isValid())return NaN;switch(D=(I.utcOffset()-this.utcOffset())*6e4,p=ke(p),p){case"year":B=yc(this,I)/12;break;case"month":B=yc(this,I);break;case"quarter":B=yc(this,I)/3;break;case"second":B=(this-I)/1e3;break;case"minute":B=(this-I)/6e4;break;case"hour":B=(this-I)/36e5;break;case"day":B=(this-I-D)/864e5;break;case"week":B=(this-I-D)/6048e5;break;default:B=this-I}return w?B:Ye(B)}function yc(u,p){if(u.date()<p.date())return-yc(p,u);var w=(p.year()-u.year())*12+(p.month()-u.month()),I=u.clone().add(w,"months"),D,B;return p-I<0?(D=u.clone().add(w-1,"months"),B=(p-I)/(I-D)):(D=u.clone().add(w+1,"months"),B=(p-I)/(D-I)),-(w+B)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Rk(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ak(u){if(!this.isValid())return null;var p=u!==!0,w=p?this.clone().utc():this;return w.year()<0||w.year()>9999?oe(w,p?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):F(Date.prototype.toISOString)?p?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",oe(w,"Z")):oe(w,p?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function bk(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",p="",w,I,D,B;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",p="Z"),w="["+u+'("]',I=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",D="-MM-DD[T]HH:mm:ss.SSS",B=p+'[")]',this.format(w+I+D+B)}function kk(u){u||(u=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var p=oe(this,u);return this.localeData().postformat(p)}function Ck(u,p){return this.isValid()&&(S(u)&&u.isValid()||yt(u).isValid())?Er({to:this,from:u}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function Pk(u){return this.from(yt(),u)}function Dk(u,p){return this.isValid()&&(S(u)&&u.isValid()||yt(u).isValid())?Er({from:this,to:u}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function Nk(u){return this.to(yt(),u)}function zy(u){var p;return u===void 0?this._locale._abbr:(p=ci(u),p!=null&&(this._locale=p),this)}var qy=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function $y(){return this._locale}var _c=1e3,Do=60*_c,xc=60*Do,Hy=(365*400+97)*24*xc;function No(u,p){return(u%p+p)%p}function Wy(u,p,w){return u<100&&u>=0?new Date(u+400,p,w)-Hy:new Date(u,p,w).valueOf()}function Yy(u,p,w){return u<100&&u>=0?Date.UTC(u+400,p,w)-Hy:Date.UTC(u,p,w)}function Mk(u){var p,w;if(u=ke(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(w=this._isUTC?Yy:Wy,u){case"year":p=w(this.year(),0,1);break;case"quarter":p=w(this.year(),this.month()-this.month()%3,1);break;case"month":p=w(this.year(),this.month(),1);break;case"week":p=w(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":p=w(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":p=w(this.year(),this.month(),this.date());break;case"hour":p=this._d.valueOf(),p-=No(p+(this._isUTC?0:this.utcOffset()*Do),xc);break;case"minute":p=this._d.valueOf(),p-=No(p,Do);break;case"second":p=this._d.valueOf(),p-=No(p,_c);break}return this._d.setTime(p),r.updateOffset(this,!0),this}function Ok(u){var p,w;if(u=ke(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(w=this._isUTC?Yy:Wy,u){case"year":p=w(this.year()+1,0,1)-1;break;case"quarter":p=w(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":p=w(this.year(),this.month()+1,1)-1;break;case"week":p=w(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":p=w(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":p=w(this.year(),this.month(),this.date()+1)-1;break;case"hour":p=this._d.valueOf(),p+=xc-No(p+(this._isUTC?0:this.utcOffset()*Do),xc)-1;break;case"minute":p=this._d.valueOf(),p+=Do-No(p,Do)-1;break;case"second":p=this._d.valueOf(),p+=_c-No(p,_c)-1;break}return this._d.setTime(p),r.updateOffset(this,!0),this}function Lk(){return this._d.valueOf()-(this._offset||0)*6e4}function Fk(){return Math.floor(this.valueOf()/1e3)}function Uk(){return new Date(this.valueOf())}function jk(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function Vk(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function Bk(){return this.isValid()?this.toISOString():null}function zk(){return _(this)}function qk(){return m({},T(this))}function $k(){return T(this).overflow}function Hk(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),ie("N",s0),ie("NN",s0),ie("NNN",s0),ie("NNNN",nC),ie("NNNNN",rC),me(["N","NN","NNN","NNNN","NNNNN"],function(u,p,w,I){var D=w._locale.erasParse(u,I,w._strict);D?T(w).era=D:T(w).invalidEra=u}),ie("y",Ge),ie("yy",Ge),ie("yyy",Ge),ie("yyyy",Ge),ie("yo",iC),me(["y","yy","yyy","yyyy"],zt),me(["yo"],function(u,p,w,I){var D;w._locale._eraYearOrdinalRegex&&(D=u.match(w._locale._eraYearOrdinalRegex)),w._locale.eraYearOrdinalParse?p[zt]=w._locale.eraYearOrdinalParse(u,D):p[zt]=parseInt(u,10)});function Wk(u,p){var w,I,D,B=this._eras||ci("en")._eras;for(w=0,I=B.length;w<I;++w){switch(typeof B[w].since){case"string":D=r(B[w].since).startOf("day"),B[w].since=D.valueOf();break}switch(typeof B[w].until){case"undefined":B[w].until=1/0;break;case"string":D=r(B[w].until).startOf("day").valueOf(),B[w].until=D.valueOf();break}}return B}function Yk(u,p,w){var I,D,B=this.eras(),Z,ve,Me;for(u=u.toUpperCase(),I=0,D=B.length;I<D;++I)if(Z=B[I].name.toUpperCase(),ve=B[I].abbr.toUpperCase(),Me=B[I].narrow.toUpperCase(),w)switch(p){case"N":case"NN":case"NNN":if(ve===u)return B[I];break;case"NNNN":if(Z===u)return B[I];break;case"NNNNN":if(Me===u)return B[I];break}else if([Z,ve,Me].indexOf(u)>=0)return B[I]}function Gk(u,p){var w=u.since<=u.until?1:-1;return p===void 0?r(u.since).year():r(u.since).year()+(p-u.offset)*w}function Kk(){var u,p,w,I=this.localeData().eras();for(u=0,p=I.length;u<p;++u)if(w=this.clone().startOf("day").valueOf(),I[u].since<=w&&w<=I[u].until||I[u].until<=w&&w<=I[u].since)return I[u].name;return""}function Qk(){var u,p,w,I=this.localeData().eras();for(u=0,p=I.length;u<p;++u)if(w=this.clone().startOf("day").valueOf(),I[u].since<=w&&w<=I[u].until||I[u].until<=w&&w<=I[u].since)return I[u].narrow;return""}function Xk(){var u,p,w,I=this.localeData().eras();for(u=0,p=I.length;u<p;++u)if(w=this.clone().startOf("day").valueOf(),I[u].since<=w&&w<=I[u].until||I[u].until<=w&&w<=I[u].since)return I[u].abbr;return""}function Zk(){var u,p,w,I,D=this.localeData().eras();for(u=0,p=D.length;u<p;++u)if(w=D[u].since<=D[u].until?1:-1,I=this.clone().startOf("day").valueOf(),D[u].since<=I&&I<=D[u].until||D[u].until<=I&&I<=D[u].since)return(this.year()-r(D[u].since).year())*w+D[u].offset;return this.year()}function Jk(u){return a(this,"_erasNameRegex")||o0.call(this),u?this._erasNameRegex:this._erasRegex}function eC(u){return a(this,"_erasAbbrRegex")||o0.call(this),u?this._erasAbbrRegex:this._erasRegex}function tC(u){return a(this,"_erasNarrowRegex")||o0.call(this),u?this._erasNarrowRegex:this._erasRegex}function s0(u,p){return p.erasAbbrRegex(u)}function nC(u,p){return p.erasNameRegex(u)}function rC(u,p){return p.erasNarrowRegex(u)}function iC(u,p){return p._eraYearOrdinalRegex||Ge}function o0(){var u=[],p=[],w=[],I=[],D,B,Z=this.eras();for(D=0,B=Z.length;D<B;++D)p.push(an(Z[D].name)),u.push(an(Z[D].abbr)),w.push(an(Z[D].narrow)),I.push(an(Z[D].name)),I.push(an(Z[D].abbr)),I.push(an(Z[D].narrow));this._erasRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+p.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+w.join("|")+")","i")}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wc(u,p){z(0,[u,u.length],0,p)}wc("gggg","weekYear"),wc("ggggg","weekYear"),wc("GGGG","isoWeekYear"),wc("GGGGG","isoWeekYear"),xe("weekYear","gg"),xe("isoWeekYear","GG"),Ve("weekYear",1),Ve("isoWeekYear",1),ie("G",Ze),ie("g",Ze),ie("GG",ae,J),ie("gg",ae,J),ie("GGGG",st,ye),ie("gggg",st,ye),ie("GGGGG",Ne,ge),ie("ggggg",Ne,ge),ln(["gggg","ggggg","GGGG","GGGGG"],function(u,p,w,I){p[I.substr(0,2)]=we(u)}),ln(["gg","GG"],function(u,p,w,I){p[I]=r.parseTwoDigitYear(u)});function sC(u){return Gy.call(this,u,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function oC(u){return Gy.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function aC(){return ui(this.year(),1,4)}function lC(){return ui(this.isoWeekYear(),1,4)}function uC(){var u=this.localeData()._week;return ui(this.year(),u.dow,u.doy)}function cC(){var u=this.localeData()._week;return ui(this.weekYear(),u.dow,u.doy)}function Gy(u,p,w,I,D){var B;return u==null?nl(this,I,D).year:(B=ui(u,I,D),p>B&&(p=B),dC.call(this,u,p,w,I,D))}function dC(u,p,w,I,D){var B=Iy(u,p,w,I,D),Z=tl(B.year,0,B.dayOfYear);return this.year(Z.getUTCFullYear()),this.month(Z.getUTCMonth()),this.date(Z.getUTCDate()),this}z("Q",0,"Qo","quarter"),xe("quarter","Q"),Ve("quarter",7),ie("Q",X),me("Q",function(u,p){p[ot]=(we(u)-1)*3});function hC(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}z("D",["DD",2],"Do","date"),xe("date","D"),Ve("date",9),ie("D",ae),ie("DD",ae,J),ie("Do",function(u,p){return u?p._dayOfMonthOrdinalParse||p._ordinalParse:p._dayOfMonthOrdinalParseLenient}),me(["D","DD"],gn),me("Do",function(u,p){p[gn]=we(u.match(ae)[0])});var Ky=ct("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),xe("dayOfYear","DDD"),Ve("dayOfYear",4),ie("DDD",Ce),ie("DDDD",ce),me(["DDD","DDDD"],function(u,p,w){w._dayOfYear=we(u)});function fC(u){var p=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?p:this.add(u-p,"d")}z("m",["mm",2],0,"minute"),xe("minute","m"),Ve("minute",14),ie("m",ae),ie("mm",ae,J),me(["m","mm"],er);var pC=ct("Minutes",!1);z("s",["ss",2],0,"second"),xe("second","s"),Ve("second",15),ie("s",ae),ie("ss",ae,J),me(["s","ss"],li);var mC=ct("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return this.millisecond()*10}),z(0,["SSSSS",5],0,function(){return this.millisecond()*100}),z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),xe("millisecond","ms"),Ve("millisecond",16),ie("S",Ce,X),ie("SS",Ce,J),ie("SSS",Ce,ce);var $i,Qy;for($i="SSSS";$i.length<=9;$i+="S")ie($i,Ge);function gC(u,p){p[Us]=we(("0."+u)*1e3)}for($i="S";$i.length<=9;$i+="S")me($i,gC);Qy=ct("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");function vC(){return this._isUTC?"UTC":""}function yC(){return this._isUTC?"Coordinated Universal Time":""}var ne=P.prototype;ne.add=ck,ne.calendar=vk,ne.clone=yk,ne.diff=Ik,ne.endOf=Ok,ne.format=kk,ne.from=Ck,ne.fromNow=Pk,ne.to=Dk,ne.toNow=Nk,ne.get=Mn,ne.invalidAt=$k,ne.isAfter=_k,ne.isBefore=xk,ne.isBetween=wk,ne.isSame=Ek,ne.isSameOrAfter=Tk,ne.isSameOrBefore=Sk,ne.isValid=zk,ne.lang=qy,ne.locale=zy,ne.localeData=$y,ne.max=zb,ne.min=Bb,ne.parsingFlags=qk,ne.set=K,ne.startOf=Mk,ne.subtract=dk,ne.toArray=jk,ne.toObject=Vk,ne.toDate=Uk,ne.toISOString=Ak,ne.inspect=bk,typeof Symbol<"u"&&Symbol.for!=null&&(ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ne.toJSON=Bk,ne.toString=Rk,ne.unix=Fk,ne.valueOf=Lk,ne.creationData=Hk,ne.eraName=Kk,ne.eraNarrow=Qk,ne.eraAbbr=Xk,ne.eraYear=Zk,ne.year=Sy,ne.isLeapYear=VA,ne.weekYear=sC,ne.isoWeekYear=oC,ne.quarter=ne.quarters=hC,ne.month=Ey,ne.daysInMonth=FA,ne.week=ne.weeks=WA,ne.isoWeek=ne.isoWeeks=YA,ne.weeksInYear=uC,ne.weeksInWeekYear=cC,ne.isoWeeksInYear=aC,ne.isoWeeksInISOWeekYear=lC,ne.date=Ky,ne.day=ne.days=ob,ne.weekday=ab,ne.isoWeekday=lb,ne.dayOfYear=fC,ne.hour=ne.hours=mb,ne.minute=ne.minutes=pC,ne.second=ne.seconds=mC,ne.millisecond=ne.milliseconds=Qy,ne.utcOffset=Xb,ne.utc=Jb,ne.local=ek,ne.parseZone=tk,ne.hasAlignedHourOffset=nk,ne.isDST=rk,ne.isLocal=sk,ne.isUtcOffset=ok,ne.isUtc=Fy,ne.isUTC=Fy,ne.zoneAbbr=vC,ne.zoneName=yC,ne.dates=b("dates accessor is deprecated. Use date instead.",Ky),ne.months=b("months accessor is deprecated. Use month instead",Ey),ne.years=b("years accessor is deprecated. Use year instead",Sy),ne.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zb),ne.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ik);function _C(u){return yt(u*1e3)}function xC(){return yt.apply(null,arguments).parseZone()}function Xy(u){return u}var et=L.prototype;et.calendar=V,et.longDateFormat=rt,et.invalidDate=Ct,et.ordinal=pt,et.preparse=Xy,et.postformat=Xy,et.relativeTime=Oe,et.pastFuture=mt,et.set=U,et.eras=Wk,et.erasParse=Yk,et.erasConvertYear=Gk,et.erasAbbrRegex=eC,et.erasNameRegex=Jk,et.erasNarrowRegex=tC,et.months=NA,et.monthsShort=MA,et.monthsParse=LA,et.monthsRegex=jA,et.monthsShortRegex=UA,et.week=zA,et.firstDayOfYear=HA,et.firstDayOfWeek=$A,et.weekdays=tb,et.weekdaysMin=rb,et.weekdaysShort=nb,et.weekdaysParse=sb,et.weekdaysRegex=ub,et.weekdaysShortRegex=cb,et.weekdaysMinRegex=db,et.isPM=fb,et.meridiem=gb;function Ec(u,p,w,I){var D=ci(),B=g().set(I,p);return D[w](B,u)}function Zy(u,p,w){if(d(u)&&(p=u,u=void 0),u=u||"",p!=null)return Ec(u,p,w,"month");var I,D=[];for(I=0;I<12;I++)D[I]=Ec(u,I,w,"month");return D}function a0(u,p,w,I){typeof u=="boolean"?(d(p)&&(w=p,p=void 0),p=p||""):(p=u,w=p,u=!1,d(p)&&(w=p,p=void 0),p=p||"");var D=ci(),B=u?D._week.dow:0,Z,ve=[];if(w!=null)return Ec(p,(w+B)%7,I,"day");for(Z=0;Z<7;Z++)ve[Z]=Ec(p,(Z+B)%7,I,"day");return ve}function wC(u,p){return Zy(u,p,"months")}function EC(u,p){return Zy(u,p,"monthsShort")}function TC(u,p,w){return a0(u,p,w,"weekdays")}function SC(u,p,w){return a0(u,p,w,"weekdaysShort")}function IC(u,p,w){return a0(u,p,w,"weekdaysMin")}qi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var p=u%10,w=we(u%100/10)===1?"th":p===1?"st":p===2?"nd":p===3?"rd":"th";return u+w}}),r.lang=b("moment.lang is deprecated. Use moment.locale instead.",qi),r.langData=b("moment.langData is deprecated. Use moment.localeData instead.",ci);var di=Math.abs;function RC(){var u=this._data;return this._milliseconds=di(this._milliseconds),this._days=di(this._days),this._months=di(this._months),u.milliseconds=di(u.milliseconds),u.seconds=di(u.seconds),u.minutes=di(u.minutes),u.hours=di(u.hours),u.months=di(u.months),u.years=di(u.years),this}function Jy(u,p,w,I){var D=Er(p,w);return u._milliseconds+=I*D._milliseconds,u._days+=I*D._days,u._months+=I*D._months,u._bubble()}function AC(u,p){return Jy(this,u,p,1)}function bC(u,p){return Jy(this,u,p,-1)}function e_(u){return u<0?Math.floor(u):Math.ceil(u)}function kC(){var u=this._milliseconds,p=this._days,w=this._months,I=this._data,D,B,Z,ve,Me;return u>=0&&p>=0&&w>=0||u<=0&&p<=0&&w<=0||(u+=e_(l0(w)+p)*864e5,p=0,w=0),I.milliseconds=u%1e3,D=Ye(u/1e3),I.seconds=D%60,B=Ye(D/60),I.minutes=B%60,Z=Ye(B/60),I.hours=Z%24,p+=Ye(Z/24),Me=Ye(t_(p)),w+=Me,p-=e_(l0(Me)),ve=Ye(w/12),w%=12,I.days=p,I.months=w,I.years=ve,this}function t_(u){return u*4800/146097}function l0(u){return u*146097/4800}function CC(u){if(!this.isValid())return NaN;var p,w,I=this._milliseconds;if(u=ke(u),u==="month"||u==="quarter"||u==="year")switch(p=this._days+I/864e5,w=this._months+t_(p),u){case"month":return w;case"quarter":return w/3;case"year":return w/12}else switch(p=this._days+Math.round(l0(this._months)),u){case"week":return p/7+I/6048e5;case"day":return p+I/864e5;case"hour":return p*24+I/36e5;case"minute":return p*1440+I/6e4;case"second":return p*86400+I/1e3;case"millisecond":return Math.floor(p*864e5)+I;default:throw new Error("Unknown unit "+u)}}function PC(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+we(this._months/12)*31536e6:NaN}function hi(u){return function(){return this.as(u)}}var DC=hi("ms"),NC=hi("s"),MC=hi("m"),OC=hi("h"),LC=hi("d"),FC=hi("w"),UC=hi("M"),jC=hi("Q"),VC=hi("y");function BC(){return Er(this)}function zC(u){return u=ke(u),this.isValid()?this[u+"s"]():NaN}function Vs(u){return function(){return this.isValid()?this._data[u]:NaN}}var qC=Vs("milliseconds"),$C=Vs("seconds"),HC=Vs("minutes"),WC=Vs("hours"),YC=Vs("days"),GC=Vs("months"),KC=Vs("years");function QC(){return Ye(this.days()/7)}var fi=Math.round,Mo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function XC(u,p,w,I,D){return D.relativeTime(p||1,!!w,u,I)}function ZC(u,p,w,I){var D=Er(u).abs(),B=fi(D.as("s")),Z=fi(D.as("m")),ve=fi(D.as("h")),Me=fi(D.as("d")),ht=fi(D.as("M")),Ln=fi(D.as("w")),pi=fi(D.as("y")),Hi=B<=w.ss&&["s",B]||B<w.s&&["ss",B]||Z<=1&&["m"]||Z<w.m&&["mm",Z]||ve<=1&&["h"]||ve<w.h&&["hh",ve]||Me<=1&&["d"]||Me<w.d&&["dd",Me];return w.w!=null&&(Hi=Hi||Ln<=1&&["w"]||Ln<w.w&&["ww",Ln]),Hi=Hi||ht<=1&&["M"]||ht<w.M&&["MM",ht]||pi<=1&&["y"]||["yy",pi],Hi[2]=p,Hi[3]=+u>0,Hi[4]=I,XC.apply(null,Hi)}function JC(u){return u===void 0?fi:typeof u=="function"?(fi=u,!0):!1}function e3(u,p){return Mo[u]===void 0?!1:p===void 0?Mo[u]:(Mo[u]=p,u==="s"&&(Mo.ss=p-1),!0)}function t3(u,p){if(!this.isValid())return this.localeData().invalidDate();var w=!1,I=Mo,D,B;return typeof u=="object"&&(p=u,u=!1),typeof u=="boolean"&&(w=u),typeof p=="object"&&(I=Object.assign({},Mo,p),p.s!=null&&p.ss==null&&(I.ss=p.s-1)),D=this.localeData(),B=ZC(this,!w,I,D),w&&(B=D.pastFuture(+this,B)),D.postformat(B)}var u0=Math.abs;function Oo(u){return(u>0)-(u<0)||+u}function Tc(){if(!this.isValid())return this.localeData().invalidDate();var u=u0(this._milliseconds)/1e3,p=u0(this._days),w=u0(this._months),I,D,B,Z,ve=this.asSeconds(),Me,ht,Ln,pi;return ve?(I=Ye(u/60),D=Ye(I/60),u%=60,I%=60,B=Ye(w/12),w%=12,Z=u?u.toFixed(3).replace(/\.?0+$/,""):"",Me=ve<0?"-":"",ht=Oo(this._months)!==Oo(ve)?"-":"",Ln=Oo(this._days)!==Oo(ve)?"-":"",pi=Oo(this._milliseconds)!==Oo(ve)?"-":"",Me+"P"+(B?ht+B+"Y":"")+(w?ht+w+"M":"")+(p?Ln+p+"D":"")+(D||I||u?"T":"")+(D?pi+D+"H":"")+(I?pi+I+"M":"")+(u?pi+Z+"S":"")):"P0D"}var Ke=gc.prototype;Ke.isValid=Yb,Ke.abs=RC,Ke.add=AC,Ke.subtract=bC,Ke.as=CC,Ke.asMilliseconds=DC,Ke.asSeconds=NC,Ke.asMinutes=MC,Ke.asHours=OC,Ke.asDays=LC,Ke.asWeeks=FC,Ke.asMonths=UC,Ke.asQuarters=jC,Ke.asYears=VC,Ke.valueOf=PC,Ke._bubble=kC,Ke.clone=BC,Ke.get=zC,Ke.milliseconds=qC,Ke.seconds=$C,Ke.minutes=HC,Ke.hours=WC,Ke.days=YC,Ke.weeks=QC,Ke.months=GC,Ke.years=KC,Ke.humanize=t3,Ke.toISOString=Tc,Ke.toString=Tc,Ke.toJSON=Tc,Ke.locale=zy,Ke.localeData=$y,Ke.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tc),Ke.lang=qy,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ie("x",Ze),ie("X",oi),me("X",function(u,p,w){w._d=new Date(parseFloat(u)*1e3)}),me("x",function(u,p,w){w._d=new Date(we(u))});//! moment.js
return r.version="2.29.4",i(yt),r.fn=ne,r.min=qb,r.max=$b,r.now=Hb,r.utc=g,r.unix=_C,r.months=wC,r.isDate=f,r.locale=qi,r.invalid=E,r.duration=Er,r.isMoment=S,r.weekdays=TC,r.parseZone=xC,r.localeData=ci,r.isDuration=vc,r.monthsShort=EC,r.weekdaysMin=IC,r.defineLocale=Qf,r.updateLocale=xb,r.locales=wb,r.weekdaysShort=SC,r.normalizeUnits=ke,r.relativeTimeRounding=JC,r.relativeTimeThreshold=e3,r.calendarFormat=gk,r.prototype=ne,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(iA);var hj=iA.exports;const fj=ja(hj);function gy({name:t,username:e,quote:n,quotee:r,photoURL:i,id:s,profile:o,time:a,quotes:l,verified:c}){const d=fj(a.toDate()).fromNow();function f(){window.scrollTo({top:0})}return R.jsxs("div",{className:"felx border-b  flex-col-reverse",children:[R.jsxs("div",{className:"p-5 flex items-center justify-center flex-col sm:flex-row gap-2 text-quotee-600",children:[R.jsx(Jn,{onClick:f,to:"/quotee/"+e,state:s,children:R.jsxs("div",{className:"flex  items-center gap-3 sm:w-[160px] md:w-[200px]",children:[R.jsx("div",{className:"min-w-[50px] min-h-[50px] sm:min-w-[60px] sm:min-h-[60px] md:min-w-[70px] md:min-h-[70px] max-w-[50px] max-h-[50px] sm:max-w-[60px] sm:max-h-[60px] md:max-w-[70px] md:max-h-[70px] rounded-full overflow-hidden bg-quotee-800",children:R.jsx("img",{src:i||Fa,className:" object-fill w-full h-full"})}),R.jsx("div",{className:"flex flex-col",children:R.jsxs("div",{className:" flex gap-1 justify-between items-center",children:[R.jsx("h2",{className:"font-bold",children:t}),c&&R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"16",height:"16",viewBox:"0 0 48 48",children:[R.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"#4dd0e1"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659l-6.083-6.084c-0.879-0.878-0.879-2.303,0-3.182 c0.878-0.879,2.304-0.879,3.182,0l6.083,6.084c0.879,0.878,0.879,2.303,0,3.182C23.643,30.47,23.067,30.69,22.491,30.69z"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659c-0.879-0.878-0.879-2.303,0-3.182l9.539-9.539 c0.878-0.879,2.304-0.879,3.182,0c0.879,0.878,0.879,2.303,0,3.182l-9.539,9.539C23.643,30.47,23.067,30.69,22.491,30.69z"})]})]})})]})}),R.jsxs("div",{className:" relative w-full bg-quotee-100 rounded-md p-5",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.5em",className:" absolute top-[-20px] left-5",viewBox:"0 0 448 512",fill:"#4d4d4d",children:R.jsx("path",{d:"M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z"})}),o&&R.jsx("div",{className:" absolute top-2 right-2",children:R.jsx(dj,{id:s,quotes:l})}),R.jsx("p",{className:"font-semibold text-center whitespace-pre-wrap",children:n}),R.jsx("small",{className:"italic",children:r}),R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.5em",className:" absolute bottom-[-20px] right-5",viewBox:"0 0 448 512",fill:"#4d4d4d",children:R.jsx("path",{d:"M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"})})]})]}),R.jsx("div",{className:"italic text-right text-xs px-5 pb-2",children:d})]})}function pj(){return R.jsx("div",{className:"w-full px-5 h-screen  sm:px-10 md:px-20 justify-center items-center text-quotee-600  flex flex-col",children:R.jsxs("div",{className:" w-2/3 relative h-[100px] flex justify-center items-center animate-pulse rounded-md p-5",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2em",className:" animate-bounce absolute top-[-20px] left-5",viewBox:"0 0 448 512",fill:"#e3e3e3",children:R.jsx("path",{d:"M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z"})}),R.jsx("div",{className:"font-semibold whitespace-pre-wrap w-full",children:R.jsx("h1",{className:"text-center",children:"Loading"})}),R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2em",className:" animate-bounce absolute bottom-[-20px] right-5",viewBox:"0 0 448 512",fill:"#e3e3e3",children:R.jsx("path",{d:"M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"})})]})})}function mj(){const[t,e]=Q.useState([]),[n,r]=Q.useState(!0);function i(){if(t=="no data")return R.jsxs("div",{className:"w-full pb-2 sm:pb-5  md:pb-10 text-quotee-600 h-[700px]  flex flex-col",children:[R.jsxs("div",{className:"flex w-full text-xl mb-5 justify-bettwen items-start",children:[R.jsx("h1",{onClick:()=>r(!1),className:n?"border-quotee-100 cursor-pointer py-3 text-center w-1/2 ":"border-quotee-100 cursor-pointer py-3 text-center border-b-[3px] font-semibold w-1/2",children:"Following"}),R.jsx("h1",{onClick:()=>r(!0),className:n?"border-quotee-100 cursor-pointer py-3 text-center border-b-[3px] font-semibold w-1/2":"border-quotee-100 cursor-pointer py-3 text-center w-1/2 ",children:"All"})]}),R.jsx("div",{className:"w-full px-5 text-lg   sm:px-10 md:px-20  text-quotee-600  flex justify-center items-center h-[60%]",children:"There is no quotes yet"})]});if(!t.length)return R.jsx(pj,{});const o=t.map(a=>R.jsx(gy,{name:a.name,username:a.username,photoURL:a.photoURL,quote:a.quote,quotee:a.quoteBy,time:a.createdAt,id:a.id,verified:a==null?void 0:a.verified},a.createdAt));return R.jsxs("div",{className:"w-full pb-2 sm:pb-5  md:pb-10 text-quotee-600  flex flex-col",children:[R.jsxs("div",{className:"flex w-full text-md sm:text-lg md:text-xl mb-5 justify-bettwen items-start",children:[R.jsx("h1",{onClick:()=>r(!1),className:n?"border-quotee-100 cursor-pointer font-semibold py-3 text-center w-1/2 ":"border-quotee-100 cursor-pointer font-semibold py-3 text-center border-b-[3px] w-1/2",children:"Following"}),R.jsx("h1",{onClick:()=>r(!0),className:n?"border-quotee-100 cursor-pointer font-semibold py-3 text-center border-b-[3px] w-1/2":"border-quotee-100 cursor-pointer font-semibold py-3 text-center w-1/2 ",children:"All"})]}),R.jsx("div",{className:"w-full px-5 sm:px-10 md:px-20 text-quotee-600 flex flex-col",children:o})]})}const s=ii(wr(ze,"quotes"),cc("createdAt","desc"));return Q.useEffect(()=>{const o=Pu(s,a=>{const l=[],c=[],d=[];a.forEach(f=>{const h=f.data();c.push(h.quotee),d.push(h)}),Promise.all(c.map(async(f,h)=>{try{const m=await bo(St(ze,"users",f)),g=m.data();g.id=m.id,(g.followers.includes(Le.currentUser.uid)||m.id==Le.currentUser.uid||n)&&l.push({...g,...d[h]})}catch(m){console.log(m)}})).then(()=>{l.length?e(l):e("no data")})});return()=>{o()}},[n]),R.jsx(i,{})}function gj(){function t(){window.scrollTo({top:0})}return R.jsxs("div",{className:"flex flex-col-reverse justify-between  sm:flex-row text-quotee-600 min-h-screen",children:[R.jsxs("div",{className:"h-[50px] z-40 sm:h-screen sticky bg-quotee-100 flex text-lg font-semibold sm:flex-col left-0 bottom-0 sm:top-0 sm:border-r-2 border-t-2 justify-evenly items-center border-quotee-200  min-w-[90px] md:min-w-[250px]",children:[R.jsx(yl,{onClick:t,to:"",className:" select-none font-semibold text-3xl hidden md:block",children:"Quotee"}),R.jsxs(yl,{onClick:t,to:"",end:!0,className:({isActive:e,isPending:n})=>n?"flex bg-quotee-200 animate-pulse px-5 py-3 rounded-md justify-center items-center gap-3":e?"flex sm:bg-quotee-200 px-5 py-3 rounded-md justify-center items-center gap-3":"flex  px-5 py-3 rounded-md justify-center items-center gap-3",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:" w-7 h-7",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),R.jsx("p",{className:"hidden md:block",children:"Home"})]}),R.jsxs(yl,{onClick:t,to:"search",className:({isActive:e,isPending:n})=>n?"flex bg-quotee-200 animate-pulse px-5 py-3 rounded-md justify-center items-center gap-3":e?"flex sm:bg-quotee-200 px-5 py-3 rounded-md justify-center items-center gap-3":"flex  px-5 py-3 rounded-md justify-center items-center gap-3",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-7 h-7",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),R.jsx("p",{className:"hidden md:block",children:"Search"})]}),R.jsxs(yl,{onClick:t,to:"create",className:({isActive:e,isPending:n})=>n?"flex bg-quotee-200 animate-pulse px-5 py-3 rounded-md justify-center items-center gap-3":e?"flex sm:bg-quotee-200 px-5 py-3 rounded-md justify-center items-center gap-3":"flex  px-5 py-3 rounded-md justify-center items-center gap-3",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-7 h-7",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),R.jsx("p",{className:"hidden md:block",children:"Create"})]}),R.jsxs(yl,{onClick:t,to:"profile",className:({isActive:e,isPending:n})=>n?"flex bg-quotee-200 animate-pulse px-5 py-3 rounded-md justify-center items-center gap-3":e?"flex sm:bg-quotee-200 px-5 py-3 rounded-md justify-center items-center gap-3":"flex  px-5 py-3 rounded-md justify-center items-center gap-3",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-7 h-7",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),R.jsx("p",{className:"hidden md:block",children:"Profile"})]})]}),R.jsx("div",{className:"flex flex-col items-center w-full",children:R.jsx(B6,{})})]})}function vj(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function yj({name:t,title:e,description:n,onClick:r}){const i=Q.useRef(null),[s,o]=vj(i),a=ju();return R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"hover:bg-red-500 text-left font-semibold hover:text-quotee-50 text-red-500 text-sm p-2",type:"button",onClick:()=>o(!0),children:t}),s?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"justify-center  backdrop-blur text-quotee-600 items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:R.jsx("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:R.jsxs("div",{ref:i,className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-quotee-50 outline-none focus:outline-none",children:[R.jsx("div",{className:" p-3 border-b border-solid border-slate-200 rounded-t",children:R.jsx("h3",{className:"text-3xl font-semibold text-center",children:e})}),R.jsx("div",{className:"relative p-6 flex-auto",children:R.jsx("p",{className:"my-4 text-quotee-600 text-lg leading-relaxed",children:n})}),R.jsxs("div",{className:"flex items-stretch justify-around gap-2 p-3 border-t border-solid border-quotee-100 rounded-b",children:[R.jsx("button",{className:"px-4 w-1/2 text-center py-2  bg-quotee-500 hover:bg-quotee-600 font-semibold rounded text-quotee-50 transition-all ease-in-out duration-150",type:"button",onClick:()=>o(!1),children:"Cancle"}),R.jsx("button",{className:"text-white w-1/2 px-4 text-center py-2 bg-red-500 hover:bg-red-700 rounded  transition-all ease-in-out duration-150",type:"button",onClick:async()=>{await r(),a("/quotee/login")},children:"Log out"})]})]})})}),R.jsx("div",{className:"opacity-25 fixed inset-0 z-40  bg-black"})]}):null]})}function _j(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function xj({username:t}){const e=Q.useRef(null),[n,r]=_j(e),i=ju(),[s,o]=Q.useState(!1),[a,l]=Q.useState(""),[c,d]=Q.useState(!1);function f(m){l(m.target.value)}async function h(m){m.preventDefault(),o(!0);const g=zi.credential(Le.currentUser.email,a);await e1(Le.currentUser,g).then(async()=>{o(!1);const x=Le.currentUser;await Is(ii(wr(ze,"users"),X7(ti("following","array-contains",Le.currentUser.uid),ti("followers","array-contains",Le.currentUser.uid)))).then(async y=>{y.forEach(async _=>{const E=_.data();E.id=_.id,console.log("inside"),await Dr(St(ze,"users",E.id),{followers:E.followers.filter(v=>v!=Le.currentUser.uid),following:E.following.filter(v=>v!=Le.currentUser.uid)}).catch(v=>console.log(v))})}),await Is(ii(wr(ze,"quotes"),ti("quotee","==",Le.currentUser.uid))).then(async y=>{y.forEach(async _=>{await Dg(St(ze,"quotes",_.id)).catch(E=>console.log(E))})}),await Dg(St(ze,"users",x.uid)).then(()=>{console.log("document deleted")}).catch(y=>console.log(y));const T=Id(Rd,"gs://fir-3c5fd.appspot.com/"+t);await Mg(T).then(()=>{console.log("file deleted")}).catch(y=>{console.log(y)}),await BN(Le.currentUser).then(()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("userData"),i("/quotee/login")}).catch(y=>{console.log(y)})}).catch(x=>{console.log(x),d(!0)}).finally(()=>o(!1))}return R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"hover:bg-red-500 text-left font-semibold hover:text-quotee-50 text-red-500 rounded-b-md text-sm p-2",type:"button",onClick:()=>r(!0),children:"Delete Account"}),n?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"justify-center backdrop-blur text-quotee-600 items-center flex overflow-x-hidden p-3 overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:R.jsx("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:R.jsxs("div",{ref:e,className:"border-0 max-w-[500px] px-5 rounded-lg shadow-lg relative flex flex-col  bg-quotee-50 outline-none focus:outline-none",children:[R.jsx("div",{className:" p-3 border-b border-solid border-slate-200 rounded-t",children:R.jsx("h3",{className:"text-2xl sm:text-3xl font-semibold text-center",children:"Delete Account"})}),c&&R.jsx("p",{className:"text-center mt-3  text-quotee-50 bg-red-500 py-2 rounded",children:"Incorrect password"}),R.jsx("div",{className:"relative py-3 flex-auto",children:R.jsx("p",{className:" text-quotee-600 text-lg leading-relaxed",children:"Are you sure you want to delete your account and all the personal data with it ? This action cannot be undone"})}),R.jsxs("form",{onSubmit:h,children:[R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"pass",children:[R.jsx("span",{className:"text-md font-semibold",children:"Enter password to pursuit"}),R.jsx(nn,{onChange:f,id:"pass",name:"pass",require:!0,value:a,type:"password",placeholder:"password"})]}),R.jsxs("div",{className:"flex items-stretch mt-4 justify-around gap-2 py-3 border-t border-solid border-quotee-100 rounded-b",children:[R.jsx("button",{className:"px-4 w-1/2 text-center py-2  bg-quotee-500 hover:bg-quotee-600  font-semibold rounded text-quotee-50 transition-all ease-in-out duration-150",type:"button",onClick:()=>r(!1),children:"Cancle"}),R.jsx("button",{className:s?"text-quotee-50 w-1/2 px-4 text-center py-2 rounded bg-red-500  hover:bg-red-700  transition-all ease-in-out duration-150 animate-pulse":"text-quotee-50 w-1/2 px-4 text-center py-2 rounded bg-red-500  hover:bg-red-700  transition-all ease-in-out duration-150",type:"submit",children:s?"Deleting account ...":"Delete my account"})]})]})]})})}),R.jsx("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}function wj(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function Ej({username:t}){const e=Q.useRef(null),[n,r]=wj(e);async function i(){await VN(Le).then(()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("userData")}).catch(s=>console.log(s))}return R.jsxs("div",{ref:e,className:"text-quotee-600",children:[R.jsx("li",{onClick:()=>r(!0),className:"relative list-none flex items-center gap-2",children:R.jsx("div",{className:" bg-quotee-50 max-h-[300px] border w-[155px] border-quotee-200 text-base rounded-md no-scrollbar  flex-col items-stretch absolute z-50 left-[-140px] top-8 "+(n?"flex":"hidden"),children:R.jsxs("div",{className:"font-semibold flex flex-col overflow-hidden",children:[R.jsx("p",{className:"text-center border-b p-2 select-none border-quotee-200",children:"Account Setting"}),R.jsx(Jn,{className:"hover:bg-quotee-100 text-sm p-2",to:"edit/email",children:"Change Email"}),R.jsx(Jn,{className:"hover:bg-quotee-100 text-sm p-2",to:"edit/password",children:"Change Password"}),R.jsx("a",{href:"https://youtu.be/dQw4w9WgXcQ",target:"_blanck",className:"hover:bg-quotee-100 text-sm p-2",children:"Ask for verification"}),R.jsx(yj,{name:"Log out",onClick:i,title:"Log out",description:"Are you sure you want to log out ?"}),R.jsx(xj,{username:t})]})})}),R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 self-end cursor-pointer",onClick:()=>r(s=>!s),children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})})]})}function kr(){const t=localStorage.getItem("currentUser"),e=$f.parse(localStorage.getItem("userData"));return!t||!e?Fr("/quotee/login"):Ih.AES.decrypt(e,t).toString(Ih.enc.Utf8)}function L2(){const t=localStorage.getItem("currentUser"),e=$f.parse(localStorage.getItem("userData"));if(t&&e)throw Fr("/quotee")}function sA({photoURL:t,name:e,username:n,id:r,setProfileData:i,setQuotesData:s}){return R.jsx("div",{className:"w-full border border-quotee-200 rounded-md cursor-pointer hover:bg-quotee-100 transition-all ease-in-out duration-150",children:R.jsx(Jn,{onClick:()=>{i({name:"",username:"",password:"",email:"",bio:"",following:[],followers:[],quotes:[]}),s([])},to:"/quotee/redirect/",state:{id:r,username:n},children:R.jsx("div",{className:"flex px-4 py-2 justify-between items-center gap-5",children:R.jsxs("div",{className:"flex gap-3 items-center",children:[R.jsx("div",{className:"w-[50px] h-[50px] sm:w-[60px] sm:h-[60px] md:w-[70px] md:h-[70px] rounded-full overflow-hidden bg-quotee-800",children:R.jsx("img",{src:t||Fa,className:" object-cover w-full h-full"})}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-md sm:text-lg font-bold",children:e}),R.jsx("h3",{className:"text-md font-normal",children:n})]})]})})})})}function Tj(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function Rh({title:t,data:e,message:n,setProfileData:r,setQuotesData:i}){const s=Q.useRef(null),[o,a]=Tj(s),[l,c]=Q.useState([]);Q.useEffect(()=>{async function f(){const h=[];for(let m=0;m<e.length;m++)await bo(St(ze,"users",e[m])).then(g=>{h.push(g.data())}).catch(g=>console.log(g));c(h)}f()},[e==null?void 0:e.length,e]);const d=l.map((f,h)=>R.jsx(sA,{name:f.name,username:f.username,photoURL:f.photoURL,id:e[h],setProfileData:r,setQuotesData:i},f.username));return R.jsxs("div",{children:[R.jsxs("div",{onClick:()=>a(!0),className:"flex cursor-pointer items-center flex-col",children:[R.jsx("h2",{className:"font-bold",children:e==null?void 0:e.length}),R.jsx("h2",{children:t})]}),o?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"justify-center backdrop-blur z-50 text-quotee-600 items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 outline-none focus:outline-none",children:R.jsx("div",{ref:s,className:"relative w-10/12   my-6 mx-auto max-w-3xl",children:R.jsxs("div",{onClick:()=>a(!1),className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-quotee-50 outline-none focus:outline-none",children:[R.jsx("div",{className:" p-3 border-b border-solid border-slate-200 rounded-t",children:R.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-center",children:t})}),R.jsx("div",{className:"relative max-h-[350px] no-scrollbar gap-2 overflow-scroll p-2 flex flex-col",children:d.length!=0?d:R.jsx("h1",{className:"p-10 text-center",children:n})}),R.jsx("div",{className:"flex  justify-center p-2 border-t border-solid border-quotee-100 rounded-b",children:R.jsx("button",{className:"px-4 w-full  text-center py-2  bg-quotee-500 hover:bg-quotee-600 font-normal rounded text-quotee-50 transition-all ease-in-out duration-150",type:"button",onClick:()=>a(!1),children:"Close"})})]})})}),R.jsx("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}function oA(){return R.jsxs("div",{className:"flex text-quotee-600 flex-col gap-5 w-full mt-5  px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("div",{className:"flex justify-between mb-5 rounded-md",children:R.jsx("h2",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-full h-[25px]"})}),R.jsx("svg",{className:"animate-spin h-5 w-5 mr-3 color",viewBox:"0 0 24 24"}),R.jsxs("div",{className:"flex justify-around  flex-col md:flex-row items-center gap-5",children:[R.jsxs("div",{className:"flex flex-col  items-center gap-5",children:[R.jsx("div",{className:"w-[110px] h-[110px] sm:w-[125px] sm:h-[125px] md:w-[150px] md:h-[150px] animate-pulse rounded-full overflow-hidden bg-quotee-100"}),R.jsx("h2",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[100px] h-[20px]"})]}),R.jsxs("div",{className:" flex flex-col gap-5",children:[R.jsxs("div",{className:"flex justify-between items-center gap-10 text-md sm:text-lg font-semibold",children:[R.jsx("div",{className:"flex items-center flex-col",children:R.jsx("h2",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[100px] h-[20px]"})}),R.jsx("div",{className:"flex items-center flex-col",children:R.jsx("h2",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[100px] h-[20px]"})}),R.jsx("div",{className:"flex items-center flex-col",children:R.jsx("h2",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[100px] h-[20px]"})})]}),R.jsxs("div",{className:"flex flex-col gap-2 whitespace-pre-wrap",children:[R.jsx("p",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[90%] h-[15px]"}),R.jsx("p",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[30%] h-[15px]"}),R.jsx("p",{className:"font-bold text-lg animate-pulse bg-quotee-100 rounded-md w-[50%] h-[15px]"})]})]})]}),R.jsx("div",{className:"text-white px-4 text-center animate-pulse h-10 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-100  transition-all ease-in-out duration-150"}),R.jsx("div",{className:"border-b-2 border-quotee-100"}),R.jsx("div",{className:"w-full h-[200px] rounded-md animate-pulse bg-quotee-100"})]})}async function Sj(){const t=kr();async function e(){let r=await bo(St(ze,"users",t));return r=r.data(),r}async function n(){let r=[];const i=ii(wr(ze,"quotes"),ti("quotee","==",t),cc("createdAt","desc"));return await Is(i).then(s=>{s.forEach(o=>{let a=o.data();a.id=o.id,r.push(a)})}).catch(s=>console.log(s)),r}return cT({profileData1:e(),quotesData1:n()})}function Ij(){const{profileData1:t,quotesData1:e}=Zh(),[n,r]=Q.useState({}),[i,s]=Q.useState([]),o=kr();function a(f){function h(m){const g=i.map((x,T)=>R.jsx(gy,{name:f.name,username:f.username,photoURL:f.photoURL,quote:x.quote,quotee:x.quoteBy,id:x.id,profile:!0,time:x.createdAt,quotes:f.quotes,verified:n==null?void 0:n.verified},T));return R.jsx("div",{children:g.length!=0?g:R.jsx("h1",{className:"p-10 text-center",children:"No quotes yet"})})}return R.jsxs("div",{className:"flex text-quotee-600 flex-col gap-5 w-full mt-5  px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsxs("div",{className:"flex justify-between mb-5 rounded-md",children:[R.jsxs("div",{className:" flex gap-1 justify-between items-center",children:[R.jsx("h2",{className:"font-bold text-lg",children:n.name}),(n==null?void 0:n.verified)&&R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 48 48",children:[R.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"#4dd0e1"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659l-6.083-6.084c-0.879-0.878-0.879-2.303,0-3.182 c0.878-0.879,2.304-0.879,3.182,0l6.083,6.084c0.879,0.878,0.879,2.303,0,3.182C23.643,30.47,23.067,30.69,22.491,30.69z"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659c-0.879-0.878-0.879-2.303,0-3.182l9.539-9.539 c0.878-0.879,2.304-0.879,3.182,0c0.879,0.878,0.879,2.303,0,3.182l-9.539,9.539C23.643,30.47,23.067,30.69,22.491,30.69z"})]})]}),R.jsx(Ej,{username:n.username})]}),R.jsxs("div",{className:"flex justify-around  flex-col md:flex-row items-center gap-5",children:[R.jsxs("div",{className:"flex flex-col  items-center gap-5",children:[R.jsx("div",{className:"w-[110px] h-[110px] sm:w-[125px] sm:h-[125px] md:w-[150px] md:h-[150px] rounded-full overflow-hidden bg-quotee-800",children:R.jsx("img",{src:n.photoURL?n.photoURL:Fa,className:" object-cover w-full h-full"})}),R.jsx("h3",{className:"text-md sm:text-lg",children:n.username})]}),R.jsxs("div",{className:" flex flex-col gap-10",children:[R.jsxs("div",{className:"flex justify-between items-center gap-10 text-md sm:text-lg font-semibold",children:[R.jsx(Rh,{title:"folllowers",data:n.followers,message:"No followers yet",setProfileData:r,setQuotesData:s}),R.jsx(Rh,{title:"following",data:n.following,message:"Not following anyone yet",setProfileData:r,setQuotesData:s}),R.jsxs("div",{className:"flex items-center flex-col",children:[R.jsx("h2",{className:"font-bold",children:n.quotes.length}),R.jsx("h2",{children:"quotes"})]})]}),R.jsx("p",{className:" whitespace-pre-wrap",children:n.bio})]})]}),R.jsx(Jn,{className:"text-white px-4 text-center py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",to:"edit",children:"Edit profile"}),R.jsx("div",{className:"border-b-2 border-quotee-100"}),R.jsx(Q.Suspense,{fallback:R.jsx("div",{className:"w-full h-[200px] rounded-md animate-pulse bg-quotee-100"}),children:R.jsx(Qm,{resolve:e,children:h})})]})}const l=ii(wr(ze,"quotes"),ti("quotee","==",o),cc("createdAt","desc"));function c(){return Object.keys(n).length===0?["","","","","",""]:[n.followers.length,n.following.length,n.bio,n.quotes.length,n.name,n.username]}function d(){return i.length===0?[""]:[i==null?void 0:i.length]}return Q.useEffect(()=>{const f=Pu(l,h=>{let m=[];h.forEach(g=>{let x=g.data();x.id=g.id,m.push(x)}),s(m)});return()=>{f()}},d()),Q.useEffect(()=>{const f=Pu(St(ze,"users",o),h=>{r(h.data())});return()=>{f()}},c()),R.jsx(Q.Suspense,{fallback:R.jsx(oA,{}),children:R.jsx(Qm,{resolve:t,children:a})})}async function Yp({request:t}){const e=await t.formData(),n=e.get("quote"),r=e.get("quoteBy"),i=await nF(wr(ze,"quotes"),{quote:n,quoteBy:r,quotee:Le.currentUser.uid,createdAt:rF()}).catch(s=>console.log(s));return await bo(St(ze,"users",Le.currentUser.uid)).then(async s=>{const{quotes:o}=s.data();o.push(i.id),await Dr(St(ze,"users",Le.currentUser.uid),{quotes:o}).catch(a=>console.log(a))}).catch(s=>console.log(s)),Fr("/quotee/profile")}function Rj(){const t=ks();return R.jsxs("div",{className:"w-full text-quotee-600 flex flex-col justify-center items-center py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("h1",{className:"text-2xl mb-5 font-semibold py-3 text-center border-b sm:border-none border-quotee-200 w-full",children:"Create Quote"}),R.jsxs(Cs,{method:"post",className:"w-full flex flex-col gap-5 px-5 justify-center",children:[R.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[R.jsx("label",{className:"text-lg font-semibold",htmlFor:"quote",children:"Quote"}),R.jsx("textarea",{className:"focus:outline-quotee-200 resize-none px-5 w-full py-2 rounded bg-quotee-100 placeholder:text-quotee-300",name:"quote",rows:"10",id:"quote",required:!0,placeholder:"maybe the moon is beautiful because it is far"})]}),R.jsx("label",{className:"text-lg font-semibold",htmlFor:"quoteBy",children:"Quote by"}),R.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[R.jsx(nn,{id:"quoteBy",name:"quoteBy",require:!0,type:"text",placeholder:"Mahmoud Darwish"}),R.jsx("button",{className:t.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:t.state==="submitting",children:t.state==="submitting"?"Posting ...":"Post"})]})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lg=function(t,e){return Lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Lg(t,e)};function Aj(t,e){Lg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var En=function(){return En=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},En.apply(this,arguments)},F2=!1,Hs,Fg,Ug,Ad,bd,aA,kd,jg,Vg,Bg,lA,zg,qg,uA,cA;function qn(){if(!F2){F2=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(zg=/\b(iPhone|iP[ao]d)/.exec(t),qg=/\b(iP[ao]d)/.exec(t),Bg=/Android/i.exec(t),uA=/FBAN\/\w+;/i.exec(t),cA=/Mobile/i.exec(t),lA=!!/Win64/.exec(t),e){Hs=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Hs&&document&&document.documentMode&&(Hs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);aA=r?parseFloat(r[1])+4:Hs,Fg=e[2]?parseFloat(e[2]):NaN,Ug=e[3]?parseFloat(e[3]):NaN,Ad=e[4]?parseFloat(e[4]):NaN,Ad?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),bd=e&&e[1]?parseFloat(e[1]):NaN):bd=NaN}else Hs=Fg=Ug=bd=Ad=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);kd=i?parseFloat(i[1].replace("_",".")):!0}else kd=!1;jg=!!n[2],Vg=!!n[3]}else kd=jg=Vg=!1}}var $g={ie:function(){return qn()||Hs},ieCompatibilityMode:function(){return qn()||aA>Hs},ie64:function(){return $g.ie()&&lA},firefox:function(){return qn()||Fg},opera:function(){return qn()||Ug},webkit:function(){return qn()||Ad},safari:function(){return $g.webkit()},chrome:function(){return qn()||bd},windows:function(){return qn()||jg},osx:function(){return qn()||kd},linux:function(){return qn()||Vg},iphone:function(){return qn()||zg},mobile:function(){return qn()||zg||qg||Bg||cA},nativeApp:function(){return qn()||uA},android:function(){return qn()||Bg},ipad:function(){return qn()||qg}},bj=$g,td=!!(typeof window<"u"&&window.document&&window.document.createElement),kj={canUseDOM:td,canUseWorkers:typeof Worker<"u",canUseEventListeners:td&&!!(window.addEventListener||window.attachEvent),canUseViewport:td&&!!window.screen,isInWorker:!td},Cj=kj,dA=Cj,hA;dA.canUseDOM&&(hA=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Pj(t,e){if(!dA.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&hA&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Dj=Pj,Nj=bj,Mj=Dj,U2=10,j2=40,V2=800;function fA(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*U2,i=n*U2,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=j2,i*=j2):(r*=V2,i*=V2)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}fA.getEventType=function(){return Nj.firefox()?"DOMMouseScroll":Mj("wheel")?"wheel":"mousewheel"};var Oj=fA,Lj=Oj;const Fj=ja(Lj);function Uj(t,e,n,r,i,s){s===void 0&&(s=0);var o=Ua(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function jj(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function nd(t,e,n,r,i){i===void 0&&(i=0);var s=Ua(e.width,e.height,i),o=s.width,a=s.height;return{x:B2(t.x,o,n.width,r),y:B2(t.y,a,n.height,r)}}function B2(t,e,n,r){var i=e*r/2-n/2;return Hf(t,-i,i)}function z2(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function q2(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Vj(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Bj:zj,l=Ua(e.width,e.height,s),c=Ua(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},f=Math.round(a(c.width,d.width*c.width/100)),h=Math.round(a(c.height,d.height*c.height/100)),m=c.width>=c.height*r,g=m?{width:Math.round(h*r),height:h}:{width:f,height:Math.round(f/r)},x=En(En({},g),{x:Math.round(a(c.width-g.width,d.x*c.width/100)),y:Math.round(a(c.height-g.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:x}}function Bj(t,e){return Math.min(t,Math.max(0,e))}function zj(t,e){return e}function qj(t,e,n,r,i,s){var o=Ua(e.width,e.height,n),a=Hf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function $j(t,e,n){var r=jj(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Hj(t,e,n,r,i,s){n===void 0&&(n=0);var o=Ua(e.naturalWidth,e.naturalHeight,n),a=Hf($j(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function $2(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Wj(t){return t*Math.PI/180}function Ua(t,e,n){var r=Wj(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Hf(t,e,n){return Math.min(Math.max(t,e),n)}function rd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Yj=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Gj=1,Kj=3,Qj=function(t){Aj(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.imageRef=mi.createRef(),n.videoRef=mi.createRef(),n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=qj(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=Hj(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect();var d=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,h=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=c.offsetWidth<f||c.offsetHeight<h,g=f/h,x=void 0;if(m){var T=n.getObjectFit();switch(T){default:case"contain":x=d>g?{width:n.containerRect.height*g,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/g};break;case"horizontal-cover":x={width:n.containerRect.width,height:n.containerRect.width/g};break;case"vertical-cover":x={width:n.containerRect.height*g,height:n.containerRect.height};break}}else x={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=En(En({},x),{naturalWidth:f,naturalHeight:h}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var y=n.props.cropSize?n.props.cropSize:Uj(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==y.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==y.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(y),n.setState({cropSize:y},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(y),y}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=En({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?nd(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Fj(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r){var i=r.x,s=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-n.containerRect.left),y:n.containerRect.height/2-(s-n.containerRect.top)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Hf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i),f=n.getPointOnMedia(d),h={x:f.x*c-d.x,y:f.y*c-d.y},m=n.props.restrictPosition?nd(h,n.mediaSize,n.state.cropSize,c,n.props.rotation):h;n.props.onCropChange(m)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?nd(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Vj(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?nd(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Yj,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load())},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=z2(r,i),this.lastPinchRotation=q2(r,i),this.onDragStart($2(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=$2(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=z2(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=q2(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r=this.props,i=r.image,s=r.video,o=r.mediaProps,a=r.transform,l=r.crop,c=l.x,d=l.y,f=r.rotation,h=r.zoom,m=r.cropShape,g=r.showGrid,x=r.style,T=x.containerStyle,y=x.cropAreaStyle,_=x.mediaStyle,E=r.classes,v=E.containerClassName,C=E.cropAreaClassName,A=E.mediaClassName,P=this.getObjectFit();return mi.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(k){return n.containerRef=k},"data-testid":"container",style:T,className:rd("reactEasyCrop_Container",v)},i?mi.createElement("img",En({alt:"",className:rd("reactEasyCrop_Image",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},o,{src:i,ref:this.imageRef,style:En(En({},_),{transform:a||"translate(".concat(c,"px, ").concat(d,"px) rotate(").concat(f,"deg) scale(").concat(h,")")}),onLoad:this.onMediaLoad})):s&&mi.createElement("video",En({autoPlay:!0,loop:!0,muted:!0,className:rd("reactEasyCrop_Video",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:En(En({},_),{transform:a||"translate(".concat(c,"px, ").concat(d,"px) rotate(").concat(f,"deg) scale(").concat(h,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(S){return mi.createElement("source",En({key:S.src},S))})),this.state.cropSize&&mi.createElement("div",{style:En(En({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:rd("reactEasyCrop_CropArea",m==="round"&&"reactEasyCrop_CropAreaRound",g&&"reactEasyCrop_CropAreaGrid",C)}))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Kj,minZoom:Gj,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(mi.Component);const Xj=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=t});function Zj(t){return t*Math.PI/180}function Jj({setShowModal:t,setImg:e,setRemove:n}){const r=Q.useRef(),[i,s]=Q.useState(!1),[o,a]=Q.useState(null),[l,c]=Q.useState(null),[d,f]=Q.useState({x:0,y:0}),[h,m]=Q.useState(1);Q.useEffect(()=>{r.current&&r.current.click()});const g=(E,v)=>{c(v)},x=E=>{if(s(v=>!v),E.target.files&&E.target.files.length>0){const v=new FileReader;v.readAsDataURL(E.target.files[0]),v.addEventListener("load",()=>{a(v.result)})}},T=async()=>{if(!l||!o)return null;const E=await _(o,l);return new Promise((v,C)=>{E.toBlob(A=>{if(A)v(new File([A],"cropped-image.jpeg",{type:"image/jpeg"}));else{const P=E.toDataURL("image/jpeg",.66),S=y(P);v(new File([S],"cropped-image.jpeg",{type:"image/jpeg"}))}},"image/jpeg",.66)})};function y(E){const v=E.split(","),C=v[0].match(/:(.*?);/)[1],A=atob(v[1]);let P=A.length;const S=new Uint8Array(P);for(;P--;)S[P]=A.charCodeAt(P);return new Blob([S],{type:C})}async function _(E,v,C=0){const A=await Xj(E),P=document.createElement("canvas"),S=P.getContext("2d"),b=2*(Math.max(A.width,A.height)/2*Math.sqrt(2));P.width=b,P.height=b,S.translate(b/2,b/2),S.rotate(Zj(C)),S.translate(-b/2,-b/2),S.drawImage(A,b/2-A.width*.5,b/2-A.height*.5);const N=S.getImageData(0,0,b,b);return P.width=v.width,P.height=v.height,S.putImageData(N,0-b/2+A.width*.5-v.x,0-b/2+A.height*.5-v.y),P}return R.jsx("div",{className:"h-[90vh]  w-full relative mx-auto flex rounded-xl border-2 border-quotee-200 items-center justify-center",children:i?R.jsxs("div",{className:"h-full w-full bg-quotee-100 rounded-md",children:[R.jsx("div",{className:"h-[90%] p-2 ",children:o?R.jsx(R.Fragment,{children:R.jsx("div",{className:"h-full rounded-md overflow-hidden relative",children:R.jsx(Qj,{image:o,crop:d,zoom:h,aspect:1,onCropChange:f,onZoomChange:m,onCropComplete:g})})}):null}),R.jsx("div",{className:"w-full p-2",children:R.jsx("button",{className:"text-white w-full px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"button",onClick:async E=>{n("");const v=await T();e({show:URL.createObjectURL(v),row:v}),t(!1)},children:"Set as profile picture"})})]}):R.jsxs("label",{htmlFor:"select",className:" cursor-pointer text-lg font-semibold text-quotee-600 animate-bounce",children:["Click to Select photo",R.jsx("input",{id:"select",type:"file",accept:"image/*",className:"hidden",ref:r,onChange:x})]})})}function eV(t){const[e,n]=Q.useState(!1);return Q.useEffect(()=>{function r(i){t.current&&!t.current.contains(i.target)&&n(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),[e,n]}function tV({setImg:t,remove:e,img:n,url:r,setRemove:i}){const s=Q.useRef(null),[o,a]=eV(s);return R.jsxs(R.Fragment,{children:[R.jsx("button",{className:" self-center text-blue-400 font-semibold cursor-pointer",type:"button",onClick:()=>a(!0),children:e?"Set profile picture":n||r?"Update profile picture":"Set profile picture"}),o?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"justify-center backdrop-blur w-[90%] mx-auto h-full text-quotee-600 items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:R.jsx("div",{className:"relative w-full h-[65%]  mx-auto max-w-3xl",children:R.jsx("div",{ref:s,className:"border-0 rounded-xl h-full shadow-lg relative flex flex-col w-full bg-quotee-50 outline-none focus:outline-none",children:R.jsx(Jj,{setShowModal:a,setImg:t,setRemove:i})})})}),R.jsx("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}function nV(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function pA(t,e){return new Promise(function(n,r){let i;return rV(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const rV=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let d;switch(s.getUint16(c)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,d)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(c+4,d),h=c+f+2+12*s.getUint16(c+f,d);for(let m=c+f+2;m<h;m+=12)if(s.getUint16(m,d)==274){if(s.getUint16(m+2,d)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,d)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,d);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Ah={},iV={get exports(){return Ah},set exports(t){Ah=t}};(function(t){var e,n,r={};iV.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},d=new Uint8Array(i),f=d.length-4;a(d,f)!=101010256;)f--;l=f,l+=4;var h=o(d,l+=4);o(d,l+=2);var m=a(d,l+=2),g=a(d,l+=4);l+=4,l=g;for(var x=0;x<h;x++){a(d,l),l+=4,l+=4,l+=4,a(d,l+=4),m=a(d,l+=4);var T=a(d,l+=4),y=o(d,l+=4),_=o(d,l+2),E=o(d,l+4);l+=6;var v=a(d,l+=8);l+=4,l+=y+_+E,r._readLocal(d,v,c,m,T,s)}return c},r._readLocal=function(i,s,o,a,l,c){var d=r.bin.readUshort,f=r.bin.readUint;f(i,s),d(i,s+=4),d(i,s+=2);var h=d(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var m=d(i,s+=8),g=d(i,s+=2);s+=2;var x=r.bin.readUTF8(i,s,m);if(s+=m,s+=g,c)o[x]={size:l,csize:a};else{var T=new Uint8Array(i.buffer,s);if(h==0)o[x]=new Uint8Array(T.buffer.slice(s,s+a));else{if(h!=8)throw"unknown compression method: "+h;var y=new Uint8Array(l);r.inflateRaw(T,y),o[x]=y}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var d in i){var f=!r._noNeed(d)&&!s,h=i[d],m=r.crc.crc(h,0,h.length);c[d]={cpr:f,usize:h.length,crc:m,file:f?r.deflateRaw(h):h}}for(var d in c)o+=c[d].file.length+30+46+2*r.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),x=0,T=[];for(var d in c){var y=c[d];T.push(x),x=r._writeHeader(g,x,d,y,0)}var _=0,E=x;for(var d in c)y=c[d],T.push(x),x=r._writeHeader(g,x,d,y,1,T[_++]);var v=x-E;return a(g,x,101010256),x+=4,l(g,x+=4,_),l(g,x+=2,_),a(g,x+=2,v),a(g,x+=4,E),x+=4,x+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var d=r.bin.writeUint,f=r.bin.writeUshort,h=a.file;return d(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),d(i,s+=2,0),d(i,s+=4,a.crc),d(i,s+=4,h.length),d(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,d(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(h,s),s+=h.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,d=s+o;c<d;){for(var f=Math.min(c+5552,d);c<f;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var d=o.charCodeAt(c);if(!(4294967168&d))i[s+l]=d,l++;else if(!(4294965248&d))i[s+l]=192|d>>6,i[s+l+1]=128|d>>0&63,l+=2;else if(!(4294901760&d))i[s+l]=224|d>>12,i[s+l+1]=128|d>>6&63,i[s+l+2]=128|d>>0&63,l+=3;else{if(4292870144&d)throw"e";i[s+l]=240|d>>18,i[s+l+1]=128|d>>12&63,i[s+l+2]=128|d>>6&63,i[s+l+3]=128|d>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,d=r.F._goodIndex;r.F._hash;var f=r.F._putsE,h=0,m=o<<3,g=0,x=i.length;if(a==0){for(;h<x;)f(s,m,h+(N=Math.min(65535,x-h))==x?1:0),m=r.F._copyExact(i,h,N,s,m+8),h+=N;return m>>>3}var T=c.lits,y=c.strt,_=c.prev,E=0,v=0,C=0,A=0,P=0,S=0;for(x>2&&(y[S=r.F._hash(i,0)]=0),h=0;h<x;h++){if(P=S,h+1<x-2){S=r.F._hash(i,h+1);var k=h+1&32767;_[k]=y[S],y[S]=k}if(g<=h){(E>14e3||v>26697)&&x-h>100&&(g<h&&(T[E]=h-g,E+=2,g=h),m=r.F._writeBlock(h==x-1||g==x?1:0,T,E,A,i,C,h-C,s,m),E=v=A=0,C=h);var b=0;h<x-2&&(b=r.F._bestMatch(i,h,_,P,Math.min(l[2],x-h),l[3]));var N=b>>>16,O=65535&b;if(b!=0){O=65535&b;var F=d(N=b>>>16,c.of0);c.lhst[257+F]++;var U=d(O,c.df0);c.dhst[U]++,A+=c.exb[F]+c.dxb[U],T[E]=N<<23|h-g,T[E+1]=O<<16|F<<8|U,E+=2,g=h+N}else c.lhst[i[h]]++;v++}}for(C==h&&i.length!=0||(g<h&&(T[E]=h-g,E+=2,g=h),m=r.F._writeBlock(1,T,E,A,i,C,h-C,s,m),E=0,v=0,E=v=A=0,C=h);7&m;)m++;return m>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var d=32767&s,f=o[d],h=d-f+32768&32767;if(f==d||a!=r.F._hash(i,s-h))return 0;for(var m=0,g=0,x=Math.min(32767,s);h<=x&&--c!=0&&f!=d;){if(m==0||i[s+m]==i[s+m-h]){var T=r.F._howLong(i,s,h);if(T>m){if(g=h,(m=T)>=l)break;h+2<T&&(T=h+2);for(var y=0,_=0;_<T-2;_++){var E=s-h+_+32768&32767,v=E-o[E]+32768&32767;v>y&&(y=v,f=E)}}}h+=(d=f)-(f=o[d])+32768&32767}return m<<16|g},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,d,f,h){var m,g,x,T,y,_,E,v,C,A=r.F.U,P=r.F._putsF,S=r.F._putsE;A.lhst[256]++,g=(m=r.F.getTrees())[0],x=m[1],T=m[2],y=m[3],_=m[4],E=m[5],v=m[6],C=m[7];var k=32+(h+3&7?8-(h+3&7):0)+(d<<3),b=a+r.F.contSize(A.fltree,A.lhst)+r.F.contSize(A.fdtree,A.dhst),N=a+r.F.contSize(A.ltree,A.lhst)+r.F.contSize(A.dtree,A.dhst);N+=14+3*E+r.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var O=0;O<286;O++)A.lhst[O]=0;for(O=0;O<30;O++)A.dhst[O]=0;for(O=0;O<19;O++)A.ihst[O]=0;var F=k<b&&k<N?0:b<N?1:2;if(P(f,h,i),P(f,h+1,F),h+=3,F==0){for(;7&h;)h++;h=r.F._copyExact(l,c,d,f,h)}else{var U,$;if(F==1&&(U=A.fltree,$=A.fdtree),F==2){r.F.makeCodes(A.ltree,g),r.F.revCodes(A.ltree,g),r.F.makeCodes(A.dtree,x),r.F.revCodes(A.dtree,x),r.F.makeCodes(A.itree,T),r.F.revCodes(A.itree,T),U=A.ltree,$=A.dtree,S(f,h,y-257),S(f,h+=5,_-1),S(f,h+=5,E-4),h+=4;for(var L=0;L<E;L++)S(f,h+3*L,A.itree[1+(A.ordr[L]<<1)]);h+=3*E,h=r.F._codeTiny(v,A.itree,f,h),h=r.F._codeTiny(C,A.itree,f,h)}for(var M=c,q=0;q<o;q+=2){for(var V=s[q],W=V>>>23,Y=M+(8388607&V);M<Y;)h=r.F._writeLit(l[M++],U,f,h);if(W!=0){var H=s[q+1],G=H>>16,j=H>>8&255,z=255&H;S(f,h=r.F._writeLit(257+j,U,f,h),W-A.of0[j]),h+=A.exb[j],P(f,h=r.F._writeLit(z,$,f,h),G-A.df0[z]),h+=A.dxb[z],M+=W}}h=r.F._writeLit(256,U,f,h)}return h},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],d=r.F._lenCodes(i.dtree,c),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<c.length;f+=2)i.ihst[c[f]]++;for(var h=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[s,o,h,l,d,m,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],d=i[l+1];a=r.F._writeLit(c,s,o,a);var f=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,d,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,d=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&c==l&&d==l){for(var h=a+5;h+2<o&&i[h+2]==l;)h+=2;(m=Math.min(h+1-a>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),a+=2*m-2}else if(l==f&&c==l&&d==l){for(h=a+5;h+2<o&&i[h+2]==l;)h+=2;var m=Math.min(h+1-a>>>1,6);s.push(16,m-3),a+=2*m-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,d=0;for(d=0;d<c;d+=2)s[d]=0,s[d+1]=0;for(d=0;d<l;d++)i[d]!=0&&a.push({lit:d,f:i[d]});var f=a.length,h=a.slice(0);if(f==0)return 0;if(f==1){var m=a[0].lit;return h=m==0?1:0,s[1+(m<<1)]=1,s[1+(h<<1)]=1,1}a.sort(function(v,C){return v.f-C.f});var g=a[0],x=a[1],T=0,y=1,_=2;for(a[0]={lit:-1,f:g.f+x.f,l:g,r:x,d:0};y!=f-1;)g=T!=y&&(_==f||a[T].f<a[_].f)?a[T++]:a[_++],x=T!=y&&(_==f||a[T].f<a[_].f)?a[T++]:a[_++],a[y++]={lit:-1,f:g.f+x.f,l:g,r:x};var E=r.F.setDepth(a[y-1],0);for(E>o&&(r.F.restrictDepth(h,o,E),E=o),d=0;d<f;d++)s[1+(h[d].lit<<1)]=h[d].d;return E},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(f,h){return h.d==f.d?f.f-h.f:h.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var d=i[a].d;i[a].d=s,c+=l-(1<<o-d)}for(c>>>=o-s;c>0;)(d=i[a].d)<s?(i[a].d++,c-=1<<s-d-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,d=a._decodeTiny,f=a.makeCodes,h=a.codes2map,m=a._get17,g=a.U,x=s==null;x&&(s=new o(i.length>>>2<<3));for(var T,y,_=0,E=0,v=0,C=0,A=0,P=0,S=0,k=0,b=0;_==0;)if(_=l(i,b,1),E=l(i,b+1,2),b+=3,E!=0){if(x&&(s=r.F._check(s,k+(1<<17))),E==1&&(T=g.flmap,y=g.fdmap,P=511,S=31),E==2){v=c(i,b,5)+257,C=c(i,b+5,5)+1,A=c(i,b+10,4)+4,b+=14;for(var N=0;N<38;N+=2)g.itree[N]=0,g.itree[N+1]=0;var O=1;for(N=0;N<A;N++){var F=c(i,b+3*N,3);g.itree[1+(g.ordr[N]<<1)]=F,F>O&&(O=F)}b+=3*A,f(g.itree,O),h(g.itree,O,g.imap),T=g.lmap,y=g.dmap,b=d(g.imap,(1<<O)-1,v+C,i,b,g.ttree);var U=a._copyOut(g.ttree,0,v,g.ltree);P=(1<<U)-1;var $=a._copyOut(g.ttree,v,C,g.dtree);S=(1<<$)-1,f(g.ltree,U),h(g.ltree,U,T),f(g.dtree,$),h(g.dtree,$,y)}for(;;){var L=T[m(i,b)&P];b+=15&L;var M=L>>>4;if(!(M>>>8))s[k++]=M;else{if(M==256)break;var q=k+M-254;if(M>264){var V=g.ldef[M-257];q=k+(V>>>3)+c(i,b,7&V),b+=7&V}var W=y[m(i,b)&S];b+=15&W;var Y=W>>>4,H=g.ddef[Y],G=(H>>>4)+l(i,b,15&H);for(b+=15&H,x&&(s=r.F._check(s,k+(1<<17)));k<q;)s[k]=s[k++-G],s[k]=s[k++-G],s[k]=s[k++-G],s[k]=s[k++-G];k=q}}}else{7&b&&(b+=8-(7&b));var j=4+(b>>>3),z=i[j-4]|i[j-3]<<8;x&&(s=r.F._check(s,k+z)),s.set(new o(i.buffer,i.byteOffset+j,z),k),b=j+z<<3,k+=z}return s.length==k?s:s.slice(0,k)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var d=r.F._bitsE,f=r.F._get17,h=0;h<o;){var m=i[f(a,l)&s];l+=15&m;var g=m>>>4;if(g<=15)c[h]=g,h++;else{var x=0,T=0;g==16?(T=3+d(a,l,2),l+=2,x=c[h-1]):g==17?(T=3+d(a,l,3),l+=3):g==18&&(T=11+d(a,l,7),l+=7);for(var y=h+T;h<y;)c[h]=x,h++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,d=a.length>>>1;c<o;){var f=i[c+s];a[c<<1]=0,a[1+(c<<1)]=f,f>l&&(l=f),c++}for(;c<d;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,d=r.F.U,f=i.length,h=d.bl_count,m=0;m<=s;m++)h[m]=0;for(m=1;m<f;m+=2)h[i[m]]++;var g=d.next_code;for(o=0,h[0]=0,a=1;a<=s;a++)o=o+h[a-1]<<1,g[a]=o;for(l=0;l<f;l+=2)(c=i[l+1])!=0&&(i[l]=g[c],g[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var d=c>>1,f=i[c+1],h=d<<4|f,m=s-f,g=i[c]<<m,x=g+(1<<m);g!=x;)o[l[g]>>>15-s]=h,g++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,d){for(;c--!=0;)l.push(0,d)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var sV=nV({__proto__:null,default:Ah},[Ah]);const Sr=function(){var t={nextZero(d,f){for(;d[f]!=0;)f++;return f},readUshort:(d,f)=>d[f]<<8|d[f+1],writeUshort(d,f,h){d[f]=h>>8&255,d[f+1]=255&h},readUint:(d,f)=>16777216*d[f]+(d[f+1]<<16|d[f+2]<<8|d[f+3]),writeUint(d,f,h){d[f]=h>>24&255,d[f+1]=h>>16&255,d[f+2]=h>>8&255,d[f+3]=255&h},readASCII(d,f,h){let m="";for(let g=0;g<h;g++)m+=String.fromCharCode(d[f+g]);return m},writeASCII(d,f,h){for(let m=0;m<h.length;m++)d[f+m]=h.charCodeAt(m)},readBytes(d,f,h){const m=[];for(let g=0;g<h;g++)m.push(d[f+g]);return m},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,f,h){let m,g="";for(let x=0;x<h;x++)g+=`%${t.pad(d[f+x].toString(16))}`;try{m=decodeURIComponent(g)}catch{return t.readASCII(d,f,h)}return m}};function e(d,f,h,m){const g=f*h,x=s(m),T=Math.ceil(f*x/8),y=new Uint8Array(4*g),_=new Uint32Array(y.buffer),{ctype:E}=m,{depth:v}=m,C=t.readUshort;if(E==6){const V=g<<2;if(v==8)for(var A=0;A<V;A+=4)y[A]=d[A],y[A+1]=d[A+1],y[A+2]=d[A+2],y[A+3]=d[A+3];if(v==16)for(A=0;A<V;A++)y[A]=d[A<<1]}else if(E==2){const V=m.tabs.tRNS;if(V==null){if(v==8)for(A=0;A<g;A++){var P=3*A;_[A]=255<<24|d[P+2]<<16|d[P+1]<<8|d[P]}if(v==16)for(A=0;A<g;A++)P=6*A,_[A]=255<<24|d[P+4]<<16|d[P+2]<<8|d[P]}else{var S=V[0];const W=V[1],Y=V[2];if(v==8)for(A=0;A<g;A++){var k=A<<2;P=3*A,_[A]=255<<24|d[P+2]<<16|d[P+1]<<8|d[P],d[P]==S&&d[P+1]==W&&d[P+2]==Y&&(y[k+3]=0)}if(v==16)for(A=0;A<g;A++)k=A<<2,P=6*A,_[A]=255<<24|d[P+4]<<16|d[P+2]<<8|d[P],C(d,P)==S&&C(d,P+2)==W&&C(d,P+4)==Y&&(y[k+3]=0)}}else if(E==3){const V=m.tabs.PLTE,W=m.tabs.tRNS,Y=W?W.length:0;if(v==1)for(var b=0;b<h;b++){var N=b*T,O=b*f;for(A=0;A<f;A++){k=O+A<<2;var F=3*(U=d[N+(A>>3)]>>7-((7&A)<<0)&1);y[k]=V[F],y[k+1]=V[F+1],y[k+2]=V[F+2],y[k+3]=U<Y?W[U]:255}}if(v==2)for(b=0;b<h;b++)for(N=b*T,O=b*f,A=0;A<f;A++)k=O+A<<2,F=3*(U=d[N+(A>>2)]>>6-((3&A)<<1)&3),y[k]=V[F],y[k+1]=V[F+1],y[k+2]=V[F+2],y[k+3]=U<Y?W[U]:255;if(v==4)for(b=0;b<h;b++)for(N=b*T,O=b*f,A=0;A<f;A++)k=O+A<<2,F=3*(U=d[N+(A>>1)]>>4-((1&A)<<2)&15),y[k]=V[F],y[k+1]=V[F+1],y[k+2]=V[F+2],y[k+3]=U<Y?W[U]:255;if(v==8)for(A=0;A<g;A++){var U;k=A<<2,F=3*(U=d[A]),y[k]=V[F],y[k+1]=V[F+1],y[k+2]=V[F+2],y[k+3]=U<Y?W[U]:255}}else if(E==4){if(v==8)for(A=0;A<g;A++){k=A<<2;var $=d[L=A<<1];y[k]=$,y[k+1]=$,y[k+2]=$,y[k+3]=d[L+1]}if(v==16)for(A=0;A<g;A++){var L;k=A<<2,$=d[L=A<<2],y[k]=$,y[k+1]=$,y[k+2]=$,y[k+3]=d[L+2]}}else if(E==0)for(S=m.tabs.tRNS?m.tabs.tRNS:-1,b=0;b<h;b++){const V=b*T,W=b*f;if(v==1)for(var M=0;M<f;M++){var q=($=255*(d[V+(M>>>3)]>>>7-(7&M)&1))==255*S?0:255;_[W+M]=q<<24|$<<16|$<<8|$}else if(v==2)for(M=0;M<f;M++)q=($=85*(d[V+(M>>>2)]>>>6-((3&M)<<1)&3))==85*S?0:255,_[W+M]=q<<24|$<<16|$<<8|$;else if(v==4)for(M=0;M<f;M++)q=($=17*(d[V+(M>>>1)]>>>4-((1&M)<<2)&15))==17*S?0:255,_[W+M]=q<<24|$<<16|$<<8|$;else if(v==8)for(M=0;M<f;M++)q=($=d[V+M])==S?0:255,_[W+M]=q<<24|$<<16|$<<8|$;else if(v==16)for(M=0;M<f;M++)$=d[V+(M<<1)],q=C(d,V+(M<<1))==S?0:255,_[W+M]=q<<24|$<<16|$<<8|$}return y}function n(d,f,h,m){const g=s(d),x=Math.ceil(h*g/8),T=new Uint8Array((x+1+d.interlace)*m);return f=d.tabs.CgBI?i(f,T):r(f,T),d.interlace==0?f=o(f,d,0,h,m):d.interlace==1&&(f=function(_,E){const v=E.width,C=E.height,A=s(E),P=A>>3,S=Math.ceil(v*A/8),k=new Uint8Array(C*S);let b=0;const N=[0,0,4,0,2,0,1],O=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],U=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const M=F[$],q=U[$];let V=0,W=0,Y=N[$];for(;Y<C;)Y+=M,W++;let H=O[$];for(;H<v;)H+=q,V++;const G=Math.ceil(V*A/8);o(_,E,b,V,W);let j=0,z=N[$];for(;z<C;){let se=O[$],Te=b+j*G<<3;for(;se<v;){var L;if(A==1&&(L=(L=_[Te>>3])>>7-(7&Te)&1,k[z*S+(se>>3)]|=L<<7-((7&se)<<0)),A==2&&(L=(L=_[Te>>3])>>6-(7&Te)&3,k[z*S+(se>>2)]|=L<<6-((3&se)<<1)),A==4&&(L=(L=_[Te>>3])>>4-(7&Te)&15,k[z*S+(se>>1)]|=L<<4-((1&se)<<2)),A>=8){const oe=z*S+se*P;for(let De=0;De<P;De++)k[oe+De]=_[(Te>>3)+De]}Te+=A,se+=q}j++,z+=M}V*W!=0&&(b+=W*(1+G)),$+=1}return k}(f,d)),f}function r(d,f){return i(new Uint8Array(d.buffer,2,d.length-6),f)}var i=function(){const d={H:{}};return d.H.N=function(f,h){const m=Uint8Array;let g,x,T=0,y=0,_=0,E=0,v=0,C=0,A=0,P=0,S=0;if(f[0]==3&&f[1]==0)return h||new m(0);const k=d.H,b=k.b,N=k.e,O=k.R,F=k.n,U=k.A,$=k.Z,L=k.m,M=h==null;for(M&&(h=new m(f.length>>>2<<5));T==0;)if(T=b(f,S,1),y=b(f,S+1,2),S+=3,y!=0){if(M&&(h=d.H.W(h,P+(1<<17))),y==1&&(g=L.J,x=L.h,C=511,A=31),y==2){_=N(f,S,5)+257,E=N(f,S+5,5)+1,v=N(f,S+10,4)+4,S+=14;let V=1;for(var q=0;q<38;q+=2)L.Q[q]=0,L.Q[q+1]=0;for(q=0;q<v;q++){const H=N(f,S+3*q,3);L.Q[1+(L.X[q]<<1)]=H,H>V&&(V=H)}S+=3*v,F(L.Q,V),U(L.Q,V,L.u),g=L.w,x=L.d,S=O(L.u,(1<<V)-1,_+E,f,S,L.v);const W=k.V(L.v,0,_,L.C);C=(1<<W)-1;const Y=k.V(L.v,_,E,L.D);A=(1<<Y)-1,F(L.C,W),U(L.C,W,g),F(L.D,Y),U(L.D,Y,x)}for(;;){const V=g[$(f,S)&C];S+=15&V;const W=V>>>4;if(!(W>>>8))h[P++]=W;else{if(W==256)break;{let Y=P+W-254;if(W>264){const se=L.q[W-257];Y=P+(se>>>3)+N(f,S,7&se),S+=7&se}const H=x[$(f,S)&A];S+=15&H;const G=H>>>4,j=L.c[G],z=(j>>>4)+b(f,S,15&j);for(S+=15&j;P<Y;)h[P]=h[P++-z],h[P]=h[P++-z],h[P]=h[P++-z],h[P]=h[P++-z];P=Y}}}}else{7&S&&(S+=8-(7&S));const V=4+(S>>>3),W=f[V-4]|f[V-3]<<8;M&&(h=d.H.W(h,P+W)),h.set(new m(f.buffer,f.byteOffset+V,W),P),S=V+W<<3,P+=W}return h.length==P?h:h.slice(0,P)},d.H.W=function(f,h){const m=f.length;if(h<=m)return f;const g=new Uint8Array(m<<1);return g.set(f,0),g},d.H.R=function(f,h,m,g,x,T){const y=d.H.e,_=d.H.Z;let E=0;for(;E<m;){const v=f[_(g,x)&h];x+=15&v;const C=v>>>4;if(C<=15)T[E]=C,E++;else{let A=0,P=0;C==16?(P=3+y(g,x,2),x+=2,A=T[E-1]):C==17?(P=3+y(g,x,3),x+=3):C==18&&(P=11+y(g,x,7),x+=7);const S=E+P;for(;E<S;)T[E]=A,E++}}return x},d.H.V=function(f,h,m,g){let x=0,T=0;const y=g.length>>>1;for(;T<m;){const _=f[T+h];g[T<<1]=0,g[1+(T<<1)]=_,_>x&&(x=_),T++}for(;T<y;)g[T<<1]=0,g[1+(T<<1)]=0,T++;return x},d.H.n=function(f,h){const m=d.H.m,g=f.length;let x,T,y,_;const E=m.j;for(var v=0;v<=h;v++)E[v]=0;for(v=1;v<g;v+=2)E[f[v]]++;const C=m.K;for(x=0,E[0]=0,T=1;T<=h;T++)x=x+E[T-1]<<1,C[T]=x;for(y=0;y<g;y+=2)_=f[y+1],_!=0&&(f[y]=C[_],C[_]++)},d.H.A=function(f,h,m){const g=f.length,x=d.H.m.r;for(let T=0;T<g;T+=2)if(f[T+1]!=0){const y=T>>1,_=f[T+1],E=y<<4|_,v=h-_;let C=f[T]<<v;const A=C+(1<<v);for(;C!=A;)m[x[C]>>>15-h]=E,C++}},d.H.l=function(f,h){const m=d.H.m.r,g=15-h;for(let x=0;x<f.length;x+=2){const T=f[x]<<h-f[x+1];f[x]=m[T]>>>g}},d.H.M=function(f,h,m){m<<=7&h;const g=h>>>3;f[g]|=m,f[g+1]|=m>>>8},d.H.I=function(f,h,m){m<<=7&h;const g=h>>>3;f[g]|=m,f[g+1]|=m>>>8,f[g+2]|=m>>>16},d.H.e=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},d.H.b=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},d.H.Z=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)},d.H.i=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16|f[3+(h>>>3)]<<24)>>>(7&h)},d.H.m=function(){const f=Uint16Array,h=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=d.H.m;for(var h=0;h<32768;h++){let g=h;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[h]=(g>>>16|g<<16)>>>17}function m(g,x,T){for(;x--!=0;)g.push(0,T)}for(h=0;h<32;h++)f.q[h]=f.S[h]<<3|f.T[h],f.c[h]=f.p[h]<<4|f.z[h];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),d.H.n(f._,9),d.H.A(f._,9,f.J),d.H.l(f._,9),m(f.$,32,5),d.H.n(f.$,5),d.H.A(f.$,5,f.h),d.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),d.H.N}();function s(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,f,h,m,g){let x=s(f);const T=Math.ceil(m*x/8);let y,_;x=Math.ceil(x/8);let E=d[h],v=0;if(E>1&&(d[h]=[0,0,1][E-2]),E==3)for(v=x;v<T;v++)d[v+1]=d[v+1]+(d[v+1-x]>>>1)&255;for(let C=0;C<g;C++)if(y=h+C*T,_=y+C+1,E=d[_-1],v=0,E==0)for(;v<T;v++)d[y+v]=d[_+v];else if(E==1){for(;v<x;v++)d[y+v]=d[_+v];for(;v<T;v++)d[y+v]=d[_+v]+d[y+v-x]}else if(E==2)for(;v<T;v++)d[y+v]=d[_+v]+d[y+v-T];else if(E==3){for(;v<x;v++)d[y+v]=d[_+v]+(d[y+v-T]>>>1);for(;v<T;v++)d[y+v]=d[_+v]+(d[y+v-T]+d[y+v-x]>>>1)}else{for(;v<x;v++)d[y+v]=d[_+v]+a(0,d[y+v-T],0);for(;v<T;v++)d[y+v]=d[_+v]+a(d[y+v-x],d[y+v-T],d[y+v-x-T])}return d}function a(d,f,h){const m=d+f-h,g=m-d,x=m-f,T=m-h;return g*g<=x*x&&g*g<=T*T?d:x*x<=T*T?f:h}function l(d,f,h){h.width=t.readUint(d,f),f+=4,h.height=t.readUint(d,f),f+=4,h.depth=d[f],f++,h.ctype=d[f],f++,h.compress=d[f],f++,h.filter=d[f],f++,h.interlace=d[f],f++}function c(d,f,h,m,g,x,T,y,_){const E=Math.min(f,g),v=Math.min(h,x);let C=0,A=0;for(let $=0;$<v;$++)for(let L=0;L<E;L++)if(T>=0&&y>=0?(C=$*f+L<<2,A=(y+$)*g+T+L<<2):(C=(-y+$)*f-T+L<<2,A=$*g+L<<2),_==0)m[A]=d[C],m[A+1]=d[C+1],m[A+2]=d[C+2],m[A+3]=d[C+3];else if(_==1){var P=d[C+3]*.00392156862745098,S=d[C]*P,k=d[C+1]*P,b=d[C+2]*P,N=m[A+3]*(1/255),O=m[A]*N,F=m[A+1]*N,U=m[A+2]*N;const M=1-P,q=P+N*M,V=q==0?0:1/q;m[A+3]=255*q,m[A+0]=(S+O*M)*V,m[A+1]=(k+F*M)*V,m[A+2]=(b+U*M)*V}else if(_==2)P=d[C+3],S=d[C],k=d[C+1],b=d[C+2],N=m[A+3],O=m[A],F=m[A+1],U=m[A+2],P==N&&S==O&&k==F&&b==U?(m[A]=0,m[A+1]=0,m[A+2]=0,m[A+3]=0):(m[A]=S,m[A+1]=k,m[A+2]=b,m[A+3]=P);else if(_==3){if(P=d[C+3],S=d[C],k=d[C+1],b=d[C+2],N=m[A+3],O=m[A],F=m[A+1],U=m[A+2],P==N&&S==O&&k==F&&b==U)continue;if(P<220&&N>20)return!1}return!0}return{decode:function(f){const h=new Uint8Array(f);let m=8;const g=t,x=g.readUshort,T=g.readUint,y={tabs:{},frames:[]},_=new Uint8Array(h.length);let E,v=0,C=0;const A=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(h[P]!=A[P])throw"The input is not a PNG file!";for(;m<h.length;){const $=g.readUint(h,m);m+=4;const L=g.readASCII(h,m,4);if(m+=4,L=="IHDR")l(h,m,y);else if(L=="iCCP"){for(var S=m;h[S]!=0;)S++;g.readASCII(h,m,S-m),h[S+1];const M=h.slice(S+2,m+$);let q=null;try{q=r(M)}catch{q=i(M)}y.tabs[L]=q}else if(L=="CgBI")y.tabs[L]=h.slice(m,m+4);else if(L=="IDAT"){for(P=0;P<$;P++)_[v+P]=h[m+P];v+=$}else if(L=="acTL")y.tabs[L]={num_frames:T(h,m),num_plays:T(h,m+4)},E=new Uint8Array(h.length);else if(L=="fcTL"){C!=0&&((U=y.frames[y.frames.length-1]).data=n(y,E.slice(0,C),U.rect.width,U.rect.height),C=0);const M={x:T(h,m+12),y:T(h,m+16),width:T(h,m+4),height:T(h,m+8)};let q=x(h,m+22);q=x(h,m+20)/(q==0?100:q);const V={rect:M,delay:Math.round(1e3*q),dispose:h[m+24],blend:h[m+25]};y.frames.push(V)}else if(L=="fdAT"){for(P=0;P<$-4;P++)E[C+P]=h[m+P+4];C+=$-4}else if(L=="pHYs")y.tabs[L]=[g.readUint(h,m),g.readUint(h,m+4),h[m+8]];else if(L=="cHRM")for(y.tabs[L]=[],P=0;P<8;P++)y.tabs[L].push(g.readUint(h,m+4*P));else if(L=="tEXt"||L=="zTXt"){y.tabs[L]==null&&(y.tabs[L]={});var k=g.nextZero(h,m),b=g.readASCII(h,m,k-m),N=m+$-k-1;if(L=="tEXt")F=g.readASCII(h,k+1,N);else{var O=r(h.slice(k+2,k+2+N));F=g.readUTF8(O,0,O.length)}y.tabs[L][b]=F}else if(L=="iTXt"){y.tabs[L]==null&&(y.tabs[L]={}),k=0,S=m,k=g.nextZero(h,S),b=g.readASCII(h,S,k-S);const M=h[S=k+1];var F;h[S+1],S+=2,k=g.nextZero(h,S),g.readASCII(h,S,k-S),S=k+1,k=g.nextZero(h,S),g.readUTF8(h,S,k-S),N=$-((S=k+1)-m),M==0?F=g.readUTF8(h,S,N):(O=r(h.slice(S,S+N)),F=g.readUTF8(O,0,O.length)),y.tabs[L][b]=F}else if(L=="PLTE")y.tabs[L]=g.readBytes(h,m,$);else if(L=="hIST"){const M=y.tabs.PLTE.length/3;for(y.tabs[L]=[],P=0;P<M;P++)y.tabs[L].push(x(h,m+2*P))}else if(L=="tRNS")y.ctype==3?y.tabs[L]=g.readBytes(h,m,$):y.ctype==0?y.tabs[L]=x(h,m):y.ctype==2&&(y.tabs[L]=[x(h,m),x(h,m+2),x(h,m+4)]);else if(L=="gAMA")y.tabs[L]=g.readUint(h,m)/1e5;else if(L=="sRGB")y.tabs[L]=h[m];else if(L=="bKGD")y.ctype==0||y.ctype==4?y.tabs[L]=[x(h,m)]:y.ctype==2||y.ctype==6?y.tabs[L]=[x(h,m),x(h,m+2),x(h,m+4)]:y.ctype==3&&(y.tabs[L]=h[m]);else if(L=="IEND")break;m+=$,g.readUint(h,m),m+=4}var U;return C!=0&&((U=y.frames[y.frames.length-1]).data=n(y,E.slice(0,C),U.rect.width,U.rect.height)),y.data=n(y,_,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(f){const h=f.width,m=f.height;if(f.tabs.acTL==null)return[e(f.data,h,m,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const x=h*m*4,T=new Uint8Array(x),y=new Uint8Array(x),_=new Uint8Array(x);for(let v=0;v<f.frames.length;v++){const C=f.frames[v],A=C.rect.x,P=C.rect.y,S=C.rect.width,k=C.rect.height,b=e(C.data,S,k,f);if(v!=0)for(var E=0;E<x;E++)_[E]=T[E];if(C.blend==0?c(b,S,k,T,h,m,A,P,0):C.blend==1&&c(b,S,k,T,h,m,A,P,1),g.push(T.buffer.slice(0)),C.dispose!=0){if(C.dispose==1)c(y,S,k,T,h,m,A,P,0);else if(C.dispose==2)for(E=0;E<x;E++)T[E]=_[E]}}return g},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Sr,{_bin:e}=Sr,n=Sr._paeth;var r={table:function(){const S=new Uint32Array(256);for(let k=0;k<256;k++){let b=k;for(let N=0;N<8;N++)1&b?b=3988292384^b>>>1:b>>>=1;S[k]=b}return S}(),update(S,k,b,N){for(let O=0;O<N;O++)S=r.table[255&(S^k[b+O])]^S>>>8;return S},crc:(S,k,b)=>4294967295^r.update(4294967295,S,k,b)};function i(S,k,b,N){k[b]+=S[0]*N>>4,k[b+1]+=S[1]*N>>4,k[b+2]+=S[2]*N>>4,k[b+3]+=S[3]*N>>4}function s(S){return Math.max(0,Math.min(255,S))}function o(S,k){const b=S[0]-k[0],N=S[1]-k[1],O=S[2]-k[2],F=S[3]-k[3];return b*b+N*N+O*O+F*F}function a(S,k,b,N,O,F,U){U==null&&(U=1);const $=N.length,L=[];for(var M=0;M<$;M++){const z=N[M];L.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(M=0;M<$;M++){let z=4294967295;for(var q=0,V=0;V<$;V++){var W=o(L[M],L[V]);V!=M&&W<z&&(z=W,q=V)}}const Y=new Uint32Array(O.buffer),H=new Int16Array(k*b*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(M=0;M<G.length;M++)G[M]=255*((G[M]+.5)/16-.5);for(let z=0;z<b;z++)for(let se=0;se<k;se++){var j;M=4*(z*k+se),U!=2?j=[s(S[M]+H[M]),s(S[M+1]+H[M+1]),s(S[M+2]+H[M+2]),s(S[M+3]+H[M+3])]:(W=G[4*(3&z)+(3&se)],j=[s(S[M]+W),s(S[M+1]+W),s(S[M+2]+W),s(S[M+3]+W)]),q=0;let Te=16777215;for(V=0;V<$;V++){const Fe=o(j,L[V]);Fe<Te&&(Te=Fe,q=V)}const oe=L[q],De=[j[0]-oe[0],j[1]-oe[1],j[2]-oe[2],j[3]-oe[3]];U==1&&(se!=k-1&&i(De,H,M+4,7),z!=b-1&&(se!=0&&i(De,H,M+4*k-4,3),i(De,H,M+4*k,5),se!=k-1&&i(De,H,M+4*k+4,1))),F[M>>2]=q,Y[M>>2]=N[q]}}function l(S,k,b,N,O){O==null&&(O={});const{crc:F}=r,U=e.writeUint,$=e.writeUshort,L=e.writeASCII;let M=8;const q=S.frames.length>1;let V,W=!1,Y=33+(q?20:0);if(O.sRGB!=null&&(Y+=13),O.pHYs!=null&&(Y+=21),O.iCCP!=null&&(V=pako.deflate(O.iCCP),Y+=21+V.length+4),S.ctype==3){for(var H=S.plte.length,G=0;G<H;G++)S.plte[G]>>>24!=255&&(W=!0);Y+=8+3*H+4+(W?8+1*H+4:0)}for(var j=0;j<S.frames.length;j++)q&&(Y+=38),Y+=(oe=S.frames[j]).cimg.length+12,j!=0&&(Y+=4);Y+=12;const z=new Uint8Array(Y),se=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)z[G]=se[G];if(U(z,M,13),M+=4,L(z,M,"IHDR"),M+=4,U(z,M,k),M+=4,U(z,M,b),M+=4,z[M]=S.depth,M++,z[M]=S.ctype,M++,z[M]=0,M++,z[M]=0,M++,z[M]=0,M++,U(z,M,F(z,M-17,17)),M+=4,O.sRGB!=null&&(U(z,M,1),M+=4,L(z,M,"sRGB"),M+=4,z[M]=O.sRGB,M++,U(z,M,F(z,M-5,5)),M+=4),O.iCCP!=null){const De=13+V.length;U(z,M,De),M+=4,L(z,M,"iCCP"),M+=4,L(z,M,"ICC profile"),M+=11,M+=2,z.set(V,M),M+=V.length,U(z,M,F(z,M-(De+4),De+4)),M+=4}if(O.pHYs!=null&&(U(z,M,9),M+=4,L(z,M,"pHYs"),M+=4,U(z,M,O.pHYs[0]),M+=4,U(z,M,O.pHYs[1]),M+=4,z[M]=O.pHYs[2],M++,U(z,M,F(z,M-13,13)),M+=4),q&&(U(z,M,8),M+=4,L(z,M,"acTL"),M+=4,U(z,M,S.frames.length),M+=4,U(z,M,O.loop!=null?O.loop:0),M+=4,U(z,M,F(z,M-12,12)),M+=4),S.ctype==3){for(U(z,M,3*(H=S.plte.length)),M+=4,L(z,M,"PLTE"),M+=4,G=0;G<H;G++){const De=3*G,Fe=S.plte[G],rt=255&Fe,it=Fe>>>8&255,Ct=Fe>>>16&255;z[M+De+0]=rt,z[M+De+1]=it,z[M+De+2]=Ct}if(M+=3*H,U(z,M,F(z,M-3*H-4,3*H+4)),M+=4,W){for(U(z,M,H),M+=4,L(z,M,"tRNS"),M+=4,G=0;G<H;G++)z[M+G]=S.plte[G]>>>24&255;M+=H,U(z,M,F(z,M-H-4,H+4)),M+=4}}let Te=0;for(j=0;j<S.frames.length;j++){var oe=S.frames[j];q&&(U(z,M,26),M+=4,L(z,M,"fcTL"),M+=4,U(z,M,Te++),M+=4,U(z,M,oe.rect.width),M+=4,U(z,M,oe.rect.height),M+=4,U(z,M,oe.rect.x),M+=4,U(z,M,oe.rect.y),M+=4,$(z,M,N[j]),M+=2,$(z,M,1e3),M+=2,z[M]=oe.dispose,M++,z[M]=oe.blend,M++,U(z,M,F(z,M-30,30)),M+=4);const De=oe.cimg;U(z,M,(H=De.length)+(j==0?0:4)),M+=4;const Fe=M;L(z,M,j==0?"IDAT":"fdAT"),M+=4,j!=0&&(U(z,M,Te++),M+=4),z.set(De,M),M+=H,U(z,M,F(z,Fe,M-Fe)),M+=4}return U(z,M,0),M+=4,L(z,M,"IEND"),M+=4,U(z,M,F(z,M-4,4)),M+=4,z.buffer}function c(S,k,b){for(let N=0;N<S.frames.length;N++){const O=S.frames[N];O.rect.width;const F=O.rect.height,U=new Uint8Array(F*O.bpl+F);O.cimg=m(O.img,F,O.bpp,O.bpl,U,k,b)}}function d(S,k,b,N,O){const F=O[0],U=O[1],$=O[2],L=O[3],M=O[4],q=O[5];let V=6,W=8,Y=255;for(var H=0;H<S.length;H++){const pt=new Uint8Array(S[H]);for(var G=pt.length,j=0;j<G;j+=4)Y&=pt[j+3]}const z=Y!=255,se=function(He,Oe,mt,Ue,xe,ke){const je=[];for(var We=0;We<He.length;We++){const ct=new Uint8Array(He[We]),vt=new Uint32Array(ct.buffer);var Ve;let At=0,Mn=0,K=Oe,X=mt,J=Ue?1:0;if(We!=0){const ce=ke||Ue||We==1||je[We-2].dispose!=0?1:2;let ye=0,ge=1e9;for(let ae=0;ae<ce;ae++){var Lt=new Uint8Array(He[We-1-ae]);const pe=new Uint32Array(He[We-1-ae]);let ue=Oe,Ce=mt,st=-1,Ne=-1;for(let Ze=0;Ze<mt;Ze++)for(let Gt=0;Gt<Oe;Gt++)vt[Ye=Ze*Oe+Gt]!=pe[Ye]&&(Gt<ue&&(ue=Gt),Gt>st&&(st=Gt),Ze<Ce&&(Ce=Ze),Ze>Ne&&(Ne=Ze));st==-1&&(ue=Ce=st=Ne=0),xe&&((1&ue)==1&&ue--,(1&Ce)==1&&Ce--);const Ge=(st-ue+1)*(Ne-Ce+1);Ge<ge&&(ge=Ge,ye=ae,At=ue,Mn=Ce,K=st-ue+1,X=Ne-Ce+1)}Lt=new Uint8Array(He[We-1-ye]),ye==1&&(je[We-1].dispose=2),Ve=new Uint8Array(K*X*4),t(Lt,Oe,mt,Ve,K,X,-At,-Mn,0),J=t(ct,Oe,mt,Ve,K,X,-At,-Mn,3)?1:0,J==1?h(ct,Oe,mt,Ve,{x:At,y:Mn,width:K,height:X}):t(ct,Oe,mt,Ve,K,X,-At,-Mn,0)}else Ve=ct.slice(0);je.push({rect:{x:At,y:Mn,width:K,height:X},img:Ve,blend:J,dispose:0})}if(Ue)for(We=0;We<je.length;We++){if((we=je[We]).blend==1)continue;const ct=we.rect,vt=je[We-1].rect,At=Math.min(ct.x,vt.x),Mn=Math.min(ct.y,vt.y),K={x:At,y:Mn,width:Math.max(ct.x+ct.width,vt.x+vt.width)-At,height:Math.max(ct.y+ct.height,vt.y+vt.height)-Mn};je[We-1].dispose=1,We-1!=0&&f(He,Oe,mt,je,We-1,K,xe),f(He,Oe,mt,je,We,K,xe)}let Jt=0;if(He.length!=1)for(var Ye=0;Ye<je.length;Ye++){var we;Jt+=(we=je[Ye]).rect.width*we.rect.height}return je}(S,k,b,F,U,$),Te={},oe=[],De=[];if(N!=0){const pt=[];for(j=0;j<se.length;j++)pt.push(se[j].img.buffer);const He=function(xe){let ke=0;for(var je=0;je<xe.length;je++)ke+=xe[je].byteLength;const We=new Uint8Array(ke);let Ve=0;for(je=0;je<xe.length;je++){const Lt=new Uint8Array(xe[je]),Jt=Lt.length;for(let Ye=0;Ye<Jt;Ye+=4){let we=Lt[Ye],ct=Lt[Ye+1],vt=Lt[Ye+2];const At=Lt[Ye+3];At==0&&(we=ct=vt=0),We[Ve+Ye]=we,We[Ve+Ye+1]=ct,We[Ve+Ye+2]=vt,We[Ve+Ye+3]=At}Ve+=Jt}return We.buffer}(pt),Oe=x(He,N);for(j=0;j<Oe.plte.length;j++)oe.push(Oe.plte[j].est.rgba);let mt=0;for(j=0;j<se.length;j++){const Ue=(rt=se[j]).img.length;var Fe=new Uint8Array(Oe.inds.buffer,mt>>2,Ue>>2);De.push(Fe);const xe=new Uint8Array(Oe.abuf,mt,Ue);q&&a(rt.img,rt.rect.width,rt.rect.height,oe,xe,Fe),rt.img.set(xe),mt+=Ue}}else for(H=0;H<se.length;H++){var rt=se[H];const pt=new Uint32Array(rt.img.buffer);var it=rt.rect.width;for(G=pt.length,Fe=new Uint8Array(G),De.push(Fe),j=0;j<G;j++){const He=pt[j];if(j!=0&&He==pt[j-1])Fe[j]=Fe[j-1];else if(j>it&&He==pt[j-it])Fe[j]=Fe[j-it];else{let Oe=Te[He];if(Oe==null&&(Te[He]=Oe=oe.length,oe.push(He),oe.length>=300))break;Fe[j]=Oe}}}const Ct=oe.length;for(Ct<=256&&M==0&&(W=Ct<=2?1:Ct<=4?2:Ct<=16?4:8,W=Math.max(W,L)),H=0;H<se.length;H++){(rt=se[H]).rect.x,rt.rect.y,it=rt.rect.width;const pt=rt.rect.height;let He=rt.img;new Uint32Array(He.buffer);let Oe=4*it,mt=4;if(Ct<=256&&M==0){Oe=Math.ceil(W*it/8);var ut=new Uint8Array(Oe*pt);const Ue=De[H];for(let xe=0;xe<pt;xe++){j=xe*Oe;const ke=xe*it;if(W==8)for(var $e=0;$e<it;$e++)ut[j+$e]=Ue[ke+$e];else if(W==4)for($e=0;$e<it;$e++)ut[j+($e>>1)]|=Ue[ke+$e]<<4-4*(1&$e);else if(W==2)for($e=0;$e<it;$e++)ut[j+($e>>2)]|=Ue[ke+$e]<<6-2*(3&$e);else if(W==1)for($e=0;$e<it;$e++)ut[j+($e>>3)]|=Ue[ke+$e]<<7-1*(7&$e)}He=ut,V=3,mt=1}else if(z==0&&se.length==1){ut=new Uint8Array(it*pt*3);const Ue=it*pt;for(j=0;j<Ue;j++){const xe=3*j,ke=4*j;ut[xe]=He[ke],ut[xe+1]=He[ke+1],ut[xe+2]=He[ke+2]}He=ut,V=2,mt=3,Oe=3*it}rt.img=He,rt.bpl=Oe,rt.bpp=mt}return{ctype:V,depth:W,plte:oe,frames:se}}function f(S,k,b,N,O,F,U){const $=Uint8Array,L=Uint32Array,M=new $(S[O-1]),q=new L(S[O-1]),V=O+1<S.length?new $(S[O+1]):null,W=new $(S[O]),Y=new L(W.buffer);let H=k,G=b,j=-1,z=-1;for(let Te=0;Te<F.height;Te++)for(let oe=0;oe<F.width;oe++){const De=F.x+oe,Fe=F.y+Te,rt=Fe*k+De,it=Y[rt];it==0||N[O-1].dispose==0&&q[rt]==it&&(V==null||V[4*rt+3]!=0)||(De<H&&(H=De),De>j&&(j=De),Fe<G&&(G=Fe),Fe>z&&(z=Fe))}j==-1&&(H=G=j=z=0),U&&((1&H)==1&&H--,(1&G)==1&&G--),F={x:H,y:G,width:j-H+1,height:z-G+1};const se=N[O];se.rect=F,se.blend=1,se.img=new Uint8Array(F.width*F.height*4),N[O-1].dispose==0?(t(M,k,b,se.img,F.width,F.height,-F.x,-F.y,0),h(W,k,b,se.img,F)):t(W,k,b,se.img,F.width,F.height,-F.x,-F.y,0)}function h(S,k,b,N,O){t(S,k,b,N,O.width,O.height,-O.x,-O.y,2)}function m(S,k,b,N,O,F,U){const $=[];let L,M=[0,1,2,3,4];F!=-1?M=[F]:(k*N>5e5||b==1)&&(M=[0]),U&&(L={level:0});const q=sV;for(var V=0;V<M.length;V++){for(let H=0;H<k;H++)g(O,S,H,N,b,M[V]);$.push(q.deflate(O,L))}let W,Y=1e9;for(V=0;V<$.length;V++)$[V].length<Y&&(W=V,Y=$[V].length);return $[W]}function g(S,k,b,N,O,F){const U=b*N;let $=U+b;if(S[$]=F,$++,F==0)if(N<500)for(var L=0;L<N;L++)S[$+L]=k[U+L];else S.set(new Uint8Array(k.buffer,U,N),$);else if(F==1){for(L=0;L<O;L++)S[$+L]=k[U+L];for(L=O;L<N;L++)S[$+L]=k[U+L]-k[U+L-O]+256&255}else if(b==0){for(L=0;L<O;L++)S[$+L]=k[U+L];if(F==2)for(L=O;L<N;L++)S[$+L]=k[U+L];if(F==3)for(L=O;L<N;L++)S[$+L]=k[U+L]-(k[U+L-O]>>1)+256&255;if(F==4)for(L=O;L<N;L++)S[$+L]=k[U+L]-n(k[U+L-O],0,0)+256&255}else{if(F==2)for(L=0;L<N;L++)S[$+L]=k[U+L]+256-k[U+L-N]&255;if(F==3){for(L=0;L<O;L++)S[$+L]=k[U+L]+256-(k[U+L-N]>>1)&255;for(L=O;L<N;L++)S[$+L]=k[U+L]+256-(k[U+L-N]+k[U+L-O]>>1)&255}if(F==4){for(L=0;L<O;L++)S[$+L]=k[U+L]+256-n(0,k[U+L-N],0)&255;for(L=O;L<N;L++)S[$+L]=k[U+L]+256-n(k[U+L-O],k[U+L-N],k[U+L-O-N])&255}}}function x(S,k){const b=new Uint8Array(S),N=b.slice(0),O=new Uint32Array(N.buffer),F=T(N,k),U=F[0],$=F[1],L=b.length,M=new Uint8Array(L>>2);let q;if(b.length<2e7)for(var V=0;V<L;V+=4)q=y(U,W=b[V]*(1/255),Y=b[V+1]*(1/255),H=b[V+2]*(1/255),G=b[V+3]*(1/255)),M[V>>2]=q.ind,O[V>>2]=q.est.rgba;else for(V=0;V<L;V+=4){var W=b[V]*.00392156862745098,Y=b[V+1]*(1/255),H=b[V+2]*(1/255),G=b[V+3]*(1/255);for(q=U;q.left;)q=_(q.est,W,Y,H,G)<=0?q.left:q.right;M[V>>2]=q.ind,O[V>>2]=q.est.rgba}return{abuf:N.buffer,inds:M,plte:$}}function T(S,k,b){b==null&&(b=1e-4);const N=new Uint32Array(S.buffer),O={i0:0,i1:S.length,bst:null,est:null,tdst:0,left:null,right:null};O.bst=C(S,O.i0,O.i1),O.est=A(O.bst);const F=[O];for(;F.length<k;){let $=0,L=0;for(var U=0;U<F.length;U++)F[U].est.L>$&&($=F[U].est.L,L=U);if($<b)break;const M=F[L],q=E(S,N,M.i0,M.i1,M.est.e,M.est.eMq255);if(M.i0>=q||M.i1<=q){M.est.L=0;continue}const V={i0:M.i0,i1:q,bst:null,est:null,tdst:0,left:null,right:null};V.bst=C(S,V.i0,V.i1),V.est=A(V.bst);const W={i0:q,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};for(W.bst={R:[],m:[],N:M.bst.N-V.bst.N},U=0;U<16;U++)W.bst.R[U]=M.bst.R[U]-V.bst.R[U];for(U=0;U<4;U++)W.bst.m[U]=M.bst.m[U]-V.bst.m[U];W.est=A(W.bst),M.left=V,M.right=W,F[L]=V,F.push(W)}for(F.sort(($,L)=>L.bst.N-$.bst.N),U=0;U<F.length;U++)F[U].ind=U;return[O,F]}function y(S,k,b,N,O){if(S.left==null)return S.tdst=function(V,W,Y,H,G){const j=W-V[0],z=Y-V[1],se=H-V[2],Te=G-V[3];return j*j+z*z+se*se+Te*Te}(S.est.q,k,b,N,O),S;const F=_(S.est,k,b,N,O);let U=S.left,$=S.right;F>0&&(U=S.right,$=S.left);const L=y(U,k,b,N,O);if(L.tdst<=F*F)return L;const M=y($,k,b,N,O);return M.tdst<L.tdst?M:L}function _(S,k,b,N,O){const{e:F}=S;return F[0]*k+F[1]*b+F[2]*N+F[3]*O-S.eMq}function E(S,k,b,N,O,F){for(N-=4;b<N;){for(;v(S,b,O)<=F;)b+=4;for(;v(S,N,O)>F;)N-=4;if(b>=N)break;const U=k[b>>2];k[b>>2]=k[N>>2],k[N>>2]=U,b+=4,N-=4}for(;v(S,b,O)>F;)b-=4;return b+4}function v(S,k,b){return S[k]*b[0]+S[k+1]*b[1]+S[k+2]*b[2]+S[k+3]*b[3]}function C(S,k,b){const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,0,0,0],F=b-k>>2;for(let U=k;U<b;U+=4){const $=S[U]*.00392156862745098,L=S[U+1]*(1/255),M=S[U+2]*(1/255),q=S[U+3]*(1/255);O[0]+=$,O[1]+=L,O[2]+=M,O[3]+=q,N[0]+=$*$,N[1]+=$*L,N[2]+=$*M,N[3]+=$*q,N[5]+=L*L,N[6]+=L*M,N[7]+=L*q,N[10]+=M*M,N[11]+=M*q,N[15]+=q*q}return N[4]=N[1],N[8]=N[2],N[9]=N[6],N[12]=N[3],N[13]=N[7],N[14]=N[11],{R:N,m:O,N:F}}function A(S){const{R:k}=S,{m:b}=S,{N}=S,O=b[0],F=b[1],U=b[2],$=b[3],L=N==0?0:1/N,M=[k[0]-O*O*L,k[1]-O*F*L,k[2]-O*U*L,k[3]-O*$*L,k[4]-F*O*L,k[5]-F*F*L,k[6]-F*U*L,k[7]-F*$*L,k[8]-U*O*L,k[9]-U*F*L,k[10]-U*U*L,k[11]-U*$*L,k[12]-$*O*L,k[13]-$*F*L,k[14]-$*U*L,k[15]-$*$*L],q=M,V=P;let W=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,H=0;if(N!=0)for(let j=0;j<16&&(W=V.multVec(q,W),H=Math.sqrt(V.dot(W,W)),W=V.sml(1/H,W),!(j!=0&&Math.abs(H-Y)<1e-9));j++)Y=H;const G=[O*L,F*L,U*L,$*L];return{Cov:M,q:G,e:W,L:Y,eMq255:V.dot(V.sml(255,G),W),eMq:V.dot(W,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var P={multVec:(S,k)=>[S[0]*k[0]+S[1]*k[1]+S[2]*k[2]+S[3]*k[3],S[4]*k[0]+S[5]*k[1]+S[6]*k[2]+S[7]*k[3],S[8]*k[0]+S[9]*k[1]+S[10]*k[2]+S[11]*k[3],S[12]*k[0]+S[13]*k[1]+S[14]*k[2]+S[15]*k[3]],dot:(S,k)=>S[0]*k[0]+S[1]*k[1]+S[2]*k[2]+S[3]*k[3],sml:(S,k)=>[S*k[0],S*k[1],S*k[2],S*k[3]]};Sr.encode=function(k,b,N,O,F,U,$){O==null&&(O=0),$==null&&($=!1);const L=d(k,b,N,O,[!1,!1,!1,0,$,!1]);return c(L,-1),l(L,b,N,F,U)},Sr.encodeLL=function(k,b,N,O,F,U,$,L){const M={ctype:0+(O==1?0:2)+(F==0?0:4),depth:U,frames:[]},q=(O+F)*U,V=q*b;for(let W=0;W<k.length;W++)M.frames.push({rect:{x:0,y:0,width:b,height:N},img:new Uint8Array(k[W]),blend:0,dispose:1,bpp:Math.ceil(q/8),bpl:Math.ceil(V/8)});return c(M,0,!0),l(M,b,N,$,L)},Sr.encode.compress=d,Sr.encode.dither=a,Sr.quantize=x,Sr.quantize.getKDtree=T,Sr.quantize.getNearest=y})();const mA={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,d=new ArrayBuffer(c),f=new DataView(d),h=1<<20;let m,g,x,T,y=h,_=0,E=0,v=0;function C(S){f.setUint16(E,S,!0),E+=2}function A(S){f.setUint32(E,S,!0),E+=4}function P(S){E+=S}C(19778),A(c),P(4),A(122),A(108),A(n),A(-r>>>0),C(1),C(32),A(3),A(l),A(2835),A(2835),P(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),function S(){for(;_<r&&y>0;){for(T=122+_*a,m=0;m<i;)y--,g=o[v++],x=g>>>24,f.setUint32(T+m,g<<8|x),m+=4;_++}v<o.length?(y=h,setTimeout(S,mA._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Wn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},oV={[Wn.CHROME]:16384,[Wn.FIREFOX]:11180,[Wn.DESKTOP_SAFARI]:16384,[Wn.IE]:8192,[Wn.IOS]:4096,[Wn.ETC]:8192};const vy=typeof window<"u",gA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,bh=vy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aV=(vy||gA)&&(bh&&bh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),vA=(vy||gA)&&(bh&&bh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function yy(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function yA(t){return new Promise((e,n)=>{const r=new vA;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function _A(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Js(){if(Js.cachedResult!==void 0)return Js.cachedResult;let t=Wn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Wn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Wn.IOS:/Safari/i.test(e)?t=Wn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Wn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Wn.IE),Js.cachedResult=t,Js.cachedResult}function xA(t,e){const n=Js(),r=oV[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function Wf(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function wA(t,e){const{width:n,height:r}=xA(t.width,t.height),[i,s]=Wf(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Cd(){return Cd.cachedResult!==void 0||(Cd.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Cd.cachedResult}function kh(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=wA(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(d){try{throw d}catch(f){return r(f)}};try{let d;return yA(t).then(function(f){try{return d=f,_A(d).then(function(h){try{return i=h,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return c(m)}},c)}catch(h){return c(h)}},c)}catch(d){c(d)}}catch(d){return r(d)}};try{if(Cd()||[Wn.DESKTOP_SAFARI,Wn.MOBILE_SAFARI].includes(Js()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Ch(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,h,m;return f=t.getContext("2d"),{data:h}=f.getImageData(0,0,t.width,t.height),m=Sr.encode([h.buffer],t.width,t.height,4096*i),a=new Blob([m],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var c=f;if(e==="image/bmp")return new Promise(h=>mA.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let h=function(){return f.call(this)};var d=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(m){try{return a=m,a.name=n,a.lastModified=r,h.call(this)}catch(g){return o(g)}}).bind(this),o);{let m;return m=t.toDataURL(e,i),yy(m,n,r).then((function(g){try{return a=g,h.call(this)}catch(x){return o(x)}}).bind(this),o)}}}function l(){return s(a)}})}function zr(t){t.width=0,t.height=0}function ia(){return new Promise(function(t,e){let n,r,i,s;return ia.cachedResult!==void 0?t(ia.cachedResult):yy("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,kh(n).then(function(a){try{return r=a[1],Ch(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,zr(r),kh(i).then(function(c){try{return s=c[0],ia.cachedResult=s.width===1&&s.height===2,t(ia.cachedResult)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function EA(t){return new Promise((e,n)=>{const r=new vA;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const d=s.getUint16(a,c);a+=2;for(let f=0;f<d;f++)if(s.getUint16(a+12*f,c)==274)return e(s.getUint16(a+12*f+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function TA(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=Wf(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),zr(t)),o}function SA(t,e){const{width:n}=t,{height:r}=t,[i,s]=Wf(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),zr(t),i}function H2(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,d,f,h,m,g,x,T,y,_,E,v,C,A,P,S;function k(N=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=N,e.onProgress(Math.min(s,100))}function b(N){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(N,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,k(),kh(t,e).then((function(N){try{return[,l]=N,k(),c=TA(l,e),k(),new Promise(function(O,F){var U;if(!(U=e.exifOrientation))return EA(t).then((function(L){try{return U=L,$.call(this)}catch(M){return F(M)}}).bind(this),F);function $(){return O(U)}return $.call(this)}).then((function(O){try{return d=O,k(),ia().then((function(F){try{return f=F?c:SA(c,d),k(),h=e.initialQuality||1,m=e.fileType||t.type,Ch(f,m,t.name,t.lastModified,h).then((function(U){try{{let q=function(){if(o--&&(E>a||E>y)){let W,Y;return W=S?.95*P.width:P.width,Y=S?.95*P.height:P.height,[C,A]=Wf(W,Y),A.drawImage(P,0,0,W,Y),h*=m==="image/png"?.85:.95,Ch(C,m,t.name,t.lastModified,h).then(function(H){try{return v=H,zr(P),P=C,E=v.size,b(Math.min(99,Math.floor((_-E)/(_-a)*100))),q}catch(G){return i(G)}},i)}return[1]},V=function(){return zr(P),zr(C),zr(c),zr(f),zr(l),b(100),r(v)};var L=q,M=V;if(g=U,k(),x=g.size>a,T=g.size>t.size,!x&&!T)return b(100),r(g);var $;return y=t.size,_=g.size,E=_,P=f,S=!e.alwaysKeepResolution&&x,($=(function(W){for(;W;){if(W.then)return void W.then($,i);try{if(W.pop){if(W.length)return W.pop()?V.call(this):W;W=q}else W=W.call(this)}catch(Y){return i(Y)}}}).bind(this))(q)}}catch(q){return i(q)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch(O){return i(O)}}).bind(this),i)})}const lV=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Gp;function uV(t,e){return new Promise((n,r)=>{Gp||(Gp=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(lV));const i=new Worker(Gp);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function wn(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof aV))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return H2(t,i).then((function(m){try{return s=m,h.call(this)}catch(g){return r(g)}}).bind(this),r);var d=(function(){try{return h.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return H2(t,i).then(function(g){try{return s=g,d()}catch(x){return r(x)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",uV(t,i).then(function(m){try{return s=m,d()}catch{return f()}},f)}catch{f()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=pA(t,s))}catch{}return n(s)}})}wn.getDataUrlFromFile=yA,wn.getFilefromDataUrl=yy,wn.loadImage=_A,wn.drawImageInCanvas=wA,wn.drawFileInCanvas=kh,wn.canvasToFile=Ch,wn.getExifOrientation=EA,wn.handleMaxWidthOrHeight=TA,wn.followExifOrientation=SA,wn.cleanupCanvasMemory=zr,wn.isAutoOrientationInBrowser=ia,wn.approximateBelowMaximumCanvasSizeOfBrowser=xA,wn.copyExifWithoutOrientation=pA,wn.getBrowserName=Js,wn.version="2.0.2";async function cV(){const t=kr();let e=await bo(St(ze,"users",t));return e=e.data(),e}let IA={type:"application/octet-stream"};async function dV({request:t}){const e=await t.formData(),n=e.get("name"),r=e.get("username").toLowerCase(),i=e.get("usernameOg").toLowerCase(),s=e.get("bio"),o=IA,a=e.get("remove"),l=await wn(o,{maxSizeMB:1,maxWidthOrHeight:640}).catch(d=>console.log(d));if(r!==i){const d=ii(wr(ze,"users"),ti("username","==",r));if((await Is(d)).docs.length)return{message:"username is alerady taken",succeed:!1}}if(r!==i&&o.type!="application/octet-stream"&&!a){const d=Id(Rd,"gs://fir-3c5fd.appspot.com/"+i);Mg(d).then(()=>{console.log("file deleted")}).catch(f=>{console.log(f)})}const c=Id(Rd,r);if(o.type!="application/octet-stream"&&!a){const d=await pU(c,l);await mU(d.ref).then(async f=>{await Dr(St(ze,"users",Le.currentUser.uid),{photoURL:f,name:n,bio:s,username:r})})}else if(a){const d=Id(Rd,"gs://fir-3c5fd.appspot.com/"+i);Mg(d).then(()=>{console.log("file deleted")}).catch(f=>{console.log(f)}),await Dr(St(ze,"users",Le.currentUser.uid),{photoURL:"",name:n,bio:s,username:r})}else await Dr(St(ze,"users",Le.currentUser.uid),{name:n,bio:s,username:r});throw await iS(Le.currentUser,{displayName:n}),Fr("/quotee/profile")}function hV(){const t=$a(),[e,n]=Q.useState(""),r=ks(),i=Zh(),[s,o]=Q.useState({name:i.name,username:i.username,bio:i.bio}),[a,l]=Q.useState({show:null,row:{type:"application/octet-stream"}});IA=a.row;function c(d){o(f=>{let h=d.target.name;return{...f,[h]:d.target.value}})}return R.jsxs("div",{className:"flex flex-col text-quotee-600 justify-center items-center gap-5 w-full mt-5  px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("div",{className:"w-[100px] h-[100px] sm:w-[125px] sm:h-[125px] md:w-[150px] md:h-[150px] overflow-hidden rounded-full bg-quotee-800",children:R.jsx("img",{src:e?Fa:a.show?a.show:i.photoURL?i.photoURL:Fa,className:" object-cover w-full h-full"})}),R.jsxs(Cs,{method:"post",encType:"multipart/form-data",className:"flex flex-col justify-between gap-3 w-full ",children:[R.jsxs("div",{className:"flex justify-center gap-1 flex-col",children:[R.jsx(tV,{setImg:l,setRemove:n,remove:e,url:i.photoURL,img:a.show}),R.jsxs("label",{onClick:()=>n("remove"),className:"self-center text-red-400 font-semibold cursor-pointer "+(e||!i.photoURL&&!a.show?"hidden":""),children:["Remove profile picture",R.jsx("input",{type:"text",className:"hidden",id:"remove",name:"remove",value:e,onChange:()=>{}})]})]}),!(t!=null&&t.succeed)&&t!==void 0?R.jsx("p",{className:"text-center  text-quotee-50 bg-red-500 py-2 rounded",children:t.message}):"",R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("label",{htmlFor:"name",children:"Name"}),R.jsx(nn,{id:"name",onChange:c,placeholder:"name",value:s.name,type:"text",name:"name"})]}),R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("label",{htmlFor:"username",children:"Username"}),R.jsx(nn,{id:"username",pattern:"[a-zA-Z0-9_]{3,20}",title:"username can only contain letters,numbers and ( _ )",onChange:c,placeholder:"username",value:s.username,type:"text",name:"username"})]}),R.jsx("input",{id:"usernameOg",value:i.username,type:"text",onChange:()=>{},name:"usernameOg",className:"hidden"}),R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("label",{htmlFor:"bio",children:"Your Bio"}),R.jsx("textarea",{className:"focus:outline-quotee-200 resize-none px-5 w-full py-2 rounded bg-quotee-100 placeholder:text-quotee-300",name:"bio",onChange:c,rows:"8",id:"bio",placeholder:"bio",value:s.bio})]}),R.jsxs("div",{className:"flex gap-2 flex-row-reverse",children:[R.jsx("button",{className:r.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:r.state==="submitting",children:r.state==="submitting"?"Saving Cganges ...":"Save Changes"}),R.jsx(Jn,{to:-1,className:" text-quotee-50 px-4 py-2  rounded bg-red-500  hover:bg-red-700 transition-all ease-in-out duration-150",type:"button",children:"Discard Changes"})]})]})]})}async function fV({request:t}){const e=await t.formData(),n=e.get("oldPass"),r=e.get("newPass"),i=e.get("reNewPass");let s=!0,o="faild";if(r!==i)return{message:"Password did not match",succeed:!1};const a=zi.credential(Le.currentUser.email,n);return await e1(Le.currentUser,a).then(async()=>{await FN(Le.currentUser,r).then(async()=>{await Dr(St(ze,"users",Le.currentUser.uid),{password:r})}).catch(l=>{console.log(l),s=!1})}).catch(l=>{console.log(l),s=!1,o="Incorrect old password"}),s?Fr("/quotee/profile"):{message:o,succeed:!1}}function pV(){const t=$a(),e=ks();return R.jsxs("div",{className:"w-full flex text-quotee-600 flex-col justify-evenly h-[90vh] items-center px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("h1",{className:"text-3xl font-semibold",children:"Change Password"}),R.jsxs(Cs,{method:"post",className:"w-full flex flex-col gap-5 justify-center",children:[!(t!=null&&t.succeed)&&t!==void 0&&R.jsx("p",{className:"text-center text-white bg-red-500 py-2 rounded",children:t==null?void 0:t.message}),R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"oldPass",children:[R.jsx("span",{className:"text-md font-semibold",children:"Old password"}),R.jsx(nn,{id:"oldPass",name:"oldPass",require:!0,type:"password",placeholder:"Old password"})]}),R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"newPass",children:[R.jsx("span",{className:"text-md font-semibold",children:"New password"}),R.jsx(nn,{id:"newPass",name:"newPass",require:!0,type:"password",min:6,placeholder:"New password"})]}),R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"reNewPass",children:[R.jsx("span",{className:"text-md font-semibold",children:"Enter new password again"}),R.jsx(nn,{id:"reNewPass",name:"reNewPass",min:6,require:!0,type:"password",placeholder:"Enter new password again"})]}),R.jsx("button",{className:e.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:e.state==="submitting",children:e.state==="submitting"?"Changing":"Change"}),R.jsxs("p",{className:"text-center",children:["Can't remember password ?"," ",R.jsx(Jn,{className:"underline font-semibold transition-all ease-in-out duration-150",to:"/recovery",children:"Forgot password"})]})]})]})}async function W2({request:t}){const e=await t.formData(),n=e.get("newEmail"),r=e.get("pass");let i=!0,s="";const o=zi.credential(Le.currentUser.email,r);return await e1(Le.currentUser,o).then(async()=>{await LN(Le.currentUser,n).then(async()=>{await Dr(St(ze,"users",Le.currentUser.uid),{email:n})}).catch(a=>{console.log(a),i=!1,s="Email is already in use"})}).catch(a=>{console.log(a),i=!1,s="Incorrect password"}),i?Fr("/quotee/profile"):{message:s,succeed:!1}}function mV(){const t=$a(),e=ks();return R.jsxs("div",{className:"w-full text-quotee-600 flex flex-col justify-evenly h-[90vh] items-center px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("h1",{className:"text-3xl font-semibold",children:"Change Email"}),R.jsxs(Cs,{method:"post",className:"w-full flex flex-col gap-5 justify-center",children:[!(t!=null&&t.succeed)&&t!==void 0&&R.jsx("p",{className:"text-center text-white bg-red-500 py-2 rounded",children:t==null?void 0:t.message}),R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"newEmail",children:[R.jsx("span",{className:"text-md font-semibold",children:"New Email"}),R.jsx(nn,{id:"newEmail",name:"newEmail",require:!0,type:"email",placeholder:"newemail@example.com"})]}),R.jsxs("label",{className:"flex flex-col gap-2",htmlFor:"pass",children:[R.jsx("span",{className:"text-md font-semibold",children:"Enter password to pursuit"}),R.jsx(nn,{id:"pass",name:"pass",require:!0,type:"password",min:6,placeholder:"Password"})]}),R.jsx("button",{className:e.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:e.state==="submitting",children:e.state==="submitting"?"Changing":"Change"})]})]})}var gV="Expected a function",Y2=0/0,vV="[object Symbol]",yV=/^\s+|\s+$/g,_V=/^[-+]0x[0-9a-f]+$/i,xV=/^0b[01]+$/i,wV=/^0o[0-7]+$/i,EV=parseInt,TV=typeof be=="object"&&be&&be.Object===Object&&be,SV=typeof self=="object"&&self&&self.Object===Object&&self,IV=TV||SV||Function("return this")(),RV=Object.prototype,AV=RV.toString,bV=Math.max,kV=Math.min,Kp=function(){return IV.Date.now()};function CV(t,e,n){var r,i,s,o,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(gV);e=G2(e)||0,Hg(n)&&(d=!!n.leading,f="maxWait"in n,s=f?bV(G2(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(A){var P=r,S=i;return r=i=void 0,c=A,o=t.apply(S,P),o}function g(A){return c=A,a=setTimeout(y,e),d?m(A):o}function x(A){var P=A-l,S=A-c,k=e-P;return f?kV(k,s-S):k}function T(A){var P=A-l,S=A-c;return l===void 0||P>=e||P<0||f&&S>=s}function y(){var A=Kp();if(T(A))return _(A);a=setTimeout(y,x(A))}function _(A){return a=void 0,h&&r?m(A):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function v(){return a===void 0?o:_(Kp())}function C(){var A=Kp(),P=T(A);if(r=arguments,i=this,l=A,P){if(a===void 0)return g(l);if(f)return a=setTimeout(y,e),m(l)}return a===void 0&&(a=setTimeout(y,e)),o}return C.cancel=E,C.flush=v,C}function Hg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function PV(t){return!!t&&typeof t=="object"}function DV(t){return typeof t=="symbol"||PV(t)&&AV.call(t)==vV}function G2(t){if(typeof t=="number")return t;if(DV(t))return Y2;if(Hg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(yV,"");var n=xV.test(t);return n||wV.test(t)?EV(t.slice(2),n?2:8):_V.test(t)?Y2:+t}var NV=CV;const MV=ja(NV);function OV(){const[t,e]=Q.useState(""),[n,r]=Q.useState([]),[i,s]=Q.useState(!1),o=MV(l,500),a=d=>{const f=d.target.value;e(f),o(f.toLowerCase())};async function l(d){s(!0),await Is(wr(ze,"users")).then(f=>{const h=[];f.forEach(m=>{const g=m.data();g.id=m.id;const x=g.username,T=g.name.toLowerCase();d&&(x.substring(0,d.length)==d||T.substring(0,d.length)==d)&&h.push(g)}),h.length==0&&s(!1),r(h)}).catch(f=>console.log(f))}const c=n.map((d,f)=>R.jsx(sA,{name:d.name,username:d.username,photoURL:d.photoURL,id:d.id,setProfileData:()=>{},setQuotesData:()=>{}},f));return R.jsxs("div",{className:"w-full text-quotee-600 gap-5 flex-col flex mt-5 justify-center items-center px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsxs("div",{className:"flex gap-2 w-full justify-center items-center ",children:[R.jsx("input",{className:" focus:outline-quotee-200 w-full px-5 py-2 rounded  bg-quotee-100 placeholder:text-quotee-300",id:"search",name:"search",value:t,onChange:a,placeholder:"Search",type:"text",autoComplete:"off"}),R.jsx("button",{onClick:()=>{l(t)},className:"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]}),R.jsx("div",{className:"w-full flex flex-col gap-2",children:c.length!=0?c:t&&!i?R.jsx("div",{className:"font-semibold text-center flex items-center justify-center text-lg h-[600px]",children:"No users found"},1):i?"":R.jsx("div",{className:"font-semibold text-center flex items-center justify-center text-lg h-[600px]",children:"Results will show up here"},2)},2003)]})}const RA=kr();async function LV({params:t}){const e=ii(wr(ze,"users"),ti("username","==",t.id));async function n(){let r="";await Is(e).then(o=>{o.forEach(a=>{r=a.data(),r.id=a.id})}).catch(o=>console.log(o)),RA==r.id&&Fr("/quotee/profile");const i=[],s=ii(wr(ze,"quotes"),ti("quotee","==",r.id),cc("createdAt","desc"));return await Is(s).then(o=>{o.forEach(a=>{let l=a.data();l.id=a.id,i.push(l)})}).catch(o=>console.log(o)),{details:r,quotesData:i}}return cT({twoData:n()})}function FV(){const{twoData:t}=Zh(),e=ju(),[n,r]=Q.useState({}),[i,s]=Q.useState([]),o=Bi();if(o.state==null)return R.jsx(_T,{to:"/quotee",replace:!0});const a=m=>{r({name:"",username:"",password:"",email:"",bio:"",following:[],followers:[],quotes:[]}),s([])};Q.useEffect(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}),[]);function l(){const m=n.followers.includes(Le.currentUser.uid),g=i.map((x,T)=>R.jsx(gy,{name:n.name,username:n.username,photoURL:n.photoURL,quote:x.quote,quotee:x.quoteBy,time:x.createdAt,verified:n==null?void 0:n.verified},T));return R.jsxs("div",{className:"flex text-quotee-600 flex-col gap-5 w-full mt-5  px-5 py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("div",{className:"flex justify-between mb-5 rounded-md",children:R.jsxs("div",{className:" flex gap-1 justify-between items-center",children:[R.jsx("h2",{className:"font-bold text-lg",children:n.name}),(n==null?void 0:n.verified)&&R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 48 48",children:[R.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"#4dd0e1"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659l-6.083-6.084c-0.879-0.878-0.879-2.303,0-3.182 c0.878-0.879,2.304-0.879,3.182,0l6.083,6.084c0.879,0.878,0.879,2.303,0,3.182C23.643,30.47,23.067,30.69,22.491,30.69z"}),R.jsx("path",{fill:"#fff",d:"M22.491,30.69c-0.576,0-1.152-0.22-1.591-0.659c-0.879-0.878-0.879-2.303,0-3.182l9.539-9.539 c0.878-0.879,2.304-0.879,3.182,0c0.879,0.878,0.879,2.303,0,3.182l-9.539,9.539C23.643,30.47,23.067,30.69,22.491,30.69z"})]})]})}),R.jsxs("div",{className:"flex justify-around  flex-col md:flex-row items-center gap-5",children:[R.jsxs("div",{className:"flex flex-col  items-center gap-5",children:[R.jsx("div",{className:"w-[110px] h-[110px] sm:w-[125px] sm:h-[125px] md:w-[150px] md:h-[150px] rounded-full overflow-hidden bg-quotee-800",children:R.jsx("img",{src:n.photoURL?n.photoURL:Fa,className:" object-cover w-full h-full"})}),R.jsx("h3",{className:"text-md sm:text-lg",children:n.username})]}),R.jsxs("div",{className:" flex flex-col gap-10",children:[R.jsxs("div",{className:"flex justify-between items-center gap-10 text-md sm:text-lg font-semibold",children:[R.jsx(Rh,{title:"folllowers",data:n.followers,message:"No followers yet",setProfileData:r,setQuotesData:s}),R.jsx(Rh,{title:"following",data:n.following,message:"Not following anyone yet",setProfileData:r,setQuotesData:s}),R.jsxs("div",{className:"flex items-center flex-col",children:[R.jsx("h2",{className:"font-bold",children:n.quotes.length}),R.jsx("h2",{children:"quotes"})]})]}),R.jsx("p",{className:" whitespace-pre-wrap",children:n.bio})]})]}),R.jsx("button",{onClick:h,className:m?"text-white px-4 text-center py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150":"text-white px-4 text-center py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-300 hover:bg-quotee-400 transition-all ease-in-out duration-150",children:m?"Following":"Follow"}),R.jsx("div",{className:"border-b-2 border-quotee-100"}),R.jsx("div",{children:g.length!=0?g:R.jsx("h1",{className:"p-10 text-center",children:"No quotes yet"})})]})}const c=ii(wr(ze,"quotes"),ti("quotee","==",o.state),cc("createdAt","desc"));function d(){return Object.keys(n).length===0?["","","","","",""]:[n.followers.length,n.following.length,n.bio,n.quotes.length,n.name,n.username]}function f(){return i.length===0?[""]:[i==null?void 0:i.length]}Q.useEffect(()=>{RA==o.state&&e("/quotee/profile");const m=Pu(c,g=>{let x=[];g.forEach(T=>{let y=T.data();y.id=T.id,x.push(y)}),s(x)});return()=>{m()}},f()),Q.useEffect(()=>{const m=Pu(St(ze,"users",o.state),g=>{r(g.data())});return()=>{m()}},d());async function h(){await bo(St(ze,"users",Le.currentUser.uid)).then(async m=>{m=m.data();let g=m.following;g.includes(o.state)?g=g.filter(T=>T!=o.state):g.push(o.state),await Dr(St(ze,"users",Le.currentUser.uid),{following:g}).catch(T=>console.log(T));let x=n.followers;x.includes(Le.currentUser.uid)?x=x.filter(T=>T!=Le.currentUser.uid):x.push(Le.currentUser.uid),await Dr(St(ze,"users",o.state),{followers:x}).catch(T=>console.log(T))})}return R.jsx(Q.Suspense,{fallback:R.jsx(oA,{}),children:R.jsx(Qm,{resolve:t,children:l})})}async function UV({params:t}){let e=kr(),n;if(await bo(St(ze,"quotes",t.id)).then(r=>{n=r.data(),n.id=r.id}).catch(r=>console.log(r)),n.quotee!==e)throw Fr("/quotee/profile");return n}async function jV({request:t}){const e=await t.formData(),n=e.get("quote"),r=e.get("quoteBy"),i=e.get("id");return Dr(St(ze,"quotes",i),{quote:n,quoteBy:r}).catch(s=>console.log(s)),Fr("/quotee/profile")}function VV(){const t=ks(),e=Zh(),[n,r]=Q.useState({quote:e.quote,quoteBy:e.quoteBy});function i(s){r(o=>({...o,[s.target.name]:s.target.value}))}return R.jsxs("div",{className:"w-full text-quotee-600 flex flex-col justify-center items-center py-2 sm:px-10 sm:py-5 md:px-20 md:py-10",children:[R.jsx("h1",{className:"text-2xl mb-5 font-semibold py-3 text-center border-b sm:border-none border-quotee-200 w-full",children:"Edit Quote"}),R.jsxs(Cs,{method:"post",className:"w-full flex flex-col gap-5 px-5 justify-center",children:[R.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[R.jsx("label",{className:"text-lg font-semibold",htmlFor:"quote",children:"Quote"}),R.jsx("textarea",{className:"focus:outline-quotee-200 resize-none px-5 w-full py-2 rounded bg-quotee-100 placeholder:text-quotee-300",name:"quote",onChange:i,rows:"10",id:"quote",value:n.quote,required:!0,placeholder:"maybe the moon is beautiful because it is far"}),R.jsx("input",{type:"text",className:"hidden",id:"id",name:"id",value:e.id,onChange:()=>{}})]}),R.jsx("label",{className:"text-lg font-semibold",htmlFor:"quoteBy",children:"Quote by"}),R.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[R.jsx(nn,{id:"quoteBy",name:"quoteBy",require:!0,value:n.quoteBy,onChange:i,type:"text",placeholder:"Mahmoud Darwish"}),R.jsx("button",{className:t.state==="submitting"?"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150 animate-pulse":"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",type:"submit",disabled:t.state==="submitting",children:t.state==="submitting"?"Updating ...":"Update"})]})]})]})}function BV(){const t=Bi();return R.jsx(_T,{to:"/quotee/"+t.state.username,state:t.state.id,replace:!0})}function zV(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:" bg-quotee-50 flex justify-center items-center h-screen ",children:R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:" text-8xl font-semibold text-quotee-600",children:"404"}),R.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-quotee-600 sm:text-5xl",children:"Page not found"}),R.jsx("p",{className:"mt-6 text-base leading-7 text-quotee-400",children:"Sorry, we couldnt find the page youre looking for."}),R.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:R.jsx(Jn,{to:"/quotee",className:"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",children:"Go back to Home"})})]})})})}function qV(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:" bg-quotee-50 flex justify-center items-center h-screen ",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-quotee-600 sm:text-5xl",children:"Something went wrong"}),R.jsx("p",{className:"mt-6 text-base leading-7 text-quotee-400",children:"Pleace check your internet connection or refresh the page"}),R.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:R.jsx(Jn,{to:"/quotee",className:"text-white px-4 py-2 disabled:bg-quotee-600 disabled:cursor-not-allowed rounded bg-quotee-500 hover:bg-quotee-600 transition-all ease-in-out duration-150",children:"Go back to Home"})})]})})})}const $V=i8(Xm(R.jsxs(R.Fragment,{children:[R.jsxs(xn,{path:"/quotee",errorElement:R.jsx(qV,{}),element:R.jsx(gj,{}),children:[R.jsx(xn,{index:!0,loader:()=>kr(),element:R.jsx(mj,{})}),R.jsx(xn,{path:"profile",loader:Sj,element:R.jsx(Ij,{})}),R.jsx(xn,{path:"create",action:Yp,loader:()=>kr(),element:R.jsx(Rj,{})}),R.jsx(xn,{path:"create/:id",action:jV,loader:UV,element:R.jsx(VV,{})}),R.jsx(xn,{path:":id",action:Yp,loader:LV,element:R.jsx(FV,{})}),R.jsx(xn,{path:"search",action:Yp,loader:()=>kr(),element:R.jsx(OV,{})}),R.jsx(xn,{path:"profile/edit",action:dV,loader:cV,element:R.jsx(hV,{})}),R.jsx(xn,{path:"profile/edit/password",action:fV,loader:()=>kr(),element:R.jsx(pV,{})}),R.jsx(xn,{path:"profile/edit/email",loader:()=>kr(),action:W2,element:R.jsx(mV,{})}),R.jsx(xn,{path:"redirect",loader:()=>kr(),action:W2,element:R.jsx(BV,{})})]}),R.jsx(xn,{path:"quotee/recovery",action:oj,element:R.jsx(aj,{})}),R.jsx(xn,{path:"quotee/signup",loader:()=>(L2(),null),action:lj,element:R.jsx(uj,{})}),R.jsx(xn,{path:"quotee/login",loader:()=>(L2(),null),action:ij,element:R.jsx(sj,{})}),R.jsx(xn,{path:"*",element:R.jsx(zV,{})})]})));function HV(){return R.jsx(j6,{router:$V})}Qp.createRoot(document.getElementById("root")).render(R.jsx(HV,{}));
